!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(r=o.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"))?i:String(i)),o)}var r,i}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2051],{52051:function(e,o,r){r.r(o),r.d(o,{StockInHandReportModule:function(){return H}});var i=r(38583),d=r(63423),a=r(92340),u=r(3679),s=r(37716),l=r(35618),c=r(86640),g=r(26584),f=r(33013);function p(t,e){if(1&t){var n=s.EpF();s.TgZ(0,"div",24),s.TgZ(1,"h4"),s._uU(2),s.qZA(),s.TgZ(3,"span",25),s._UZ(4,"i",26),s._uU(5,"\xa0\xa0\xa0\xa0 "),s.TgZ(6,"input",27),s.NdJ("input",function(t){return s.CHM(n),s.oxw(),s.MAs(2).filterGlobal(t.target.value,"contains")}),s.qZA(),s.qZA(),s.qZA()}if(2&t){var o=s.oxw(2);s.xp6(2),s.AsE("Stock In Hand Agent: ",o.selectedAgentId,", Category: ",o.selectedProductCategoryId,"")}}function h(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2,"SL"),s.qZA(),s.TgZ(3,"th",28),s._uU(4,"Tag "),s._UZ(5,"p-sortIcon",29),s.qZA(),s.TgZ(6,"th",30),s._uU(7,"Model "),s._UZ(8,"p-sortIcon",31),s.qZA(),s.TgZ(9,"th",32),s._uU(10,"Size "),s._UZ(11,"p-sortIcon",33),s.qZA(),s.TgZ(12,"th",34),s._uU(13,"Category "),s._UZ(14,"p-sortIcon",35),s.qZA(),s.TgZ(15,"th",36),s._uU(16,"Agent "),s._UZ(17,"p-sortIcon",37),s.qZA(),s.TgZ(18,"th",38),s._uU(19),s._UZ(20,"p-sortIcon",39),s.qZA(),s.TgZ(21,"th",40),s._uU(22),s.ALo(23,"number"),s._UZ(24,"p-sortIcon",41),s.qZA(),s.TgZ(25,"th",42),s._uU(26,"Job "),s._UZ(27,"p-sortIcon",43),s.qZA(),s.qZA()),2&t){var n=s.oxw(2);s.xp6(19),s.hij("Qty (",n.totalQuantity,") "),s.xp6(3),s.hij("Gold (",s.xi3(23,2,n.totalGold,"1.3"),") ")}}function Z(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td",44),s._uU(14),s.qZA(),s.TgZ(15,"td",44),s._uU(16),s.ALo(17,"number"),s.qZA(),s.TgZ(18,"td",44),s._uU(19),s.qZA(),s.qZA()),2&t){var n=e.$implicit,o=e.rowIndex;s.xp6(2),s.Oqu(o+1),s.xp6(2),s.Oqu(n.tag),s.xp6(2),s.Oqu(n.modelNo),s.xp6(2),s.Oqu(n.modelSize),s.xp6(2),s.Oqu(n.productCategory),s.xp6(2),s.Oqu(n.agentShortName),s.xp6(2),s.Oqu(n.quantity),s.xp6(2),s.Oqu(s.xi3(17,9,n.gold,"1.3")),s.xp6(3),s.Oqu(n.jobId)}}function I(t,e){if(1&t&&(s.TgZ(0,"tr"),s._UZ(1,"td"),s._UZ(2,"td"),s._UZ(3,"td"),s._UZ(4,"td"),s._UZ(5,"td"),s._UZ(6,"td"),s.TgZ(7,"td",44),s._uU(8),s.qZA(),s.TgZ(9,"td",44),s._uU(10),s.ALo(11,"number"),s.qZA(),s._UZ(12,"td"),s.qZA()),2&t){var n=s.oxw(2);s.xp6(8),s.Oqu(n.totalQuantity),s.xp6(2),s.Oqu(s.xi3(11,2,n.totalGold,"1.3"))}}var y=function(){return[10,20,30,50,100,200,500,1e3,1e4]},A=function(){return["tag","modelNo","quantity","productCategory","modelSize"]};function m(t,e){if(1&t){var n=s.EpF();s.TgZ(0,"div",17),s.TgZ(1,"p-table",18,19),s.NdJ("onFilter",function(t){s.CHM(n);var e=s.MAs(2);return s.oxw().onFilter(t,e)}),s.YNc(3,p,7,2,"ng-template",20),s.YNc(4,h,28,5,"ng-template",21),s.YNc(5,Z,20,12,"ng-template",22),s.YNc(6,I,13,5,"ng-template",23),s.qZA(),s.qZA()}if(2&t){var o=s.oxw();s.xp6(1),s.Q6J("value",o.stocksInHandFiltered)("rows",1e4)("showCurrentPageReport",!0)("rowsPerPageOptions",s.DdM(7,y))("paginator",!0)("globalFilterFields",s.DdM(8,A))("responsive",!0)}}function q(t,e){if(1&t&&(s.TgZ(0,"div",45),s.TgZ(1,"div",46),s.TgZ(2,"div",47),s.TgZ(3,"div",48),s.TgZ(4,"pre"),s._uU(5),s.ALo(6,"json"),s._uU(7,"\n                    "),s.qZA(),s.qZA(),s.TgZ(8,"div",49),s.TgZ(9,"pre"),s._uU(10),s.ALo(11,"json"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){var n=s.oxw();s.xp6(5),s.hij("                        agents = ",s.lcZ(6,2,n.agents),"\n"),s.xp6(5),s.hij("                        stocksInHandFiltered = ",s.lcZ(11,4,n.stocksInHandFiltered),"\n                    ")}}var v,k=[{path:"",component:(v=function(){function e(n){var o=this;t(this,e),this.route=n,this.isProduction=a.N.production,this.selectedProductCategoryId=null,this.selectedAgentId=null,this.totalQuantity=0,this.totalGold=0,this.route.data.subscribe(function(t){o.agents=t.showItemStockResolver.agents.data,o.productCategories=t.showItemStockResolver.productCategories.data,o.stocksInHand=t.showItemStockResolver.stocksInHand.data,o.stocksInHandFiltered=t.showItemStockResolver.stocksInHand.data,o.totalQuantity=o.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),o.totalGold=o.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)}),this.reportForm=new u.cw({agentId:new u.NI("AG0000"),productCategoryId:new u.NI(0)})}return n(e,[{key:"ngOnInit",value:function(){}},{key:"stockByCategory",value:function(t,e){var n=this;t&&this.selectedAgentId&&(this.selectedProductCategoryId=t.ID,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.agentId===n.selectedAgentId&&t.productCategoryId===n.selectedProductCategoryId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)),!t&&this.selectedAgentId&&(this.selectedProductCategoryId=null,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.agentId===n.selectedAgentId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)),t&&!this.selectedAgentId&&(this.selectedProductCategoryId=t.ID,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.productCategoryId===n.selectedProductCategoryId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)),!t&&!this.selectedAgentId&&(this.selectedProductCategoryId=null,this.stocksInHandFiltered=this.stocksInHand,this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0))}},{key:"stockByAgent",value:function(t,e){var n=this;t&&this.selectedProductCategoryId&&(this.selectedAgentId=t.agent_id,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.agentId===n.selectedAgentId&&t.productCategoryId===n.selectedProductCategoryId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)),t&&!this.selectedProductCategoryId&&(this.selectedAgentId=t.agent_id,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.agentId===n.selectedAgentId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)),!t&&this.selectedProductCategoryId&&(this.selectedAgentId=null,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.productCategoryId===n.selectedProductCategoryId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)),!t&&this.selectedProductCategoryId&&(this.selectedAgentId=null,this.stocksInHandFiltered=this.stocksInHand,this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0))}},{key:"onFilter",value:function(t,e){e.filteredValue?(this.totalQuantity=e.filteredValue.reduce(function(t,e){return t+e.quantity},0),this.totalGold=e.filteredValue.reduce(function(t,e){return t+e.gold},0)):(this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0))}}]),e}(),v.\u0275fac=function(t){return new(t||v)(s.Y36(d.gz))},v.\u0275cmp=s.Xpm({type:v,selectors:[["app-stock-in-hand-report"]],decls:24,vars:5,consts:[[1,"d-flex","flex-column",2,"min-height","100vh"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"p-5","justify-content-xl-between"],[3,"formGroup"],[1,"form-row"],[1,"col"],["fxFlex","100"],["bindLabel","agent_name","bindValue","agent_id","formControlName","agentId","placeholder","Select Agent",1,"custom",3,"items","change"],["ref1",""],["bindLabel","category","bindValue","ID","formControlName","productCategoryId","placeholder","Select Category",1,"custom",3,"items","change"],["ref2",""],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"bloc_2","p-2","col-xl-10",2,"background-color","antiquewhite"],["class","p-2","style","border: 1px solid #454141; border-radius: 10px;",4,"ngIf"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive","onFilter"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search","mr-3"],["pInputText","","type","text","placeholder","Search keyword",1,"mt-3",3,"input"],["pSortableColumn","tag"],["field","tag"],["pSortableColumn","modelNo"],["field","modelNo"],["pSortableColumn","modelSize"],["field","modelSize"],["pSortableColumn","productCategory"],["field","productCategory"],["pSortableColumn","agentShortName"],["field","agentShortName"],["pSortableColumn","quantity"],["field","quantity"],["pSortableColumn","gold"],["field","gold"],["pSortableColumn","jobId"],["field","jobId"],[1,"text-right"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){var n=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2,"Stock In Hand Report"),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"form",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s.TgZ(8,"ng-select",7,8),s.NdJ("change",function(t){s.CHM(n);var o=s.MAs(9);return e.stockByAgent(t,o)}),s.qZA(),s.qZA(),s.qZA(),s._UZ(10,"div",5),s.qZA(),s.TgZ(11,"div",4),s.TgZ(12,"div",5),s.TgZ(13,"div",6),s.TgZ(14,"ng-select",9,10),s.NdJ("change",function(t){s.CHM(n);var o=s.MAs(15);return e.stockByCategory(t,o)}),s.qZA(),s.qZA(),s.qZA(),s._UZ(16,"div",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",11),s.TgZ(18,"div",12),s.TgZ(19,"div",13),s.YNc(20,m,7,9,"div",14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"div",15),s._uU(22,"I am footer, i will stay here"),s.qZA(),s.qZA(),s.YNc(23,q,12,6,"div",16)}2&t&&(s.xp6(4),s.Q6J("formGroup",e.reportForm),s.xp6(4),s.Q6J("items",e.agents),s.xp6(6),s.Q6J("items",e.productCategories),s.xp6(6),s.Q6J("ngIf",e.stocksInHand.length>0),s.xp6(3),s.Q6J("ngIf",!e.isProduction))},directives:[u._Y,u.JL,u.sg,l.yH,c.w9,u.JJ,u.u,i.O5,g.iA,f.jx,g.lQ,g.fz,l.xw,l.SQ,l.Wh],pipes:[i.JJ,i.Ts],styles:[""]}),v)}],x=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[d.Bz.forChild(k)],d.Bz]}),e}(),T=r(76627),b=r(49983),C=r(51095),H=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,x,g.U$,c.A0,l.ae,T.Ps,u.u5,u.UX,b.c,C.ot]]}),e}()}}])}();