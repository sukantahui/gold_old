!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(n=r.key,a=void 0,"symbol"==typeof(a=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(n,"string"))?a:String(a)),r)}var n,a}function o(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[5413],{75413:function(e,r,n){n.r(r),n.d(r,{DateFormats:function(){return J},GRI_DATE_FORMATS:function(){return Q},ProductSaleModule:function(){return O}});var a=n(38583),i=n(63423),l=n(92340),u=n(3679),p=n(37716),s=n(82820),c=n(5620),d=n(72458),g=n(98295),Z=n(49983),m=n(43220),f=n(4207),v=n(26584),q=n(33013),A=n(95913),h=n(76627);function T(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"div",28),p.TgZ(1,"h4"),p._uU(2),p.qZA(),p.TgZ(3,"span",29),p._UZ(4,"i",30),p.TgZ(5,"input",31),p.NdJ("input",function(t){return p.CHM(o),p.oxw(),p.MAs(2).filterGlobal(t.target.value,"contains")}),p.qZA(),p.qZA(),p.TgZ(6,"button",32),p.TgZ(7,"mat-icon"),p._uU(8,"print"),p.qZA(),p.qZA(),p.TgZ(9,"button",33),p.NdJ("click",function(){return p.CHM(o),p.oxw(2).commonService.exportToExcel("printable-model-table","best_sale")}),p.TgZ(10,"mat-icon"),p._uU(11,"cloud_download"),p.qZA(),p.qZA(),p.qZA()}if(2&t){var r=p.oxw(2);p.xp6(2),p.hij("Selected Model or category: ",r.selectedModel,""),p.xp6(4),p.Q6J("useExistingCss",!0)}}function b(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"SL"),p.qZA(),p.TgZ(3,"th",34),p._uU(4,"Model "),p._UZ(5,"p-sortIcon",35),p.qZA(),p.TgZ(6,"th",36),p._uU(7,"Category "),p._UZ(8,"p-sortIcon",37),p.qZA(),p.TgZ(9,"th",38),p._uU(10,"Qty "),p._UZ(11,"p-sortIcon",39),p.qZA(),p.qZA())}function _(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p.TgZ(4,"button",40),p.NdJ("click",function(){var t=p.CHM(o).$implicit;return p.oxw(2).showSaleReportByModel(t.model_no)}),p._uU(5),p.qZA(),p.qZA(),p.TgZ(6,"td"),p._uU(7),p.qZA(),p.TgZ(8,"td"),p._uU(9),p.qZA(),p.qZA()}if(2&t){var r=e.$implicit,n=e.rowIndex;p.xp6(2),p.Oqu(n+1),p.xp6(3),p.hij(" ",r.model_no," "),p.xp6(2),p.Oqu(r.category),p.xp6(2),p.Oqu(r.sale_qty)}}var x=function(){return[20,30,50]},S=function(){return["model_no","sale_qty","category"]};function y(t,e){if(1&t&&(p.TgZ(0,"div",22),p.TgZ(1,"p-table",23,24),p.YNc(3,T,12,2,"ng-template",25),p.YNc(4,b,12,0,"ng-template",26),p.YNc(5,_,10,4,"ng-template",27),p.qZA(),p.qZA()),2&t){var o=p.oxw();p.xp6(1),p.Q6J("value",o.modelWiseSales)("rows",5e3)("showCurrentPageReport",!0)("rowsPerPageOptions",p.DdM(7,x))("paginator",!0)("globalFilterFields",p.DdM(8,S))("responsive",!0)}}function w(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"div",28),p.TgZ(1,"h4"),p._uU(2),p.qZA(),p.TgZ(3,"span",29),p._UZ(4,"i",30),p.TgZ(5,"input",42),p.NdJ("input",function(t){return p.CHM(o),p.oxw(),p.MAs(2).filterGlobal(t.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}if(2&t){var r=p.oxw(2);p.xp6(2),p.hij("Selected Model: ",r.selectedModel,"")}}function U(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"SL"),p.qZA(),p.TgZ(3,"th",43),p._uU(4,"Date "),p._UZ(5,"p-sortIcon",44),p.qZA(),p.TgZ(6,"th",45),p._uU(7,"Cust ID "),p._UZ(8,"p-sortIcon",46),p.qZA(),p.TgZ(9,"th",47),p._uU(10,"Customer "),p._UZ(11,"p-sortIcon",48),p.qZA(),p.TgZ(12,"th",49),p._uU(13,"Agent "),p._UZ(14,"p-sortIcon",50),p.qZA(),p.TgZ(15,"th",51),p._uU(16,"Bill No. "),p._UZ(17,"p-sortIcon",52),p.qZA(),p.TgZ(18,"th",38),p._uU(19,"Sale "),p._UZ(20,"p-sortIcon",39),p.qZA(),p.qZA())}function M(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._uU(12),p.qZA(),p.TgZ(13,"td"),p._uU(14),p.qZA(),p.qZA()),2&t){var o=e.$implicit,r=e.rowIndex;p.xp6(2),p.Oqu(r+1),p.xp6(2),p.Oqu(o.bill_date),p.xp6(2),p.Oqu(o.cust_id),p.xp6(2),p.Oqu(o.cust_name),p.xp6(2),p.Oqu(o.agent),p.xp6(2),p.Oqu(o.bill_no),p.xp6(2),p.Oqu(o.sale_qty)}}var D=function(){return["cust_id","cust_name","agent","bill_date"]};function I(t,e){if(1&t&&(p.TgZ(0,"div",22),p.TgZ(1,"p-table",41,24),p.YNc(3,w,6,1,"ng-template",25),p.YNc(4,U,21,0,"ng-template",26),p.YNc(5,M,15,7,"ng-template",27),p.qZA(),p.qZA()),2&t){var o=p.oxw();p.xp6(1),p.Q6J("value",o.sales)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",p.DdM(7,x))("paginator",!0)("globalFilterFields",p.DdM(8,D))("responsive",!0)}}function C(t,e){if(1&t&&(p.TgZ(0,"div",53),p.TgZ(1,"div",54),p.TgZ(2,"div",55),p.TgZ(3,"div",56),p.TgZ(4,"pre"),p._uU(5),p.ALo(6,"json"),p.qZA(),p.qZA(),p.TgZ(7,"div",57),p.TgZ(8,"pre"),p._uU(9,"\n                    "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){var o=p.oxw();p.xp6(5),p.hij("                        sales=",p.lcZ(6,1,o.sales),"\n                    ")}}var L,Y=[{path:"",component:(L=function(){function e(o,r,n){t(this,e),this.reportService=o,this.commonService=r,this.adapter=n,this.isProduction=l.N.production,this.isLoading=!1,this.isLoadingSale=!1,this.sales=[],this.adapter.setLocale("in");var a=new Date,i=new Date;this.reportForm=new u.cw({startDate:new u.NI(a),startDateSql:new u.NI(null),endDate:new u.NI(i),endDateSql:new u.NI(null),reportLimit:new u.NI(5e3)})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"loadSaleReport",value:function(t,e){var o=this;this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)}),this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(e)}),this.isLoading=!0,this.reportService.getModelWiseSaleReport(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,this.reportForm.value.reportLimit).subscribe(function(t){o.modelWiseSales=t.data,o.isLoading=!1})}},{key:"setStartDateSQL",value:function(t){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)})}},{key:"setEndDateSQL",value:function(t){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)})}},{key:"showSaleReportByModel",value:function(t){var e=this;this.selectedModel=t,this.reportService.getSaleByModel(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,t).subscribe(function(t){console.log(t.data),e.sales=t.data})}}]),e}(),L.\u0275fac=function(t){return new(t||L)(p.Y36(s.r),p.Y36(c.v),p.Y36(d._A))},L.\u0275cmp=p.Xpm({type:L,selectors:[["app-product-sale"]],decls:35,vars:14,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["type","number","matInput","","name","value","placeholder","Limit","formControlName","reportLimit",1,"form-control"],["limit",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],[1,"table-div","col-6"],["class","p-2","style","border: 1px solid #454141; border-radius: 10px;",4,"ngIf"],[1,"col-6"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","id","printable-model-table",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"text-right",3,"input"],["mat-button","","color","primary","printSectionId","printable-model-table","styleSheetFile","assets/print_css/general_print.css","ngxPrint","",1,"no-print","ml-5",3,"useExistingCss"],["mat-button","","color","primary",1,"ml-5",3,"click"],["pSortableColumn","model_no"],["field","model_no"],["pSortableColumn","category"],["field","category"],["pSortableColumn","sale_qty"],["field","sale_qty"],["pButton","","type","button",1,"p-button-link",3,"click"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["pInputText","","type","text","placeholder","Search keyword",1,"text-right",3,"input"],["pSortableColumn","bill_date"],["field","bill_date"],["pSortableColumn","cust_id"],["field","cust_id"],["pSortableColumn","cust_name"],["field","cust_name"],["pSortableColumn","agent"],["field","agent"],["pSortableColumn","bill_no"],["field","bill_no"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"form",3),p.TgZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"mat-form-field",6),p.TgZ(7,"mat-label"),p._uU(8,"Start Date"),p.qZA(),p.TgZ(9,"input",7,8),p.NdJ("dateInput",function(){p.CHM(o);var t=p.MAs(10);return e.setStartDateSQL(t.value)}),p.qZA(),p._UZ(11,"mat-datepicker-toggle",9),p._UZ(12,"mat-datepicker",10,11),p.qZA(),p.TgZ(14,"mat-form-field",6),p.TgZ(15,"mat-label"),p._uU(16,"End Date"),p.qZA(),p.TgZ(17,"input",12,13),p.NdJ("dateInput",function(){p.CHM(o);var t=p.MAs(18);return e.setEndDateSQL(t.value)}),p.qZA(),p._UZ(19,"mat-datepicker-toggle",9),p._UZ(20,"mat-datepicker",10,14),p.qZA(),p.qZA(),p.TgZ(22,"div",5),p.TgZ(23,"mat-form-field"),p._UZ(24,"input",15,16),p.qZA(),p.TgZ(26,"div"),p._uU(27),p.qZA(),p.TgZ(28,"button",17),p.NdJ("click",function(){p.CHM(o);var t=p.MAs(10),r=p.MAs(18);return e.loadSaleReport(t.value,r.value)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"div",1),p.TgZ(30,"div",18),p.YNc(31,y,6,9,"div",19),p.qZA(),p.TgZ(32,"div",20),p.YNc(33,I,6,9,"div",19),p.qZA(),p.qZA(),p.qZA(),p.YNc(34,C,10,3,"div",21)}if(2&t){var r=p.MAs(10),n=p.MAs(13),a=p.MAs(18),i=p.MAs(21),l=p.MAs(25);p.xp6(3),p.Q6J("formGroup",e.reportForm),p.xp6(6),p.Q6J("matDatepicker",n),p.xp6(2),p.Q6J("for",n),p.xp6(1),p.Q6J("opened",!0),p.xp6(5),p.Q6J("matDatepicker",i),p.xp6(2),p.Q6J("for",i),p.xp6(1),p.Q6J("opened",!1),p.xp6(7),p.lnq("Show me first ",l.value," Model Sale from ",r.value," to ",a.value,""),p.xp6(1),p.Q6J("loading",e.isLoading),p.xp6(3),p.Q6J("ngIf",e.modelWiseSales),p.xp6(2),p.Q6J("ngIf",e.sales.length>0),p.xp6(1),p.Q6J("ngIf",!e.isProduction)}},directives:[u._Y,u.JL,u.sg,g.KE,g.hX,Z.Nt,u.Fj,m.hl,u.JJ,u.u,m.nW,g.R9,m.Mq,u.wV,f.Hq,a.O5,v.iA,q.jx,A.I,h.Hw,v.lQ,v.fz],pipes:[a.Ts],styles:[""]}),L)}],k=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[i.Bz.forChild(Y)],i.Bz]}),e}(),F=n(70705),N=n(80291),J={parse:{dateInput:["YYYY-MM-DD"]},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Q=Object.assign(Object.assign({},d.Dl),{display:Object.assign(Object.assign({},d.Dl.display),{dateInput:{year:"numeric",month:"short",day:"numeric"}})}),O=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({providers:[],imports:[[a.ez,k,m.FA,Z.c,h.Ps,d.XK,u.UX,f.hJ,v.U$,F.L$,N.pm,A.K]]}),e}()}}])}();