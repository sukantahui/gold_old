"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[3748],{73748:function(e,t,n){n.r(t),n.d(t,{PanCreationModule:function(){return w}});var a=n(38583),o=n(63423),r=n(92340),i=n(3679),l=n(88259),c=n.n(l),s=n(37716),u=n(91841),g=n(57916),Z=n(86640),p=n(98295),d=n(49983),m=n(51095),v=n(42542),h=n(65939);function f(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td",24),s._uU(4),s.ALo(5,"number"),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Oqu(e.rawMaterialName),s.xp6(2),s.Oqu(s.xi3(5,2,e.closingBalance,"1.3"))}}function A(e,t){if(1&e&&(s.TgZ(0,"div",19),s.TgZ(1,"h3"),s._uU(2,"Material balance before conversion"),s.qZA(),s.TgZ(3,"table",20),s.TgZ(4,"thead"),s.TgZ(5,"tr"),s.TgZ(6,"th",21),s._uU(7,"Material Name"),s.qZA(),s.TgZ(8,"th",22),s._uU(9,"Value"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"tbody"),s.YNc(11,f,6,5,"tr",23),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(11),s.Q6J("ngForOf",e.managerMaterialBalance)}}function q(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td",24),s._uU(4),s.ALo(5,"number"),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Oqu(e.rawMaterialName),s.xp6(2),s.Oqu(s.xi3(5,2,e.closingBalance,"1.3"))}}function b(e,t){if(1&e&&(s.TgZ(0,"div",19),s.TgZ(1,"h3"),s._uU(2,"Material balance after conversion"),s.qZA(),s.TgZ(3,"table",25),s.TgZ(4,"thead"),s.TgZ(5,"tr"),s.TgZ(6,"th",26),s._uU(7,"Material Name"),s.qZA(),s.TgZ(8,"th",21),s._uU(9,"Value"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"tbody"),s.YNc(11,q,6,5,"tr",23),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(11),s.Q6J("ngForOf",e.materialBalanceUpdated)}}function T(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"mat-button-toggle-group",27),s.TgZ(1,"mat-button-toggle",28),s.NdJ("click",function(){return s.CHM(e),s.oxw().showDeveloperDiv=!0}),s._uU(2,"Show"),s.qZA(),s.TgZ(3,"mat-button-toggle",28),s.NdJ("click",function(){return s.CHM(e),s.oxw().showDeveloperDiv=!1}),s._uU(4,"Hide"),s.qZA(),s.qZA()}}function x(e,t){if(1&e&&(s.TgZ(0,"div",29),s.TgZ(1,"div",30),s.TgZ(2,"h2"),s._uU(3,"Developer Area"),s.qZA(),s.TgZ(4,"mat-tab-group",31),s.TgZ(5,"mat-tab",32),s.TgZ(6,"pre"),s._uU(7),s.ALo(8,"json"),s.qZA(),s.qZA(),s.TgZ(9,"mat-tab",33),s.TgZ(10,"pre"),s._uU(11),s.ALo(12,"json"),s.qZA(),s.qZA(),s.TgZ(13,"mat-tab",34),s.TgZ(14,"pre"),s._uU(15,"\n                "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(7),s.hij("                    materialBalance = ",s.lcZ(8,2,e.managerMaterialBalance),"\n                "),s.xp6(4),s.hij("                    panConversionForm = ",s.lcZ(12,4,e.panConversionForm.value),"\n                ")}}const _=[{path:"",component:(()=>{class e{constructor(e,t,n){this.route=e,this.http=t,this.managerService=n,this.isProduction=r.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(e=>{this.managerMaterialBalance=e.panCreationResolver.managerMaterialBalance.data,this.user=e.panCreationResolver.user,this.karigars=e.panCreationResolver.karigars.data}),this.panConversionForm=new i.cw({karigar_id:new i.NI(76,[i.kI.required]),ninety_two_gini_value:new i.NI(0,[i.kI.required,i.kI.min(.001)]),zinc_value:new i.NI(0,[i.kI.required,i.kI.min(.001)]),dal_value:new i.NI(0,[i.kI.required,i.kI.min(.001)]),pan_value:new i.NI(0,[i.kI.required,i.kI.min(.001)])})}ngOnInit(){}onGiniChange(e){}resetForm(){this.savedResponse&&(this.managerMaterialBalance=this.savedResponse.data.material_balance,this.savedResponse=null),this.panConversionForm.reset()}savePanConversion(){c().fire({title:"Pan Creation",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.savePanCreation(this.panConversionForm.value).subscribe(e=>{!0===e.status&&(c().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e,this.materialBalanceUpdated=e.data.material_balance,this.panConversionForm.markAsPristine())},e=>{c().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.gz),s.Y36(u.eN),s.Y36(g.b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-pan-creation"]],decls:41,vars:7,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","ninety_two_gini_value","placeholder","Gini",1,"text-right",3,"keyup"],["giniValue",""],["type","number","matInput","","formControlName","zinc_value","placeholder","Zinc",1,"text-right"],["type","number","matInput","","formControlName","dal_value","placeholder","dal",1,"text-right"],["type","number","matInput","","formControlName","pan_value","placeholder","Dal",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-dark","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col",2,"border-radius","20px"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h3"),s._uU(3,"PAN Conversion"),s.qZA(),s.TgZ(4,"form",2),s._UZ(5,"ng-select",3),s.TgZ(6,"div"),s.TgZ(7,"mat-form-field",4),s.TgZ(8,"mat-label"),s._uU(9,"Enter 92 Gini"),s.qZA(),s.TgZ(10,"input",5,6),s.NdJ("keyup",function(){s.CHM(e);const n=s.MAs(11);return t.onGiniChange(n)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div"),s.TgZ(13,"mat-form-field",4),s.TgZ(14,"mat-label"),s._uU(15,"Zinc Value"),s.qZA(),s._UZ(16,"input",7),s.qZA(),s.qZA(),s.TgZ(17,"div"),s.TgZ(18,"mat-form-field",4),s.TgZ(19,"mat-label"),s._uU(20,"Enter Dal"),s.qZA(),s._UZ(21,"input",8),s.qZA(),s.qZA(),s.TgZ(22,"div"),s.TgZ(23,"mat-form-field",4),s.TgZ(24,"mat-label"),s._uU(25,"Pan Valuation"),s.qZA(),s._UZ(26,"input",9),s.qZA(),s.qZA(),s.TgZ(27,"div",10),s.TgZ(28,"div",11),s.TgZ(29,"div",12),s.TgZ(30,"button",13),s.NdJ("click",function(){return t.resetForm()}),s._uU(31,"Reset"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(32,"div",11),s.TgZ(33,"div",12),s.TgZ(34,"button",14),s.NdJ("click",function(){return t.savePanConversion()}),s._uU(35,"Save Record"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"div",15),s.YNc(37,A,12,1,"div",16),s.YNc(38,b,12,1,"div",16),s.qZA(),s.qZA(),s.YNc(39,T,5,0,"mat-button-toggle-group",17),s.YNc(40,x,16,6,"div",18)}2&e&&(s.xp6(4),s.Q6J("formGroup",t.panConversionForm),s.xp6(1),s.Q6J("items",t.karigars),s.xp6(29),s.Q6J("disabled",!t.panConversionForm.valid||t.panConversionForm.pristine),s.xp6(3),s.Q6J("ngIf",t.managerMaterialBalance),s.xp6(1),s.Q6J("ngIf",t.savedResponse),s.xp6(1),s.Q6J("ngIf",!t.isProduction),s.xp6(1),s.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[i._Y,i.JL,i.sg,Z.w9,i.JJ,i.u,p.KE,p.hX,i.wV,d.Nt,i.Fj,m.lW,a.O5,a.sg,v.A9,v.Yi,h.SP,h.uX],pipes:[a.JJ,a.Ts],styles:[""]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.Bz.forChild(_)],o.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.ez,C,h.Nh,p.lN,i.UX,d.c,v.vV,h.Nh,Z.A0,m.ot]]}),e})()}}]);