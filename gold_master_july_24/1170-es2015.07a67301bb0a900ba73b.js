"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[1170],{31170:function(e,t,r){r.r(t),r.d(t,{FineReturnedToOwnerReportModule:function(){return U}});var o=r(38583),n=r(63423),a=r(92340),i=r(3679),p=r(37716),c=r(82820),l=r(5620),d=r(72458),s=r(98295),u=r(49983),Z=r(43220),m=r(4207),g=r(26584),f=r(33013);function A(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",24),p.TgZ(1,"div",25),p._UZ(2,"i",26),p.TgZ(3,"input",27),p.NdJ("input",function(t){return p.CHM(e),p.oxw(),p.MAs(29).filterGlobal(t.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}}function q(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"SL"),p.qZA(),p.TgZ(3,"th",28),p._uU(4,"Date "),p._UZ(5,"p-sortIcon",29),p.qZA(),p.TgZ(6,"th",30),p._uU(7,"Reference "),p._UZ(8,"p-sortIcon",31),p.qZA(),p.TgZ(9,"th",32),p._uU(10,"Employee "),p._UZ(11,"p-sortIcon",33),p.qZA(),p.TgZ(12,"th",34),p._uU(13,"Gold "),p._UZ(14,"p-sortIcon",35),p.qZA(),p.TgZ(15,"th",36),p._uU(16,"Comment "),p._UZ(17,"p-sortIcon",37),p.qZA(),p.qZA())}function h(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td",38),p._uU(10),p.ALo(11,"number"),p.qZA(),p.TgZ(12,"td"),p._uU(13),p.qZA(),p.qZA()),2&e){const e=t.$implicit,r=t.rowIndex;p.xp6(2),p.Oqu(r+1),p.xp6(2),p.Oqu(e.formatted_date),p.xp6(2),p.Oqu(e.receiver_reference),p.xp6(2),p.Oqu(e.sender_name),p.xp6(2),p.Oqu(p.xi3(11,6,e.inward_to_owner,"1.3")),p.xp6(3),p.Oqu(e.comment)}}function T(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",39),p._uU(2,"Total"),p.qZA(),p.TgZ(3,"td",38),p._uU(4),p.ALo(5,"number"),p.qZA(),p._UZ(6,"td"),p.qZA()),2&e){const e=p.oxw();p.xp6(4),p.Oqu(p.xi3(5,1,e.totalGold,"1.3"))}}function _(e,t){if(1&e&&(p.TgZ(0,"div",40),p.TgZ(1,"div",41),p.TgZ(2,"div",42),p.TgZ(3,"div",43),p.TgZ(4,"pre"),p._uU(5),p.ALo(6,"json"),p.qZA(),p.qZA(),p.TgZ(7,"div",44),p.TgZ(8,"pre"),p._uU(9,"\n                    "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(5),p.hij("                        records = ",p.lcZ(6,1,e.records),"\n                    ")}}const v=function(){return[20,30,50,100,400,600,1e3,5e3]},x=function(){return["comment","sender_name","receiver_reference"]},w=[{path:"",component:(()=>{class e{constructor(e,t,r){this.reportService=e,this.commonService=t,this.adapter=r,this.isProduction=a.N.production,this.isLoading=!1,this.totalGold=0,this.adapter.setLocale("in");const o=new Date,n=new Date;this.reportForm=new i.cw({startDate:new i.NI(o),startDateSql:new i.NI(null),endDate:new i.NI(n),endDateSql:new i.NI(null),reportLimit:new i.NI(50)})}setStartDateSQL(e){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(e)})}setEndDateSQL(e){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(e)})}ngOnInit(){}loadReport(e,t){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(e)}),this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)}),this.isLoading=!0,this.reportService.getFineWithdrawnByOwner(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql).subscribe(e=>{this.records=e.data,this.totalGold=this.records.map(e=>e.inward_to_owner).reduce((e,t)=>e+t),this.isLoading=!1})}onFilter(e,t){this.totalGold=t.filteredValue.map(e=>e.inward_to_owner).reduce((e,t)=>e+t)}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(c.r),p.Y36(l.v),p.Y36(d._A))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-fine-returned-to-owner-report"]],decls:35,vars:20,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive","onFilter"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["id","developer-div",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"text-right",3,"input"],["pSortableColumn","formatted_date"],["field","formatted_date"],["pSortableColumn","receiver_reference"],["field","receiver_reference"],["pSortableColumn","sender_name"],["field","sender_name"],["pSortableColumn","inward_to_owner"],["field","inward_to_owner"],["pSortableColumn","comment"],["field","comment"],[1,"text-right"],["colspan","4"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"form",3),p.TgZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"mat-form-field",6),p.TgZ(7,"mat-label"),p._uU(8,"Start Date"),p.qZA(),p.TgZ(9,"input",7,8),p.NdJ("dateInput",function(){p.CHM(e);const r=p.MAs(10);return t.setStartDateSQL(r.value)}),p.qZA(),p._UZ(11,"mat-datepicker-toggle",9),p._UZ(12,"mat-datepicker",10,11),p.qZA(),p.TgZ(14,"mat-form-field",6),p.TgZ(15,"mat-label"),p._uU(16,"End Date"),p.qZA(),p.TgZ(17,"input",12,13),p.NdJ("dateInput",function(){p.CHM(e);const r=p.MAs(18);return t.setEndDateSQL(r.value)}),p.qZA(),p._UZ(19,"mat-datepicker-toggle",9),p._UZ(20,"mat-datepicker",10,14),p.qZA(),p.qZA(),p.TgZ(22,"div",5),p.TgZ(23,"div"),p._uU(24),p.qZA(),p.TgZ(25,"button",15),p.NdJ("click",function(){p.CHM(e);const r=p.MAs(10),o=p.MAs(18);return t.loadReport(r.value,o.value)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(26,"div",1),p.TgZ(27,"div",16),p.TgZ(28,"p-table",17,18),p.NdJ("onFilter",function(r){p.CHM(e);const o=p.MAs(29);return t.onFilter(r,o)}),p.YNc(30,A,4,0,"ng-template",19),p.YNc(31,q,18,0,"ng-template",20),p.YNc(32,h,14,9,"ng-template",21),p.YNc(33,T,7,4,"ng-template",22),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(34,_,10,3,"div",23)}if(2&e){const e=p.MAs(10),r=p.MAs(13),o=p.MAs(18),n=p.MAs(21);p.xp6(3),p.Q6J("formGroup",t.reportForm),p.xp6(6),p.Q6J("matDatepicker",r),p.xp6(2),p.Q6J("for",r),p.xp6(1),p.Q6J("opened",!0),p.xp6(5),p.Q6J("matDatepicker",n),p.xp6(2),p.Q6J("for",n),p.xp6(1),p.Q6J("opened",!1),p.xp6(4),p.AsE("Fine Withdrawn from ",e.value," to ",o.value,""),p.xp6(1),p.Q6J("loading",t.isLoading),p.xp6(3),p.Q6J("value",t.records)("rows",1e3)("showCurrentPageReport",!0)("rowsPerPageOptions",p.DdM(18,v))("paginator",!0)("globalFilterFields",p.DdM(19,x))("responsive",!0),p.xp6(6),p.Q6J("ngIf",!t.isProduction)}},directives:[i._Y,i.JL,i.sg,s.KE,s.hX,u.Nt,i.Fj,Z.hl,i.JJ,i.u,Z.nW,s.R9,Z.Mq,m.Hq,g.iA,f.jx,o.O5,g.lQ,g.fz],pipes:[o.JJ,o.Ts],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.Bz.forChild(w)],n.Bz]}),e})();var D=r(70705);let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[o.ez,S,Z.FA,u.c,d.XK,i.UX,m.hJ,g.U$,D.L$]]}),e})()}}]);