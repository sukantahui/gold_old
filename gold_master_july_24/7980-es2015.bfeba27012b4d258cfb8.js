"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[7980],{87980:function(e,t,o){o.r(t),o.d(t,{FineToNinetyTwoModule:function(){return w}});var n=o(38583),i=o(63423),r=o(92340),a=o(3679),l=o(88259),s=o.n(l),u=o(37716),c=o(91841),p=o(57916),d=o(86640),g=o(98295),Z=o(49983),m=o(51095),v=o(42542);function h(e,t){1&e&&(u.TgZ(0,"h2"),u._uU(1,"Previous balance"),u.qZA())}function f(e,t){1&e&&(u.TgZ(0,"h2"),u._uU(1,"Current balance"),u.qZA())}function T(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(e.rawMaterialName),u.xp6(2),u.Oqu(e.closingBalance)}}function b(e,t){1&e&&(u.TgZ(0,"h2"),u._uU(1,"Current balance"),u.qZA())}function q(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(e.rawMaterialName),u.xp6(2),u.Oqu(e.closingBalance)}}function A(e,t){if(1&e&&(u.TgZ(0,"div",1),u.YNc(1,b,2,0,"h2",16),u.TgZ(2,"table",23),u.TgZ(3,"thead"),u.TgZ(4,"tr"),u.TgZ(5,"th",18),u._uU(6,"Material Name"),u.qZA(),u.TgZ(7,"th",18),u._uU(8,"Value"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"tbody",24),u.YNc(10,q,5,2,"tr",19),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.SavedResponse),u.xp6(9),u.Q6J("ngForOf",e.SavedResponse.data.material_balance)}}function x(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"mat-button-toggle-group",25),u.TgZ(1,"mat-button-toggle",26),u.NdJ("click",function(){return u.CHM(e),u.oxw().showDeveloperDiv=!0}),u._uU(2,"Show"),u.qZA(),u.TgZ(3,"mat-button-toggle",26),u.NdJ("click",function(){return u.CHM(e),u.oxw().showDeveloperDiv=!1}),u._uU(4,"Hide"),u.qZA(),u.qZA()}}function C(e,t){if(1&e&&(u.TgZ(0,"div",27),u.TgZ(1,"div",0),u.TgZ(2,"div",28),u.TgZ(3,"pre"),u._uU(4),u.ALo(5,"json"),u.qZA(),u.qZA(),u.TgZ(6,"div",28),u.TgZ(7,"pre"),u._uU(8),u.ALo(9,"json"),u.qZA(),u.qZA(),u.TgZ(10,"div",28),u.TgZ(11,"pre"),u._uU(12),u.ALo(13,"json"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(4),u.hij("                goldConversionForm = ",u.lcZ(5,3,e.goldConversionForm.value),"\n            "),u.xp6(4),u.hij("                extraCopperValue= ",u.lcZ(9,5,e.extraCopperValue),"\n            "),u.xp6(4),u.hij("                SavedResponse= ",u.lcZ(13,7,e.SavedResponse),"\n            ")}}const _=[{path:"",component:(()=>{class e{constructor(e,t,o){this.route=e,this.http=t,this.managerService=o,this.isProduction=r.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(e=>{this.materialBalance=e.fineToNinetyTwoResolver.materialBalance.data,this.user=e.fineToNinetyTwoResolver.user,this.karigars=e.fineToNinetyTwoResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(e=>{this.projectDetails=e}),this.goldConversionForm=new a.cw({employee_id:new a.NI(this.user.emp_id,[a.kI.required]),karigar_id:new a.NI(null,[a.kI.required]),fine_gold_id:new a.NI(36,[a.kI.required]),copper_id:new a.NI(37,[a.kI.required]),gini_id:new a.NI(48,[a.kI.required]),fine_gold_value:new a.NI(0,[a.kI.required]),copper_value:new a.NI({value:0,disables:!1},[a.kI.required]),gini_value:new a.NI({value:0,disabled:!1},[a.kI.required,a.kI.min(.001)])})}ngOnInit(){}onFineGoldChange(e,t){const o=this.projectDetails.fineToNinetyTwoRatio.fine,n=this.projectDetails.fineToNinetyTwoRatio.copper;this.extraCopperValue=.001*Number(e.value),this.expectedCopperValue=Number((e.value*(n/o)+this.extraCopperValue).toFixed(3)),this.goldConversionForm.patchValue({copper_value:this.expectedCopperValue.toFixed(3)}),this.expectedGiniValue=Number(e.value)+this.expectedCopperValue-this.extraCopperValue,this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue.toFixed(3)})}onCopperChange(e,t){this.expectedGiniValue=Number((Number(e.value)+Number(t.value)).toFixed(3)),this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue})}resetForm(){this.SavedResponse&&(this.materialBalance=this.SavedResponse.data.material_balance,this.SavedResponse=null),this.goldConversionForm.reset()}saveGoldConversion(){s().fire({title:"Fine to 92 Conversion",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{e.value?this.managerService.saveFineToNinetyTwo(this.goldConversionForm.value).subscribe(e=>{!0===e.status&&(s().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.SavedResponse=e,this.goldConversionForm.reset())},e=>{s().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})}):e.dismiss===s().DismissReason.cancel&&s().fire("Cancelled")})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(i.gz),u.Y36(c.eN),u.Y36(p.b))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-fine-to-ninety-two"]],decls:46,vars:9,consts:[[1,"d-flex","flex-row"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","fine_gold_value","placeholder","Fine Gold",1,"text-right",3,"keyup"],["fineGoldValue",""],["type","number","readonly","","matInput","","formControlName","copper_value","placeholder","Copper",1,"text-right",3,"keyup"],["copperValue",""],[1,"mt-3"],["type","number","readonly","","matInput","","formControlName","gini_value","placeholder","92 Gold",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[4,"ngIf"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-4",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"table","col-xl-12","col-lg-12","col-xs-12"],[2,"border","1px solid #10e523"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"p-2"]],template:function(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"form",2),u._UZ(3,"ng-select",3),u.TgZ(4,"div"),u.TgZ(5,"mat-form-field",4),u.TgZ(6,"mat-label"),u._uU(7,"Enter Fine Gold"),u.qZA(),u.TgZ(8,"input",5,6),u.NdJ("keyup",function(){u.CHM(e);const o=u.MAs(9),n=u.MAs(15);return t.onFineGoldChange(o,n)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div"),u.TgZ(11,"mat-form-field",4),u.TgZ(12,"mat-label"),u._uU(13,"Enter Copper"),u.qZA(),u.TgZ(14,"input",7,8),u.NdJ("keyup",function(){u.CHM(e);const o=u.MAs(9),n=u.MAs(15);return t.onCopperChange(o,n)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"div",9),u.TgZ(17,"mat-form-field",4),u.TgZ(18,"mat-label"),u._uU(19,"92 Gold Value"),u.qZA(),u._UZ(20,"input",10,8),u.qZA(),u.qZA(),u.TgZ(22,"div",11),u.TgZ(23,"div",12),u.TgZ(24,"div",13),u.TgZ(25,"button",14),u.NdJ("click",function(){return t.resetForm()}),u._uU(26,"Reset"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(27,"div",12),u.TgZ(28,"div",13),u.TgZ(29,"button",15),u.NdJ("click",function(){return t.saveGoldConversion()}),u._uU(30,"Save Record"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"div",1),u.YNc(32,h,2,0,"h2",16),u.YNc(33,f,2,0,"h2",16),u.TgZ(34,"table",17),u.TgZ(35,"thead"),u.TgZ(36,"tr"),u.TgZ(37,"th",18),u._uU(38,"Material Name"),u.qZA(),u.TgZ(39,"th",18),u._uU(40,"Value"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(41,"tbody"),u.YNc(42,T,5,2,"tr",19),u.qZA(),u.qZA(),u.qZA(),u.YNc(43,A,11,2,"div",20),u.qZA(),u.YNc(44,x,5,0,"mat-button-toggle-group",21),u.YNc(45,C,14,9,"div",22)}2&e&&(u.xp6(2),u.Q6J("formGroup",t.goldConversionForm),u.xp6(1),u.Q6J("items",t.karigars),u.xp6(26),u.Q6J("disabled",!t.goldConversionForm.valid||t.goldConversionForm.pristine),u.xp6(3),u.Q6J("ngIf",t.SavedResponse),u.xp6(1),u.Q6J("ngIf",!t.SavedResponse),u.xp6(9),u.Q6J("ngForOf",t.materialBalance),u.xp6(1),u.Q6J("ngIf",t.SavedResponse),u.xp6(1),u.Q6J("ngIf",!t.isProduction),u.xp6(1),u.Q6J("ngIf",!t.isProduction&&t.showDeveloperDiv))},directives:[a._Y,a.JL,a.sg,d.w9,a.JJ,a.u,g.KE,g.hX,a.wV,Z.Nt,a.Fj,m.lW,n.O5,n.sg,v.A9,v.Yi],pipes:[n.Ts],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.Bz.forChild(_)],i.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[n.ez,N,d.A0,g.lN,Z.c,a.UX,m.ot,v.vV]]}),e})()}}]);