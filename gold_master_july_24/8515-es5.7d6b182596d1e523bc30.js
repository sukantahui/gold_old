!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8515],{8515:function(t,r,i){i.r(r),i.d(r,{DalCreationModule:function(){return U}});var a=i(38583),o=i(63423),l=i(92340),u=i(3679),c=i(88259),s=i.n(c),d=i(37716),p=i(91841),v=i(57916),g=i(86640),Z=i(98295),m=i(49983),f=i(51095),h=i(42542),b=i(65939);function q(e,t){1&e&&(d.TgZ(0,"h2"),d._uU(1,"Previous balance"),d.qZA())}function T(e,t){1&e&&(d.TgZ(0,"h2"),d._uU(1,"Current balance"),d.qZA())}function A(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.xp6(2),d.Oqu(n.rawMaterialName),d.xp6(2),d.Oqu(n.closingBalance)}}function C(e,t){1&e&&(d.TgZ(0,"h2"),d._uU(1,"Current balance"),d.qZA())}function _(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.xp6(2),d.Oqu(n.rawMaterialName),d.xp6(2),d.Oqu(n.closingBalance)}}function w(e,t){if(1&e&&(d.TgZ(0,"div",1),d.YNc(1,C,2,0,"h2",15),d.TgZ(2,"table",16),d.TgZ(3,"thead"),d.TgZ(4,"tr"),d.TgZ(5,"th",17),d._uU(6,"Material Name"),d.qZA(),d.TgZ(7,"th",17),d._uU(8,"Value"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"tbody"),d.YNc(10,_,5,2,"tr",18),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("ngIf",n.savedResponse),d.xp6(9),d.Q6J("ngForOf",n.savedResponse.data.material_balance)}}function x(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-button-toggle-group",22),d.TgZ(1,"mat-button-toggle",23),d.NdJ("click",function(){return d.CHM(n),d.oxw().showDeveloperDiv=!0}),d._uU(2,"Show"),d.qZA(),d.TgZ(3,"mat-button-toggle",23),d.NdJ("click",function(){return d.CHM(n),d.oxw().showDeveloperDiv=!1}),d._uU(4,"Hide"),d.qZA(),d.qZA()}}function N(e,t){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d.TgZ(2,"h2"),d._uU(3,"Developer Area"),d.qZA(),d.TgZ(4,"mat-tab-group",26),d.TgZ(5,"mat-tab",27),d.TgZ(6,"pre"),d._uU(7),d.ALo(8,"json"),d.qZA(),d.qZA(),d.TgZ(9,"mat-tab",28),d.TgZ(10,"pre"),d._uU(11),d.ALo(12,"json"),d.qZA(),d.qZA(),d.TgZ(13,"mat-tab",29),d.TgZ(14,"pre"),d._uU(15),d.ALo(16,"json"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(7),d.hij("                    dalConversionForm = ",d.lcZ(8,3,n.dalConversionForm.value),"\n                "),d.xp6(4),d.hij("                    savedResponse=",d.lcZ(12,5,n.savedResponse),"\n                "),d.xp6(4),d.hij("                    this.dalCreationRation = ",d.lcZ(16,7,n.dalCreationRation),"\n                ")}}var k,y=[{path:"",component:(k=function(){function t(n,r,i){var a=this;e(this,t),this.route=n,this.http=r,this.managerService=i,this.isProduction=l.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(function(e){a.materialBalance=e.fineToNinetyTwoResolver.materialBalance.data,a.user=e.fineToNinetyTwoResolver.user,a.karigars=e.fineToNinetyTwoResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(function(e){a.projectDetails=e,a.dalCreationRation=a.projectDetails.dalCreationRation}),this.dalConversionForm=new u.cw({employee_id:new u.NI(this.user.emp_id,[u.kI.required]),karigar_id:new u.NI(null,[u.kI.required]),silver_id:new u.NI(38,[u.kI.required]),copper_id:new u.NI(37,[u.kI.required]),zinc_id:new u.NI(39,[u.kI.required]),dal_id:new u.NI(33,[u.kI.required]),silver_value:new u.NI(0,[u.kI.required]),copper_value:new u.NI({value:0,disables:!1},[u.kI.required]),zinc_value:new u.NI({value:0,disables:!1},[u.kI.required]),dal_value:new u.NI({value:0,disabled:!1},[u.kI.required,u.kI.min(.001)])})}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onSilverChange",value:function(e){var t=(Number(e.value)*this.dalCreationRation.copperToSilverRatio).toFixed(3);this.dalConversionForm.patchValue({copper_value:t});var n=(Number(e.value)*this.dalCreationRation.zincToSilver).toFixed(3);this.dalConversionForm.patchValue({zinc_value:n});var r=(Number(e.value)*this.dalCreationRation.dalToSilverRatio).toFixed(3);this.dalConversionForm.patchValue({dal_value:r})}},{key:"resetForm",value:function(){this.savedResponse&&(this.materialBalance=this.savedResponse.data.material_balance,this.savedResponse=null),this.dalConversionForm.reset()}},{key:"saveDalConversion",value:function(){var e=this;s().fire({title:"Dal Creation",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(t){!t.value||e.managerService.saveDalCreation(e.dalConversionForm.value).subscribe(function(t){!0===t.status&&(s().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.savedResponse=t)},function(e){s().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}]),t}(),k.\u0275fac=function(e){return new(e||k)(d.Y36(o.gz),d.Y36(p.eN),d.Y36(v.b))},k.\u0275cmp=d.Xpm({type:k,selectors:[["app-dal-creation"]],decls:49,vars:9,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","silver_value","placeholder","Silver",1,"text-right",3,"keyup"],["silverValue",""],["type","number","matInput","","formControlName","copper_value","placeholder","Copper",1,"text-right"],["type","number","matInput","","formControlName","zinc_value","placeholder","Zinc",1,"text-right"],["type","number","matInput","","formControlName","dal_value","placeholder","Dal",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[4,"ngIf"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-4",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"form",2),d._UZ(3,"ng-select",3),d.TgZ(4,"div"),d.TgZ(5,"mat-form-field",4),d.TgZ(6,"mat-label"),d._uU(7,"Enter Silver"),d.qZA(),d.TgZ(8,"input",5,6),d.NdJ("keyup",function(){d.CHM(n);var e=d.MAs(9);return t.onSilverChange(e)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"div"),d.TgZ(11,"mat-form-field",4),d.TgZ(12,"mat-label"),d._uU(13,"Enter Copper"),d.qZA(),d._UZ(14,"input",7),d.qZA(),d.qZA(),d.TgZ(15,"div"),d.TgZ(16,"mat-form-field",4),d.TgZ(17,"mat-label"),d._uU(18,"Enter Zinc"),d.qZA(),d._UZ(19,"input",8),d.qZA(),d.qZA(),d.TgZ(20,"div"),d.TgZ(21,"mat-form-field",4),d.TgZ(22,"mat-label"),d._uU(23,"Dal Valuation"),d.qZA(),d._UZ(24,"input",9),d.qZA(),d.qZA(),d.TgZ(25,"div",10),d.TgZ(26,"div",11),d.TgZ(27,"div",12),d.TgZ(28,"button",13),d.NdJ("click",function(){return t.resetForm()}),d._uU(29,"Reset"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",11),d.TgZ(31,"div",12),d.TgZ(32,"button",14),d.NdJ("click",function(){return t.saveDalConversion()}),d._uU(33,"Save Record"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(34,"div",1),d.YNc(35,q,2,0,"h2",15),d.YNc(36,T,2,0,"h2",15),d.TgZ(37,"table",16),d.TgZ(38,"thead"),d.TgZ(39,"tr"),d.TgZ(40,"th",17),d._uU(41,"Material Name"),d.qZA(),d.TgZ(42,"th",17),d._uU(43,"Value"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"tbody"),d.YNc(45,A,5,2,"tr",18),d.qZA(),d.qZA(),d.qZA(),d.YNc(46,w,11,2,"div",19),d.qZA(),d.YNc(47,x,5,0,"mat-button-toggle-group",20),d.YNc(48,N,17,9,"div",21)}2&e&&(d.xp6(2),d.Q6J("formGroup",t.dalConversionForm),d.xp6(1),d.Q6J("items",t.karigars),d.xp6(29),d.Q6J("disabled",!t.dalConversionForm.valid||t.dalConversionForm.pristine),d.xp6(3),d.Q6J("ngIf",t.savedResponse),d.xp6(1),d.Q6J("ngIf",!t.savedResponse),d.xp6(9),d.Q6J("ngForOf",t.materialBalance),d.xp6(1),d.Q6J("ngIf",t.savedResponse),d.xp6(1),d.Q6J("ngIf",!t.isProduction),d.xp6(1),d.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[u._Y,u.JL,u.sg,g.w9,u.JJ,u.u,Z.KE,Z.hX,u.wV,m.Nt,u.Fj,f.lW,a.O5,a.sg,h.A9,h.Yi,b.SP,b.uX],pipes:[a.Ts],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),k)}],I=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[o.Bz.forChild(y)],o.Bz]}),t}(),U=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[a.ez,I,Z.lN,u.UX,m.c,h.vV,b.Nh,g.A0,f.ot]]}),t}()}}])}();