!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?r:String(r)),o)}var i,r}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[7980],{87980:function(t,o,i){i.r(o),i.d(o,{FineToNinetyTwoModule:function(){return F}});var r=i(38583),a=i(63423),l=i(92340),u=i(3679),s=i(88259),c=i.n(s),p=i(37716),d=i(91841),g=i(57916),v=i(86640),f=i(98295),Z=i(49983),m=i(51095),h=i(42542);function b(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Previous balance"),p.qZA())}function T(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Current balance"),p.qZA())}function q(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&e){var n=t.$implicit;p.xp6(2),p.Oqu(n.rawMaterialName),p.xp6(2),p.Oqu(n.closingBalance)}}function A(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Current balance"),p.qZA())}function x(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&e){var n=t.$implicit;p.xp6(2),p.Oqu(n.rawMaterialName),p.xp6(2),p.Oqu(n.closingBalance)}}function C(e,t){if(1&e&&(p.TgZ(0,"div",1),p.YNc(1,A,2,0,"h2",16),p.TgZ(2,"table",23),p.TgZ(3,"thead"),p.TgZ(4,"tr"),p.TgZ(5,"th",18),p._uU(6,"Material Name"),p.qZA(),p.TgZ(7,"th",18),p._uU(8,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"tbody",24),p.YNc(10,x,5,2,"tr",19),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.SavedResponse),p.xp6(9),p.Q6J("ngForOf",n.SavedResponse.data.material_balance)}}function w(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"mat-button-toggle-group",25),p.TgZ(1,"mat-button-toggle",26),p.NdJ("click",function(){return p.CHM(n),p.oxw().showDeveloperDiv=!0}),p._uU(2,"Show"),p.qZA(),p.TgZ(3,"mat-button-toggle",26),p.NdJ("click",function(){return p.CHM(n),p.oxw().showDeveloperDiv=!1}),p._uU(4,"Hide"),p.qZA(),p.qZA()}}function y(e,t){if(1&e&&(p.TgZ(0,"div",27),p.TgZ(1,"div",0),p.TgZ(2,"div",28),p.TgZ(3,"pre"),p._uU(4),p.ALo(5,"json"),p.qZA(),p.qZA(),p.TgZ(6,"div",28),p.TgZ(7,"pre"),p._uU(8),p.ALo(9,"json"),p.qZA(),p.qZA(),p.TgZ(10,"div",28),p.TgZ(11,"pre"),p._uU(12),p.ALo(13,"json"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(4),p.hij("                goldConversionForm = ",p.lcZ(5,3,n.goldConversionForm.value),"\n            "),p.xp6(4),p.hij("                extraCopperValue= ",p.lcZ(9,5,n.extraCopperValue),"\n            "),p.xp6(4),p.hij("                SavedResponse= ",p.lcZ(13,7,n.SavedResponse),"\n            ")}}var _,N=[{path:"",component:(_=function(){function t(n,o,i){var r=this;e(this,t),this.route=n,this.http=o,this.managerService=i,this.isProduction=l.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(function(e){r.materialBalance=e.fineToNinetyTwoResolver.materialBalance.data,r.user=e.fineToNinetyTwoResolver.user,r.karigars=e.fineToNinetyTwoResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(function(e){r.projectDetails=e}),this.goldConversionForm=new u.cw({employee_id:new u.NI(this.user.emp_id,[u.kI.required]),karigar_id:new u.NI(null,[u.kI.required]),fine_gold_id:new u.NI(36,[u.kI.required]),copper_id:new u.NI(37,[u.kI.required]),gini_id:new u.NI(48,[u.kI.required]),fine_gold_value:new u.NI(0,[u.kI.required]),copper_value:new u.NI({value:0,disables:!1},[u.kI.required]),gini_value:new u.NI({value:0,disabled:!1},[u.kI.required,u.kI.min(.001)])})}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onFineGoldChange",value:function(e,t){var n=this.projectDetails.fineToNinetyTwoRatio.fine,o=this.projectDetails.fineToNinetyTwoRatio.copper;this.extraCopperValue=.001*Number(e.value),this.expectedCopperValue=Number((e.value*(o/n)+this.extraCopperValue).toFixed(3)),this.goldConversionForm.patchValue({copper_value:this.expectedCopperValue.toFixed(3)}),this.expectedGiniValue=Number(e.value)+this.expectedCopperValue-this.extraCopperValue,this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue.toFixed(3)})}},{key:"onCopperChange",value:function(e,t){this.expectedGiniValue=Number((Number(e.value)+Number(t.value)).toFixed(3)),this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue})}},{key:"resetForm",value:function(){this.SavedResponse&&(this.materialBalance=this.SavedResponse.data.material_balance,this.SavedResponse=null),this.goldConversionForm.reset()}},{key:"saveGoldConversion",value:function(){var e=this;c().fire({title:"Fine to 92 Conversion",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(t){t.value?e.managerService.saveFineToNinetyTwo(e.goldConversionForm.value).subscribe(function(t){!0===t.status&&(c().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.SavedResponse=t,e.goldConversionForm.reset())},function(e){c().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})}):t.dismiss===c().DismissReason.cancel&&c().fire("Cancelled")})}}]),t}(),_.\u0275fac=function(e){return new(e||_)(p.Y36(a.gz),p.Y36(d.eN),p.Y36(g.b))},_.\u0275cmp=p.Xpm({type:_,selectors:[["app-fine-to-ninety-two"]],decls:46,vars:9,consts:[[1,"d-flex","flex-row"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","fine_gold_value","placeholder","Fine Gold",1,"text-right",3,"keyup"],["fineGoldValue",""],["type","number","readonly","","matInput","","formControlName","copper_value","placeholder","Copper",1,"text-right",3,"keyup"],["copperValue",""],[1,"mt-3"],["type","number","readonly","","matInput","","formControlName","gini_value","placeholder","92 Gold",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[4,"ngIf"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-4",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"table","col-xl-12","col-lg-12","col-xs-12"],[2,"border","1px solid #10e523"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"p-2"]],template:function(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"form",2),p._UZ(3,"ng-select",3),p.TgZ(4,"div"),p.TgZ(5,"mat-form-field",4),p.TgZ(6,"mat-label"),p._uU(7,"Enter Fine Gold"),p.qZA(),p.TgZ(8,"input",5,6),p.NdJ("keyup",function(){p.CHM(n);var e=p.MAs(9),o=p.MAs(15);return t.onFineGoldChange(e,o)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div"),p.TgZ(11,"mat-form-field",4),p.TgZ(12,"mat-label"),p._uU(13,"Enter Copper"),p.qZA(),p.TgZ(14,"input",7,8),p.NdJ("keyup",function(){p.CHM(n);var e=p.MAs(9),o=p.MAs(15);return t.onCopperChange(e,o)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div",9),p.TgZ(17,"mat-form-field",4),p.TgZ(18,"mat-label"),p._uU(19,"92 Gold Value"),p.qZA(),p._UZ(20,"input",10,8),p.qZA(),p.qZA(),p.TgZ(22,"div",11),p.TgZ(23,"div",12),p.TgZ(24,"div",13),p.TgZ(25,"button",14),p.NdJ("click",function(){return t.resetForm()}),p._uU(26,"Reset"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(27,"div",12),p.TgZ(28,"div",13),p.TgZ(29,"button",15),p.NdJ("click",function(){return t.saveGoldConversion()}),p._uU(30,"Save Record"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(31,"div",1),p.YNc(32,b,2,0,"h2",16),p.YNc(33,T,2,0,"h2",16),p.TgZ(34,"table",17),p.TgZ(35,"thead"),p.TgZ(36,"tr"),p.TgZ(37,"th",18),p._uU(38,"Material Name"),p.qZA(),p.TgZ(39,"th",18),p._uU(40,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"tbody"),p.YNc(42,q,5,2,"tr",19),p.qZA(),p.qZA(),p.qZA(),p.YNc(43,C,11,2,"div",20),p.qZA(),p.YNc(44,w,5,0,"mat-button-toggle-group",21),p.YNc(45,y,14,9,"div",22)}2&e&&(p.xp6(2),p.Q6J("formGroup",t.goldConversionForm),p.xp6(1),p.Q6J("items",t.karigars),p.xp6(26),p.Q6J("disabled",!t.goldConversionForm.valid||t.goldConversionForm.pristine),p.xp6(3),p.Q6J("ngIf",t.SavedResponse),p.xp6(1),p.Q6J("ngIf",!t.SavedResponse),p.xp6(9),p.Q6J("ngForOf",t.materialBalance),p.xp6(1),p.Q6J("ngIf",t.SavedResponse),p.xp6(1),p.Q6J("ngIf",!t.isProduction),p.xp6(1),p.Q6J("ngIf",!t.isProduction&&t.showDeveloperDiv))},directives:[u._Y,u.JL,u.sg,v.w9,u.JJ,u.u,f.KE,f.hX,u.wV,Z.Nt,u.Fj,m.lW,r.O5,r.sg,h.A9,h.Yi],pipes:[r.Ts],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),_)}],k=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[a.Bz.forChild(N)],a.Bz]}),t}(),F=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[r.ez,k,v.A0,f.lN,Z.c,u.UX,m.ot,h.vV]]}),t}()}}])}();