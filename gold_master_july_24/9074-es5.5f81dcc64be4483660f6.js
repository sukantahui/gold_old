!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,n=void 0,"symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?n:String(n)),r)}var i,n}function a(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[9074],{69074:function(t,r,i){i.r(r),i.d(r,{ReceivedRawMaterialFromEmployeeModule:function(){return R}});var n=i(38583),o=i(63423),l=i(92340),c=i(3679),u=i(88259),s=i.n(u),g=i(37716),Z=i(91841),m=i(57916),d=i(5620),p=i(82820),f=i(86640),v=i(98295),A=i(49983),T=i(42542),q=i(65939);function h(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",21),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var a=t.$implicit;g.xp6(2),g.Oqu(a.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,2,a.closingBalance,".3-3")," gm")}}function b(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",21),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var a=t.$implicit;g.xp6(2),g.Oqu(a.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,2,a.closingBalance,".3-3")," gm")}}function y(e,t){if(1&e&&(g.TgZ(0,"div",12),g.TgZ(1,"h2"),g._uU(2,"Sender Material Balacne"),g.qZA(),g.TgZ(3,"table",13),g.TgZ(4,"thead"),g.TgZ(5,"tr"),g.TgZ(6,"th",14),g._uU(7,"Material Name"),g.qZA(),g.TgZ(8,"th",14),g._uU(9,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"tbody"),g.YNc(11,b,6,5,"tr",15),g.qZA(),g.qZA(),g.qZA()),2&e){var a=g.oxw();g.xp6(11),g.Q6J("ngForOf",a.senderMaterialBalances)}}function x(e,t){1&e&&(g.TgZ(0,"div"),g._UZ(1,"hr"),g.TgZ(2,"h2"),g._uU(3,"Balance after transaction"),g.qZA(),g.qZA())}function w(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",21),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var a=t.$implicit;g.xp6(2),g.Oqu(a.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,2,a.closingBalance,".3-3")," gm")}}function _(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",21),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var a=t.$implicit;g.xp6(2),g.Oqu(a.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,2,a.closingBalance,".3-3")," gm")}}function N(e,t){if(1&e&&(g.TgZ(0,"div",12),g.TgZ(1,"h2"),g._uU(2,"Sender Material Balacne"),g.qZA(),g.TgZ(3,"table",13),g.TgZ(4,"thead"),g.TgZ(5,"tr"),g.TgZ(6,"th",14),g._uU(7,"Material Name"),g.qZA(),g.TgZ(8,"th",14),g._uU(9,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"tbody"),g.YNc(11,_,6,5,"tr",15),g.qZA(),g.qZA(),g.qZA()),2&e){var a=g.oxw(2);g.xp6(11),g.Q6J("ngForOf",a.savedResponse.data.sender_material_balance)}}function M(e,t){if(1&e&&(g.TgZ(0,"div",11),g.TgZ(1,"div",12),g.TgZ(2,"h2"),g._uU(3,"Your Material Balance after change"),g.qZA(),g.TgZ(4,"table",13),g.TgZ(5,"thead"),g.TgZ(6,"tr"),g.TgZ(7,"th",14),g._uU(8,"Material Name"),g.qZA(),g.TgZ(9,"th",14),g._uU(10,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"tbody"),g.YNc(12,w,6,5,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.YNc(13,N,12,1,"div",16),g.qZA()),2&e){var a=g.oxw();g.xp6(12),g.Q6J("ngForOf",a.savedResponse.data.receiver_material_balance),g.xp6(1),g.Q6J("ngIf",a.senderMaterialBalances)}}function U(e,t){if(1&e){var a=g.EpF();g.TgZ(0,"mat-button-toggle-group",22),g.TgZ(1,"mat-button-toggle",23),g.NdJ("click",function(){return g.CHM(a),g.oxw().showDeveloperDiv=!0}),g._uU(2,"Show"),g.qZA(),g.TgZ(3,"mat-button-toggle",23),g.NdJ("click",function(){return g.CHM(a),g.oxw().showDeveloperDiv=!1}),g._uU(4,"Hide"),g.qZA(),g.qZA()}}function B(e,t){if(1&e&&(g.TgZ(0,"div",24),g.TgZ(1,"div",25),g.TgZ(2,"h2"),g._uU(3,"Developer Area"),g.qZA(),g.TgZ(4,"mat-tab-group",26),g.TgZ(5,"mat-tab",27),g.TgZ(6,"pre"),g._uU(7),g.ALo(8,"json"),g.qZA(),g.qZA(),g.TgZ(9,"mat-tab",28),g.TgZ(10,"pre"),g._uU(11),g.ALo(12,"json"),g.qZA(),g.qZA(),g.TgZ(13,"mat-tab",29),g.TgZ(14,"pre"),g._uU(15,"\n                "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var a=g.oxw();g.xp6(7),g.hij("                    materialSendingForm = ",g.lcZ(8,2,a.materialRecivingForm.value),"\n                "),g.xp6(4),g.hij("                    savedResponse = ",g.lcZ(12,4,a.savedResponse.data),"\n                ")}}var I,J=[{path:"",component:(I=function(){function t(a,r,i,n,o){var u=this;e(this,t),this.route=a,this.http=r,this.managerService=i,this.commonservice=n,this.reportService=o,this.isProduction=l.N.production,this.materialBalances=[],this.route.data.subscribe(function(e){u.user=e.materialResolver.user,u.resolverValues=e.materialResolver,u.employees=e.materialResolver.employees.data,u.projectDetails=e.materialResolver.projectDetails,u.rawMaterials=e.materialResolver.rawMaterials.data,u.materialBalances=e.materialResolver.materialBalances.data,u.selectableEmployees=u.employees.filter(function(e){return u.projectDetails.employeeToManagerMaterial.employees.find(function(t){return t===e.employeeId})}),u.selectableMaterials=u.rawMaterials.filter(function(e){return u.projectDetails.employeeToManagerMaterial.materialsToSend.find(function(t){return t===e.rmID})})}),this.materialRecivingForm=new c.cw({outward_employee_id:new c.NI(null,[c.kI.required]),inward_employee_id:new c.NI(this.user.emp_id,[c.kI.required]),rm_id:new c.NI(null,[c.kI.required]),value:new c.NI(0,[c.kI.required])})}return a(t,[{key:"ngOnInit",value:function(){}},{key:"saveMaterialTransfer",value:function(){var e=this;s().fire({title:"Dal Creation",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(t){!t.value||e.managerService.saveMaterialFromEmployee(e.materialRecivingForm.value).subscribe(function(t){!0===t.status&&(s().fire({timer:2e3,title:"Saved",text:"Transferred successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.savedResponse=t)},function(e){s().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}},{key:"onEmployeeChange",value:function(){var e=this,t=this.materialRecivingForm.get("outward_employee_id").value;t&&this.reportService.getMaterialBalanceByEmployee(t).subscribe(function(t){e.senderMaterialBalances=t.data})}}]),t}(),I.\u0275fac=function(e){return new(e||I)(g.Y36(o.gz),g.Y36(Z.eN),g.Y36(m.b),g.Y36(d.v),g.Y36(p.r))},I.\u0275cmp=g.Xpm({type:I,selectors:[["app-received-raw-material-from-employee"]],decls:33,vars:10,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","employeeName","bindValue","employeeId","formControlName","outward_employee_id","placeholder","Reciving from",1,"custom",3,"items","click"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","value","placeholder","Material value",1,"text-right"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex","flex-column"],[1,"p-2","col-8","d-flex"],[1,"p-2","col-6"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-6",4,"ngIf"],[4,"ngIf"],["class","p-2 col-8 d-flex",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"text-right"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"form",2),g.TgZ(3,"ng-select",3),g.NdJ("click",function(){return t.onEmployeeChange()}),g.qZA(),g._UZ(4,"ng-select",4),g.TgZ(5,"div"),g.TgZ(6,"mat-form-field",5),g.TgZ(7,"mat-label"),g._uU(8,"Enter Material Value"),g.qZA(),g._UZ(9,"input",6),g.qZA(),g.qZA(),g.TgZ(10,"div",7),g.TgZ(11,"div",8),g.TgZ(12,"button",9),g.NdJ("click",function(){return t.saveMaterialTransfer()}),g._uU(13,"Save Record"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",10),g.TgZ(15,"div",11),g.TgZ(16,"div",12),g.TgZ(17,"h2"),g._uU(18,"Your Material Balance"),g.qZA(),g.TgZ(19,"table",13),g.TgZ(20,"thead"),g.TgZ(21,"tr"),g.TgZ(22,"th",14),g._uU(23,"Material Name"),g.qZA(),g.TgZ(24,"th",14),g._uU(25,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(26,"tbody"),g.YNc(27,h,6,5,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.YNc(28,y,12,1,"div",16),g.qZA(),g.YNc(29,x,4,0,"div",17),g.YNc(30,M,14,2,"div",18),g.qZA(),g.qZA(),g.YNc(31,U,5,0,"mat-button-toggle-group",19),g.YNc(32,B,16,6,"div",20)),2&e&&(g.xp6(2),g.Q6J("formGroup",t.materialRecivingForm),g.xp6(1),g.Q6J("items",t.selectableEmployees),g.xp6(1),g.Q6J("items",t.selectableMaterials),g.xp6(8),g.Q6J("disabled",!t.materialRecivingForm.valid||t.materialRecivingForm.pristine),g.xp6(15),g.Q6J("ngForOf",t.materialBalances),g.xp6(1),g.Q6J("ngIf",t.senderMaterialBalances),g.xp6(1),g.Q6J("ngIf",t.savedResponse),g.xp6(1),g.Q6J("ngIf",t.savedResponse),g.xp6(1),g.Q6J("ngIf",!t.isProduction),g.xp6(1),g.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[c._Y,c.JL,c.sg,f.w9,c.JJ,c.u,v.KE,v.hX,c.wV,A.Nt,c.Fj,n.sg,n.O5,T.A9,T.Yi,q.SP,q.uX],pipes:[n.JJ,n.Ts],styles:[""]}),I)}],S=function(){var t=a(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[o.Bz.forChild(J)],o.Bz]}),t}(),R=function(){var t=a(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[n.ez,S,c.UX,T.vV,q.Nh,f.A0,A.c,T.vV]]}),t}()}}])}();