<div id="agent-wise-sale-report-div">
    <mat-card class="example-card">
        <mat-card-header>
            <div mat-card-avatar class="example-header-image"></div>
            <mat-card-title>Agent Wise Sale Report</mat-card-title>
        </mat-card-header>
        <mat-card-content>

            <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
                <form [formGroup]="agentWiseSaleReportForm">
                    <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
                        <div fxLayoutGap="30px" style="padding-top: 10px">
                            <mat-form-field  fxFlex="30">
                                <mat-label>Start date (dd/mm/yyyy)</mat-label>
                                <input matInput [matDatepicker]="startDatePicker" formControlName="start_date" placeholder="dd/mm/yyyy" (dateChange)="startDateChangeEvent($event)">
                                <mat-datepicker-toggle matSuffix [for]="startDatePicker">
                                    <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                                </mat-datepicker-toggle>
                                <mat-datepicker #startDatePicker></mat-datepicker>
                            </mat-form-field>
                            <mat-form-field  fxFlex="30">
                                <mat-label>End date (dd/mm/yyyy)</mat-label>
                                <input matInput [matDatepicker]="endDatePicker" formControlName="end_date" placeholder="dd/mm/yyyy" (dateInput)="dateInputEvent($event)" (dateChange)="endDateChangeEvent($event)">
                                <mat-datepicker-toggle matSuffix [for]="endDatePicker">
                                    <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                                </mat-datepicker-toggle>
                                <mat-datepicker #endDatePicker></mat-datepicker>
                            </mat-form-field>
                        </div>

                        <div class="col-6">
                            <ng-select [items]="agentList"
                                       bindLabel="agent_name"
                                       class="custom"
                                       bindValue="agent_id"
                                       formControlName="agent_id"
                                       placeholder="Select Agent">
                            </ng-select>
                        </div>
                        <div class="example-button-row" fxFlex="20">
                            <button mat-button color="primary" (click)="getReport()">Search</button>
                        </div>
                    </div>

                </form>
            </div>
        </mat-card-content>
    </mat-card>

    <mat-card class="example-card">
        <mat-card-header>
            <div mat-card-avatar class="example-header-image"></div>
            <mat-card-title class="text-center">Sales Report for Agent: {{agentWiseSaleReportForm.get('agent_id').value}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <table class="table table-bordered table-responsive">
                <thead>
                <tr>
                    <th class="text-center">SL</th>
                    <th class="text-center">Customer</th>
                    <th class="text-center">Qty</th>
                    <th class="text-center">Billed Gold</th>
                    <th class="text-center">Billed LC</th>
                    <th class="text-center">Gold Received</th>
                    <th class="text-center">LC Received</th>
                </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let row of agentWiseSale; let i = index">
                        <ng-container *ngIf="true">
                            <th scope="row">{{i+1}}</th>
                            <td class="text-left">{{row.cust_name}}</td>
                            <td class="text-right">{{row.qty}}</td>
                            <td class="text-right">{{row.fine_gold | number: '1.3'}}</td>
                            <td class="text-right">{{row.lc}}</td>
                            <td class="text-right">{{row.gold_received | number: '1.3'}}</td>
                            <td class="text-right">{{row.lc_received}}</td>
                        </ng-container>
                    </tr>

                </tbody>
                <tfoot>
                <tr>
                    <th></th>
                    <th></th>
                    <th class="text-right">{{qtyTotal}}</th>
                    <th class="text-right">{{billedGoldTotal | number: '1.3'}}</th>
                    <th class="text-right">{{billedLcTotal}}</th>
                    <th class="text-right">{{goldReceivedTotal | number: '1.3'}}</th>
                    <th class="text-right">{{lcReceivedTotal}}</th>
                </tr>
                </tfoot>
            </table>
        </mat-card-content>
    </mat-card>

</div>


<div *ngIf="false" id="developer-div">
    <pre>

    </pre>
    <pre>
        startDate = {{startDate | json}}
        endDate = {{endDate | json}}
    </pre>
    <pre>

    </pre>
</div>
