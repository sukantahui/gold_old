"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2051],{52051:function(t,e,o){o.r(e),o.d(e,{StockInHandReportModule:function(){return b}});var n=o(38583),r=o(63423),i=o(92340),d=o(3679),a=o(37716),s=o(35618),l=o(86640),c=o(26584),u=o(33013);function g(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",24),a.TgZ(1,"h4"),a._uU(2,"Stock In Hand"),a.qZA(),a.TgZ(3,"span",25),a._UZ(4,"i",26),a._uU(5,"\xa0\xa0\xa0\xa0 "),a.TgZ(6,"input",27),a.NdJ("input",function(e){return a.CHM(t),a.oxw(),a.MAs(2).filterGlobal(e.target.value,"contains")}),a.qZA(),a.qZA(),a.qZA()}}function p(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"th"),a._uU(2,"SL"),a.qZA(),a.TgZ(3,"th",28),a._uU(4,"Tag "),a._UZ(5,"p-sortIcon",29),a.qZA(),a.TgZ(6,"th",30),a._uU(7,"Model "),a._UZ(8,"p-sortIcon",31),a.qZA(),a.TgZ(9,"th",32),a._uU(10,"Category "),a._UZ(11,"p-sortIcon",33),a.qZA(),a.TgZ(12,"th",34),a._uU(13,"Agent "),a._UZ(14,"p-sortIcon",35),a.qZA(),a.TgZ(15,"th",36),a._uU(16),a._UZ(17,"p-sortIcon",37),a.qZA(),a.TgZ(18,"th",38),a._uU(19),a.ALo(20,"number"),a._UZ(21,"p-sortIcon",39),a.qZA(),a.TgZ(22,"th",40),a._uU(23,"Job "),a._UZ(24,"p-sortIcon",41),a.qZA(),a.qZA()),2&t){const t=a.oxw(2);a.xp6(16),a.hij("Qty (",t.totalQuantity,") "),a.xp6(3),a.hij("Gold (",a.xi3(20,2,t.totalGold,"1.3"),") ")}}function Z(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td",42),a._uU(12),a.qZA(),a.TgZ(13,"td",42),a._uU(14),a.ALo(15,"number"),a.qZA(),a.TgZ(16,"td",42),a._uU(17),a.qZA(),a.qZA()),2&t){const t=e.$implicit,o=e.rowIndex;a.xp6(2),a.Oqu(o+1),a.xp6(2),a.Oqu(t.tag),a.xp6(2),a.Oqu(t.modelNo),a.xp6(2),a.Oqu(t.productCategory),a.xp6(2),a.Oqu(t.agentShortName),a.xp6(2),a.Oqu(t.quantity),a.xp6(2),a.Oqu(a.xi3(15,8,t.gold,"1.3")),a.xp6(3),a.Oqu(t.jobId)}}function f(t,e){if(1&t&&(a.TgZ(0,"tr"),a._UZ(1,"td"),a._UZ(2,"td"),a._UZ(3,"td"),a._UZ(4,"td"),a._UZ(5,"td"),a.TgZ(6,"td",42),a._uU(7),a.qZA(),a.TgZ(8,"td",42),a._uU(9),a.ALo(10,"number"),a.qZA(),a._UZ(11,"td"),a.qZA()),2&t){const t=a.oxw(2);a.xp6(7),a.Oqu(t.totalQuantity),a.xp6(2),a.Oqu(a.xi3(10,2,t.totalGold,"1.3"))}}const h=function(){return[10,20,30,50,100,200,500,1e3,1e4]},A=function(){return["tag","modelNo","quantity","productCategory"]};function q(t,e){if(1&t&&(a.TgZ(0,"div",17),a.TgZ(1,"p-table",18,19),a.YNc(3,g,7,0,"ng-template",20),a.YNc(4,p,25,5,"ng-template",21),a.YNc(5,Z,18,11,"ng-template",22),a.YNc(6,f,12,5,"ng-template",23),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.Q6J("value",t.stocksInHandFiltered)("rows",1e4)("showCurrentPageReport",!0)("rowsPerPageOptions",a.DdM(7,h))("paginator",!0)("globalFilterFields",a.DdM(8,A))("responsive",!0)}}function m(t,e){if(1&t&&(a.TgZ(0,"div",43),a.TgZ(1,"div",44),a.TgZ(2,"div",45),a.TgZ(3,"div",46),a.TgZ(4,"pre"),a._uU(5),a.ALo(6,"json"),a._uU(7,"\n                    "),a.qZA(),a.qZA(),a.TgZ(8,"div",47),a.TgZ(9,"pre"),a._uU(10),a.ALo(11,"json"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(5),a.hij("                        agents = ",a.lcZ(6,2,t.agents),"\n"),a.xp6(5),a.hij("                        agents = ",a.lcZ(11,4,t.agents),"\n                    ")}}const x=[{path:"",component:(()=>{class t{constructor(t){this.route=t,this.isProduction=i.N.production,this.totalQuantity=0,this.totalGold=0,this.route.data.subscribe(t=>{this.agents=t.showItemStockResolver.agents.data,this.productCategories=t.showItemStockResolver.productCategories.data,this.stocksInHand=t.showItemStockResolver.stocksInHand.data,this.stocksInHandFiltered=t.showItemStockResolver.stocksInHand.data,this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)}),this.reportForm=new d.cw({agentId:new d.NI("AG0000"),productCategoryId:new d.NI(0)})}ngOnInit(){}stockByCategory(t,e){this.selectedProductCategoryId=t.ID,this.stocksInHandFiltered=this.stocksInHand.filter(t=>t.productCategoryId===this.selectedProductCategoryId&&t.agentId===this.selectedAgentId),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)}stockByAgent(t,e){this.selectedAgentId=t.agent_id,this.stocksInHandFiltered=this.stocksInHand.filter(t=>t.agentId===this.selectedAgentId),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.gz))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-stock-in-hand-report"]],decls:24,vars:5,consts:[[1,"d-flex","flex-column",2,"min-height","100vh"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"p-5","justify-content-xl-between"],[3,"formGroup"],[1,"form-row"],[1,"col"],["fxFlex","100"],["bindLabel","agent_name","bindValue","agent_id","formControlName","agentId","placeholder","Select Agent",1,"custom",3,"items","change"],["ref1",""],["bindLabel","category","bindValue","ID","formControlName","productCategoryId","placeholder","Select Category",1,"custom",3,"items","change"],["ref2",""],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"bloc_2","p-2","col-xl-10",2,"background-color","antiquewhite"],["class","p-2","style","border: 1px solid #454141; border-radius: 10px;",4,"ngIf"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search","mr-3"],["pInputText","","type","text","placeholder","Search keyword",1,"mt-3",3,"input"],["pSortableColumn","tag"],["field","tag"],["pSortableColumn","modelNo"],["field","modelNo"],["pSortableColumn","productCategory"],["field","productCategory"],["pSortableColumn","agentShortName"],["field","agentShortName"],["pSortableColumn","quantity"],["field","quantity"],["pSortableColumn","gold"],["field","gold"],["pSortableColumn","jobId"],["field","jobId"],[1,"text-right"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._uU(2,"Stock In Hand Report"),a.qZA(),a.TgZ(3,"div",2),a.TgZ(4,"form",3),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"ng-select",7,8),a.NdJ("change",function(o){a.CHM(t);const n=a.MAs(9);return e.stockByAgent(o,n)}),a.qZA(),a.qZA(),a.qZA(),a._UZ(10,"div",5),a.qZA(),a.TgZ(11,"div",4),a.TgZ(12,"div",5),a.TgZ(13,"div",6),a.TgZ(14,"ng-select",9,10),a.NdJ("change",function(o){a.CHM(t);const n=a.MAs(15);return e.stockByCategory(o,n)}),a.qZA(),a.qZA(),a.qZA(),a._UZ(16,"div",5),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",11),a.TgZ(18,"div",12),a.TgZ(19,"div",13),a.YNc(20,q,7,9,"div",14),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"div",15),a._uU(22,"I am footer, i will stay here"),a.qZA(),a.qZA(),a.YNc(23,m,12,6,"div",16)}2&t&&(a.xp6(4),a.Q6J("formGroup",e.reportForm),a.xp6(4),a.Q6J("items",e.agents),a.xp6(6),a.Q6J("items",e.productCategories),a.xp6(6),a.Q6J("ngIf",e.stocksInHand.length>0),a.xp6(3),a.Q6J("ngIf",!e.isProduction))},directives:[d._Y,d.JL,d.sg,s.yH,l.w9,d.JJ,d.u,n.O5,c.iA,u.jx,c.lQ,c.fz,s.xw,s.SQ,s.Wh],pipes:[n.JJ,n.Ts],styles:[""]}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.Bz.forChild(x)],r.Bz]}),t})();var I=o(76627),y=o(49983),_=o(51095);let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,T,c.U$,l.A0,s.ae,I.Ps,d.u5,d.UX,y.c,_.ot]]}),t})()}}]);