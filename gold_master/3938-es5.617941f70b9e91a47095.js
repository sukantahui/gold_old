!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?o:String(o)),r)}var a,o}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[3938],{3938:function(t,r,a){a.r(r),a.d(r,{SalaryAdjustmentModule:function(){return v}});var o=a(38583),u=a(63423),l=a(92340),i=a(88259),c=a.n(i),d=a(3679),s=a(37716),g=a(22761),Z=a(95913),y=a(76627);function m(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"th",29),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.qZA()),2&e){var n=t.$implicit,r=t.index;s.xp6(2),s.Oqu(r+1),s.xp6(2),s.Oqu(n.salaryHolderName),s.xp6(2),s.Oqu(n.calculatedSalary)}}function p(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"th",29),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s.TgZ(8,"input",30),s.NdJ("ngModelChange",function(e){return s.CHM(n).$implicit.hourDeduction=e})("change",function(){return s.CHM(n),s.oxw().onHourDeductionChange()}),s.qZA(),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s.TgZ(12,"input",31),s.NdJ("ngModelChange",function(e){return s.CHM(n).$implicit.salaryDeductionPercentage=e})("change",function(){var e=s.CHM(n).$implicit;return s.oxw().onMonthlyDeductionPercentageChange(e)}),s.qZA(),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s.TgZ(16,"input",31),s.NdJ("ngModelChange",function(e){return s.CHM(n).$implicit.amountAdded=e})("change",function(){var e=s.CHM(n).$implicit;return s.oxw().onAmountAddedChange(e)}),s.qZA(),s.qZA(),s.TgZ(17,"td"),s._uU(18),s.qZA(),s.qZA()}if(2&e){var r=t.$implicit,a=t.index;s.xp6(2),s.Oqu(a+1),s.xp6(2),s.Oqu(r.salaryHolderName),s.xp6(2),s.Oqu(r.salary),s.xp6(2),s.Q6J("ngModel",r.hourDeduction),s.xp6(2),s.Oqu(r.hourDeductionAmount),s.xp6(2),s.Q6J("ngModel",r.salaryDeductionPercentage),s.xp6(2),s.Oqu(r.deduction),s.xp6(2),s.Q6J("ngModel",r.amountAdded),s.xp6(2),s.Oqu(r.calculatedSalary)}}function f(e,t){if(1&e&&(s.TgZ(0,"div",32),s.TgZ(1,"div",33),s.TgZ(2,"div",34),s.TgZ(3,"div",35),s.TgZ(4,"pre"),s._uU(5),s.ALo(6,"json"),s.qZA(),s.qZA(),s._UZ(7,"div",36),s.qZA(),s.qZA(),s.qZA()),2&e){var n=s.oxw();s.xp6(5),s.hij("                    salaryHolders=",s.lcZ(6,1,n.salaryHolders),"\n                ")}}var h,A=[{path:"",component:(h=function(){function t(n,r){var a=this;e(this,t),this.route=n,this.salaryService=r,this.isProduction=l.N.production,this.sumOfCalculatedSalary=0,this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.route.data.subscribe(function(e){a.salaryHolders=e.salaryAdjustmentResolver.salaryHolders.data,a.salaryYear=e.salaryAdjustmentResolver.salaryPeriod.data.yearNumber,a.salaryMonth=e.salaryAdjustmentResolver.salaryPeriod.data.monthNumber,a.salaryYearMonthForm=new d.cw({yearNumber:new d.NI(a.salaryYear),monthNumber:new d.NI(a.salaryMonth)}),a.sumOfCalculatedSalary=a.salaryHolders.map(function(e){return e.calculatedSalary}).reduce(function(e,t){return e+t})})}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onHourDeductionChange",value:function(){this.salaryHolders.map(function(e){e.hourDeductionAmount=e.hourDeduction*e.hourlyRate,e.calculatedSalary=e.salary-e.deduction-e.hourDeductionAmount+e.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(function(e){return e.calculatedSalary}).reduce(function(e,t){return e+t})}},{key:"onDeductionPercentageChange",value:function(e){var t=Number(e);this.salaryHolders.map(function(e){e.salaryDeductionPercentage=t,e.deduction=e.salary*t/100,e.calculatedSalary=e.salary-e.deduction-e.hourDeductionAmount+e.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(function(e){return e.calculatedSalary}).reduce(function(e,t){return e+t})}},{key:"onMonthlyDeductionPercentageChange",value:function(e){e.deduction=e.salary*e.salaryDeductionPercentage/100,e.calculatedSalary=e.salary-e.deduction-e.hourDeductionAmount+e.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(function(e){return e.calculatedSalary}).reduce(function(e,t){return e+t})}},{key:"onAmountAddedChange",value:function(e){e.calculatedSalary=e.salary-e.deduction-e.hourDeductionAmount+e.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(function(e){return e.calculatedSalary}).reduce(function(e,t){return e+t})}},{key:"saveSalary",value:function(){this.salaryService.saveSalaryHolderSalary(this.salaryHolders).subscribe(function(e){!0===e.status?c().fire({title:"Done",text:"Salary saved successfully",icon:"success"}):c().fire({title:"Failed",text:"Unable to save",icon:"error"})})}}]),t}(),h.\u0275fac=function(e){return new(e||h)(s.Y36(u.gz),s.Y36(g.M))},h.\u0275cmp=s.Xpm({type:h,selectors:[["app-salary-adjustment"]],decls:81,vars:7,consts:[[1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"d-flex","p-2","justify-content-center",2,"background-color","rgb(228,229,215)"],[1,"col-6",3,"formGroup"],[1,"form-row"],[1,"col-1"],[1,"col"],["readonly","","type","number","formControlName","yearNumber","placeholder","First name",1,"form-control"],["readonly","","type","number","min","1","max","12","formControlName","monthNumber","placeholder","Last name",1,"form-control"],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-4",2,"background-color","rgb(199, 192, 192)"],["id","printSalaryList"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","2"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printSalaryList","ngxPrint","",3,"printStyle","useExistingCss"],[1,"bloc_2","p-2","col-xl-8",2,"background-color","antiquewhite"],[1,"form-inline"],[1,"form-group"],[1,"mr-3"],["type","number","aria-describedby","deductionPercentageHelp","placeholder","Deduction Percentage",1,"form-control"],["deductionPercentage",""],["id","deductionPercentageHelp",1,"form-text","text-muted"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div","class","d-flex flex-column","style","min-height: 100vh; margin-bottom: 50px;",4,"ngIf"],["scope","row"],["type","number","placeholder","HOUR",1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","placeholder","Percentage",1,"form-control",3,"ngModel","ngModelChange","change"],["id","developer-div",1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"outerContainer",2,"margin-top","50px","border","1px solid black"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2," I am Header, i will stay here "),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"form",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"label"),s._uU(8,"Year"),s.qZA(),s.qZA(),s.TgZ(9,"div",6),s._UZ(10,"input",7),s.qZA(),s.TgZ(11,"div",5),s.TgZ(12,"label"),s._uU(13,"Month"),s.qZA(),s.qZA(),s.TgZ(14,"div",6),s._UZ(15,"input",8),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(16,"div",9),s.TgZ(17,"div",10),s.TgZ(18,"div",11),s.TgZ(19,"div",12),s.TgZ(20,"table",13),s.TgZ(21,"thead"),s.TgZ(22,"tr"),s.TgZ(23,"th",14),s._uU(24,"#"),s.qZA(),s.TgZ(25,"th",14),s._uU(26,"Name"),s.qZA(),s.TgZ(27,"th",14),s._uU(28,"Final Salary"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(29,"tbody"),s.YNc(30,m,7,3,"tr",15),s.qZA(),s.TgZ(31,"thead"),s.TgZ(32,"tr"),s.TgZ(33,"td",16),s._uU(34,"Total Salary"),s.qZA(),s.TgZ(35,"td"),s._uU(36),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(37,"div",17),s.TgZ(38,"button",18),s.TgZ(39,"mat-icon"),s._uU(40,"print"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"div",19),s.TgZ(42,"form",20),s.TgZ(43,"div",21),s.TgZ(44,"label",22),s._uU(45,"Salary Deduction in percentage "),s.qZA(),s._UZ(46,"input",23,24),s.TgZ(48,"small",25),s._uU(49,"%"),s.qZA(),s.qZA(),s.TgZ(50,"button",26),s.NdJ("click",function(){s.CHM(n);var e=s.MAs(47);return t.onDeductionPercentageChange(e.value)}),s._uU(51,"Calculate"),s.qZA(),s.qZA(),s.TgZ(52,"table",13),s.TgZ(53,"thead"),s.TgZ(54,"tr"),s.TgZ(55,"th",14),s._uU(56,"#"),s.qZA(),s.TgZ(57,"th",14),s._uU(58,"Name"),s.qZA(),s.TgZ(59,"th",14),s._uU(60,"Salary"),s.qZA(),s.TgZ(61,"th",14),s._uU(62,"Hour(-)"),s.qZA(),s.TgZ(63,"th",14),s._uU(64,"Hour Deduction"),s.qZA(),s.TgZ(65,"th",14),s._uU(66,"Monthly Deduction%"),s.qZA(),s.TgZ(67,"th",14),s._uU(68,"Monthly Deduction"),s.qZA(),s.TgZ(69,"th",14),s._uU(70,"Extra Pay"),s.qZA(),s.TgZ(71,"th",14),s._uU(72,"Final Salary"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(73,"tbody"),s.YNc(74,p,19,9,"tr",15),s.qZA(),s.qZA(),s.TgZ(75,"div"),s.TgZ(76,"button",26),s.NdJ("click",function(){return t.saveSalary()}),s._uU(77,"Save Salary"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(78,"div",27),s._uU(79,"I am footer, i will stay here"),s.qZA(),s.qZA(),s.YNc(80,f,8,3,"div",28)}2&e&&(s.xp6(4),s.Q6J("formGroup",t.salaryYearMonthForm),s.xp6(26),s.Q6J("ngForOf",t.salaryHolders),s.xp6(6),s.Oqu(t.sumOfCalculatedSalary),s.xp6(2),s.Q6J("printStyle",t.printDivStyle)("useExistingCss",!0),s.xp6(36),s.Q6J("ngForOf",t.salaryHolders),s.xp6(6),s.Q6J("ngIf",!t.isProduction))},directives:[d._Y,d.JL,d.sg,d.wV,d.Fj,d.JJ,d.u,d.qQ,d.Fd,o.sg,Z.I,y.Hw,d.F,o.O5,d.On],pipes:[o.Ts],styles:["[_nghost-%COMP%]     .p-cell-editing{padding-top:0!important;padding-bottom:0!important}"]}),h)}],q=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),t}(),v=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.ez,q,d.u5,y.Ps,Z.K,d.u5,d.UX]]}),t}()}}])}();