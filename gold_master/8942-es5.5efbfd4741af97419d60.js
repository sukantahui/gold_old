!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,"symbol"==typeof(a=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?a:String(a)),n)}var o,a}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8942],{38942:function(e,n,o){o.r(n),o.d(n,{MaterialToEmployeesReportModule:function(){return M}});var a=o(38583),i=o(63423),l=o(92340),u=o(3679),p=o(37716),c=o(82820),s=o(5620),d=o(72458),m=o(98295),f=o(49983),Z=o(43220),g=o(86640),v=o(4207),A=o(26584),T=o(33013),q=o(95913),x=o(76627);function h(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"h4"),p._uU(1),p.qZA(),p.TgZ(2,"div",27),p.TgZ(3,"div",28),p._UZ(4,"i",29),p.TgZ(5,"input",30),p.NdJ("input",function(t){return p.CHM(r),p.oxw(),p.MAs(3).filterGlobal(t.target.value,"contains")}),p.qZA(),p.qZA(),p.TgZ(6,"div"),p.TgZ(7,"button",31),p.TgZ(8,"mat-icon"),p._uU(9,"print"),p.qZA(),p.qZA(),p.TgZ(10,"button",32),p.NdJ("click",function(){return p.CHM(r),p.oxw(2).commonService.exportToExcel("transaction-table","stock")}),p.TgZ(11,"mat-icon"),p._uU(12,"cloud_download"),p.qZA(),p.qZA(),p.TgZ(13,"button",32),p.NdJ("click",function(){p.CHM(r);var t=p.oxw(2);return t.commonService.arrayToExcel(t.materialTransactions,"transactions.xlsx")}),p.TgZ(14,"mat-icon"),p._uU(15,"shuffle"),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){var n=p.oxw(2);p.xp6(1),p.AsE("Material submitted to employees from ",n.reportForm.value.startDateSql," to ",n.reportForm.value.endDateSql,""),p.xp6(6),p.Q6J("useExistingCss",!1)}}function w(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"SL"),p.qZA(),p.TgZ(3,"th",33),p._uU(4,"Date "),p._UZ(5,"p-sortIcon",34),p.qZA(),p.TgZ(6,"th",35),p._uU(7,"Employee "),p._UZ(8,"p-sortIcon",36),p.qZA(),p.TgZ(9,"th",37),p._uU(10,"Employee "),p._UZ(11,"p-sortIcon",38),p.qZA(),p.TgZ(12,"th",39),p._uU(13,"Value "),p._UZ(14,"p-sortIcon",40),p.qZA(),p.qZA())}function _(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td",41),p._uU(10),p.ALo(11,"number"),p.qZA(),p.qZA()),2&t){var r=e.$implicit,n=e.rowIndex;p.xp6(2),p.Oqu(n+1),p.xp6(2),p.Oqu(r.record_time),p.xp6(2),p.Oqu(r.emp_name),p.xp6(2),p.Oqu(r.rm_name),p.xp6(2),p.Oqu(p.xi3(11,5,r.inward,"0.3-3"))}}function b(t,e){if(1&t&&(p.TgZ(0,"tr",42),p.TgZ(1,"td"),p._uU(2,"SL"),p.qZA(),p.TgZ(3,"td"),p._uU(4,"Date"),p.qZA(),p.TgZ(5,"td"),p._uU(6,"Employee"),p.qZA(),p.TgZ(7,"td"),p._uU(8,"Employee"),p.qZA(),p.TgZ(9,"td"),p._uU(10,"Value"),p.qZA(),p.qZA(),p.TgZ(11,"tr"),p.TgZ(12,"td",43),p._uU(13,"Total"),p.qZA(),p.TgZ(14,"td",41),p._uU(15),p.ALo(16,"number"),p.qZA(),p.qZA()),2&t){var r=p.oxw(2);p.xp6(15),p.Oqu(p.xi3(16,1,r.totalInward,"0.3-3"))}}var y=function(){return[2e3,3e3,5e3,100,400,600,1e3,5e3]},S=function(){return["emp_name"]};function U(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"div",1),p.TgZ(1,"div",20),p.TgZ(2,"p-table",21,22),p.NdJ("onFilter",function(t){p.CHM(r);var e=p.MAs(3);return p.oxw().onFilter(t,e)}),p.YNc(4,h,16,3,"ng-template",23),p.YNc(5,w,15,0,"ng-template",24),p.YNc(6,_,12,8,"ng-template",25),p.YNc(7,b,17,4,"ng-template",26),p.qZA(),p.qZA(),p.qZA()}if(2&t){var n=p.oxw();p.xp6(2),p.Q6J("value",n.materialTransactions)("rows",5e3)("showCurrentPageReport",!0)("rowsPerPageOptions",p.DdM(7,y))("paginator",!0)("globalFilterFields",p.DdM(8,S))("responsive",!0)}}function D(t,e){if(1&t&&(p.TgZ(0,"div",44),p.TgZ(1,"div",45),p.TgZ(2,"div",46),p.TgZ(3,"div",47),p.TgZ(4,"pre"),p._uU(5),p.ALo(6,"json"),p.qZA(),p.qZA(),p.TgZ(7,"div",48),p.TgZ(8,"pre"),p._uU(9),p.ALo(10,"json"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){var r=p.oxw();p.xp6(5),p.hij("                        reportForm = ",p.lcZ(6,2,r.reportForm.value),"\n                    "),p.xp6(4),p.hij("                        this.materialTransactions = ",p.lcZ(10,4,r.materialTransactions),"\n                    ")}}var F,I=[{path:"",component:(F=function(){function e(r,n,o){t(this,e),this.reportService=r,this.commonService=n,this.adapter=o,this.isProduction=l.N.production,this.isLoading=!1,this.totalInward=0,this.adapter.setLocale("in");var a=new Date,i=new Date;this.reportForm=new u.cw({startDate:new u.NI(a),startDateSql:new u.NI(a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()),endDate:new u.NI(i),endDateSql:new u.NI(i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()),reportLimit:new u.NI(50),rm_id:new u.NI(null)})}return r(e,[{key:"setStartDateSQL",value:function(t){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)})}},{key:"setEndDateSQL",value:function(t){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)})}},{key:"ngOnInit",value:function(){var t=this;this.reportService.getOwnerSubmittedMaterials().subscribe(function(e){t.materialList=e.data})}},{key:"loadReport",value:function(){var t=this;console.log(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,this.reportForm.value.rm_id),this.reportService.getMaterialsSendByOwnerByDatesAndMaterial(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,this.reportForm.value.rm_id).subscribe(function(e){t.materialTransactions=e.data,t.totalInward=t.materialTransactions.map(function(t){return t.inward}).reduce(function(t,e){return t+e})})}},{key:"onFilter",value:function(t,e){this.totalInward=e.filteredValue.map(function(t){return t.inward}).reduce(function(t,e){return t+e})}}]),e}(),F.\u0275fac=function(t){return new(t||F)(p.Y36(c.r),p.Y36(s.v),p.Y36(d._A))},F.\u0275cmp=p.Xpm({type:F,selectors:[["app-material-to-employees-report"]],decls:31,vars:13,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["bindLabel","rm_name","bindValue","rm_id","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],["materialId",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],["class","container-fluid rounded d-flex flex-xl-row justify-content-xl-between flex-column",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["id","transaction-table","styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive","onFilter"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"d-flex","justify-content-between"],[1,"p-input-icon-left","ml-auto","mr-3"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"text-right","no-print",3,"input"],["mat-button","","color","primary","printSectionId","transaction-table","styleSheetFile","assets/print_css/material_from_owner/style1.css","ngxPrint","",1,"no-print","ml-1",3,"useExistingCss"],["mat-button","","color","primary",1,"no-print","ml-1",3,"click"],["pSortableColumn","record_time"],["field","record_time"],["pSortableColumn","emp_name"],["field","emp_name"],["pSortableColumn","rm_name"],["field","rm_name"],["pSortableColumn","inward"],["field","inward"],[1,"text-right"],[1,"no-print"],["colspan","4"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"form",3),p.TgZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"mat-form-field",6),p.TgZ(7,"mat-label"),p._uU(8,"Start Date"),p.qZA(),p.TgZ(9,"input",7,8),p.NdJ("dateInput",function(){p.CHM(r);var t=p.MAs(10);return e.setStartDateSQL(t.value)}),p.qZA(),p._UZ(11,"mat-datepicker-toggle",9),p._UZ(12,"mat-datepicker",10,11),p.qZA(),p.TgZ(14,"mat-form-field",6),p.TgZ(15,"mat-label"),p._uU(16,"End Date"),p.qZA(),p.TgZ(17,"input",12,13),p.NdJ("dateInput",function(){p.CHM(r);var t=p.MAs(18);return e.setEndDateSQL(t.value)}),p.qZA(),p._UZ(19,"mat-datepicker-toggle",9),p._UZ(20,"mat-datepicker",10,14),p.qZA(),p.qZA(),p.TgZ(22,"div",5),p._UZ(23,"ng-select",15,16),p.qZA(),p.TgZ(25,"div",5),p.TgZ(26,"div"),p._uU(27),p.qZA(),p.TgZ(28,"button",17),p.NdJ("click",function(){return e.loadReport()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(29,U,8,9,"div",18),p.qZA(),p.YNc(30,D,11,6,"div",19)}if(2&t){var n=p.MAs(10),o=p.MAs(13),a=p.MAs(18),i=p.MAs(21);p.xp6(3),p.Q6J("formGroup",e.reportForm),p.xp6(6),p.Q6J("matDatepicker",o),p.xp6(2),p.Q6J("for",o),p.xp6(1),p.Q6J("opened",!0),p.xp6(5),p.Q6J("matDatepicker",i),p.xp6(2),p.Q6J("for",i),p.xp6(1),p.Q6J("opened",!1),p.xp6(3),p.Q6J("items",e.materialList),p.xp6(4),p.AsE("Material Submit from ",n.value," to ",a.value,""),p.xp6(1),p.Q6J("loading",e.isLoading),p.xp6(1),p.Q6J("ngIf",e.materialTransactions),p.xp6(1),p.Q6J("ngIf",!e.isProduction)}},directives:[u._Y,u.JL,u.sg,m.KE,m.hX,f.Nt,u.Fj,Z.hl,u.JJ,u.u,Z.nW,m.R9,Z.Mq,g.w9,v.Hq,a.O5,A.iA,T.jx,q.I,x.Hw,A.lQ,A.fz],pipes:[a.JJ,a.Ts],styles:[""]}),F)}],k=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[i.Bz.forChild(I)],i.Bz]}),e}(),J=o(70705),M=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[a.ez,k,Z.FA,f.c,d.XK,u.UX,v.hJ,A.U$,J.L$,g.A0,x.Ps,q.K]]}),e}()}}])}();