"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2642],{92642:function(e,t,r){r.r(t),r.d(t,{NitricToFineModule:function(){return w}});var i=r(38583),o=r(63423),n=r(92340),a=r(3679),c=r(88259),s=r.n(c),l=r(37716),u=r(91841),p=r(57916),g=r(98295),h=r(49983),m=r(51095),v=r(42542),Z=r(65939);function d(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td",23),l._uU(4),l.ALo(5,"number"),l.qZA(),l.qZA()),2&e){const e=t.$implicit;l.xp6(2),l.Oqu(e.rawMaterialName),l.xp6(2),l.Oqu(l.xi3(5,2,e.closingBalance,"1.3"))}}function T(e,t){if(1&e&&(l.TgZ(0,"div",18),l.TgZ(1,"h3"),l._uU(2,"Material balance before conversion"),l.qZA(),l.TgZ(3,"table",19),l.TgZ(4,"thead"),l.TgZ(5,"tr"),l.TgZ(6,"th",20),l._uU(7,"Material Name"),l.qZA(),l.TgZ(8,"th",21),l._uU(9,"Value"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"tbody"),l.YNc(11,d,6,5,"tr",22),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(11),l.Q6J("ngForOf",e.managerMaterialBalance)}}function f(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td",23),l._uU(4),l.ALo(5,"number"),l.qZA(),l.qZA()),2&e){const e=t.$implicit;l.xp6(2),l.Oqu(e.rawMaterialName),l.xp6(2),l.Oqu(l.xi3(5,2,e.closingBalance,"1.3"))}}function A(e,t){if(1&e&&(l.TgZ(0,"div",18),l.TgZ(1,"h3"),l._uU(2,"Material balance after conversion"),l.qZA(),l.TgZ(3,"table",24),l.TgZ(4,"thead"),l.TgZ(5,"tr"),l.TgZ(6,"th",25),l._uU(7,"Material Name"),l.qZA(),l.TgZ(8,"th",20),l._uU(9,"Value"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"tbody"),l.YNc(11,f,6,5,"tr",22),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(11),l.Q6J("ngForOf",e.materialBalanceUpdated)}}function b(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"mat-button-toggle-group",26),l.TgZ(1,"mat-button-toggle",27),l.NdJ("click",function(){return l.CHM(e),l.oxw().showDeveloperDiv=!0}),l._uU(2,"Show"),l.qZA(),l.TgZ(3,"mat-button-toggle",27),l.NdJ("click",function(){return l.CHM(e),l.oxw().showDeveloperDiv=!1}),l._uU(4,"Hide"),l.qZA(),l.qZA()}}function q(e,t){if(1&e&&(l.TgZ(0,"div",28),l.TgZ(1,"div",29),l.TgZ(2,"h2"),l._uU(3,"Developer Area"),l.qZA(),l.TgZ(4,"mat-tab-group",30),l.TgZ(5,"mat-tab",31),l.TgZ(6,"pre"),l._uU(7),l.ALo(8,"json"),l.qZA(),l.qZA(),l.TgZ(9,"mat-tab",32),l.TgZ(10,"pre"),l._uU(11,"\n                "),l.qZA(),l.qZA(),l.TgZ(12,"mat-tab",33),l.TgZ(13,"pre"),l._uU(14,"\n                "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(7),l.hij("                    managerMaterialBalance = ",l.lcZ(8,1,e.managerMaterialBalance),"\n                ")}}const F=[{path:"",component:(()=>{class e{constructor(e,t,r){this.route=e,this.http=t,this.managerService=r,this.isProduction=n.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(e=>{this.managerMaterialBalance=e.materialResolver.managerMaterialBalance.data}),this.http.get("assets/projectDetails.json").subscribe(e=>{this.projectDetails=e,this.nitricToFineConversion=this.projectDetails.nitricToFineConversion}),this.nitricToFineForm=new a.cw({nitric_value:new a.NI(0,[a.kI.required]),fine_value:new a.NI(0,[a.kI.required])})}ngOnInit(){}resetForm(){this.nitricToFineForm.reset({nitric_value:0,fine_value:0}),this.nitricToFineForm.markAsPristine(),this.savedResponse=null,this.materialBalanceUpdated=null}onNitricChange(e){this.nitricToFineForm.patchValue({fine_value:((+e.value||0)*this.nitricToFineConversion.nitricToFineRatio).toFixed(3)})}saveConversion(){s().fire({title:"Nitric to Fine",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.saveNitricToFine(this.nitricToFineForm.value).subscribe(e=>{!0===e.status&&(s().fire({timer:2e3,title:"Saved",text:"Nitric Successfully Converted to Fine",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e,this.materialBalanceUpdated=e.data.material_balance,this.nitricToFineForm.markAsPristine())},e=>{s().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(o.gz),l.Y36(u.eN),l.Y36(p.b))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-nitric-to-fine"]],decls:33,vars:6,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],[1,"example-full-width"],["type","number","matInput","","formControlName","nitric_value","placeholder","Nitric",1,"text-right",3,"keyup"],["nitricValue",""],["type","number","matInput","","formControlName","fine_value","placeholder","Fine",1,"text-right"],["fineValue",""],["align","start"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-dark","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col",2,"border-radius","20px"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h3"),l._uU(3,"Nitric to Fine conversion"),l.qZA(),l.TgZ(4,"form",2),l.TgZ(5,"div"),l.TgZ(6,"mat-form-field",3),l.TgZ(7,"mat-label"),l._uU(8,"Enter Nitric"),l.qZA(),l.TgZ(9,"input",4,5),l.NdJ("keyup",function(){l.CHM(e);const r=l.MAs(10);return t.onNitricChange(r)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div"),l.TgZ(12,"mat-form-field",3),l.TgZ(13,"mat-label"),l._uU(14,"Enter Fine Gold after conversion"),l.qZA(),l._UZ(15,"input",6,7),l.TgZ(17,"mat-hint",8),l._uU(18,'"\u0986\u09b8\u09b2\u09c7 \u09af\u09be \u09aa\u09be\u0993\u09df\u09be \u0997\u09c7\u099b\u09c7 \u09a4\u09be\u0987 \u09b2\u09bf\u0996\u09a4\u09c7 \u09b9\u09ac\u09c7"'),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div",9),l.TgZ(20,"div",10),l.TgZ(21,"div",11),l.TgZ(22,"button",12),l.NdJ("click",function(){return t.resetForm()}),l._uU(23,"Reset"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(24,"div",10),l.TgZ(25,"div",11),l.TgZ(26,"button",13),l.NdJ("click",function(){return t.saveConversion()}),l._uU(27,"Save Conversion"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",14),l.YNc(29,T,12,1,"div",15),l.YNc(30,A,12,1,"div",15),l.qZA(),l.qZA(),l.YNc(31,b,5,0,"mat-button-toggle-group",16),l.YNc(32,q,15,3,"div",17)}2&e&&(l.xp6(4),l.Q6J("formGroup",t.nitricToFineForm),l.xp6(22),l.Q6J("disabled",!t.nitricToFineForm.valid||t.nitricToFineForm.pristine),l.xp6(3),l.Q6J("ngIf",t.managerMaterialBalance),l.xp6(1),l.Q6J("ngIf",t.savedResponse),l.xp6(1),l.Q6J("ngIf",!t.isProduction),l.xp6(1),l.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[a._Y,a.JL,a.sg,g.KE,g.hX,a.wV,h.Nt,a.Fj,a.JJ,a.u,g.bx,m.lW,i.O5,i.sg,v.A9,v.Yi,Z.SP,Z.uX],pipes:[i.JJ,i.Ts],styles:[""]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.Bz.forChild(F)],o.Bz]}),e})();var S=r(86640);let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,x,g.lN,a.UX,h.c,v.vV,Z.Nh,S.A0,m.ot]]}),e})()},57916:function(e,t,r){r.d(t,{b:function(){return l}});var i=r(5304),o=r(68307),n=r(37716),a=r(5620),c=r(91841),s=r(84889);let l=(()=>{class e{constructor(e,t,r){this.commonService=e,this.http=t,this.errorService=r}saveFineToNinetyTwo(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveDalCreation(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}savePanCreation(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveMaterialTransfer(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveMaterialFromEmployee(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveCashTransactionBetweenEmployee(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}cashTransactionsByCurrentUser(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveMaterialFromOwnerToManager(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveMaterialFromManagerToOwner(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveNitricToFine(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}addTopUpGold(e,t){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+t,{}).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}saveGpTransactions(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,i.K)(this.errorService.serverError),(0,o.b)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(a.v),n.LFG(c.eN),n.LFG(s.T))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);