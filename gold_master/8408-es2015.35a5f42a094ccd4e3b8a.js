"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8408],{58408:function(t,e,o){o.r(e),o.d(e,{PrintJobForWonerModule:function(){return m}});var n=o(38583),i=o(63423),r=o(92340),Z=o(3679),l=o(37716),a=o(82820),u=o(5620),s=o(91841),g=o(95913),d=o(76627);function p(t,e){if(1&t&&(l.TgZ(0,"div",13),l.TgZ(1,"h5"),l._uU(2,"Job Details"),l.qZA(),l.TgZ(3,"pre"),l._uU(4),l.ALo(5,"json"),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(4),l.Oqu(l.lcZ(5,1,t.jobData))}}function c(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td",21),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(2),l.Oqu(t.transaction_text),l.xp6(2),l.Oqu(t.comment),l.xp6(2),l.Oqu(t.gold_value),l.xp6(2),l.Oqu(t.timestamp)}}function q(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td",21),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(2),l.Oqu(t.transaction_text),l.xp6(2),l.Oqu(t.comment),l.xp6(2),l.Oqu(t.gold_value),l.xp6(2),l.Oqu(t.timestamp)}}function A(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td",21),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(2),l.Oqu(t.transaction_text),l.xp6(2),l.Oqu(t.comment),l.xp6(2),l.Oqu(t.gold_value),l.xp6(2),l.Oqu(t.timestamp)}}function b(t,e){if(1&t&&(l.TgZ(0,"div",14),l.TgZ(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"h3"),l._uU(4),l.qZA(),l.TgZ(5,"table",15),l.TgZ(6,"thead"),l.TgZ(7,"tr"),l.TgZ(8,"th"),l._uU(9,"Transaction"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Comment"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Value (gms)"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Timestamp"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"tbody"),l.YNc(17,c,9,4,"tr",16),l.TgZ(18,"tr",17),l.TgZ(19,"td",18),l._uU(20,"Gold Used"),l.qZA(),l.TgZ(21,"td",19),l._uU(22),l.ALo(23,"number"),l.qZA(),l.qZA(),l.YNc(24,q,9,4,"tr",16),l.TgZ(25,"tr",17),l.TgZ(26,"td",18),l._uU(27,"Pan Used"),l.qZA(),l.TgZ(28,"td",19),l._uU(29),l.ALo(30,"number"),l.qZA(),l.qZA(),l.YNc(31,A,9,4,"tr",16),l.TgZ(32,"tr",17),l.TgZ(33,"td",20),l._uU(34,"Nitric Used"),l.qZA(),l.TgZ(35,"td",19),l._uU(36),l.ALo(37,"number"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(38,"h3"),l._uU(39,"Final Calculation"),l.qZA(),l.TgZ(40,"table",15),l.TgZ(41,"thead"),l.TgZ(42,"tr"),l.TgZ(43,"td"),l._uU(44,"Sl"),l.qZA(),l.TgZ(45,"td"),l._uU(46,"Subject"),l.qZA(),l.TgZ(47,"td"),l._uU(48,"Value"),l.qZA(),l.TgZ(49,"td"),l._uU(50,"Job%"),l.qZA(),l.TgZ(51,"td"),l._uU(52,"Bill%"),l.qZA(),l.TgZ(53,"td"),l._uU(54,"Bill Value"),l.qZA(),l.TgZ(55,"td"),l._uU(56,"Fine 92%"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(57,"tbody"),l.TgZ(58,"tr"),l.TgZ(59,"th"),l._uU(60,"1"),l.qZA(),l.TgZ(61,"td"),l._uU(62,"Gold Used"),l.qZA(),l.TgZ(63,"td"),l._uU(64),l.ALo(65,"number"),l.qZA(),l.TgZ(66,"td"),l._uU(67,"100%"),l.qZA(),l.TgZ(68,"td"),l._uU(69,"100%"),l.qZA(),l.TgZ(70,"td"),l._uU(71),l.ALo(72,"number"),l.qZA(),l.TgZ(73,"td",21),l._uU(74),l.ALo(75,"number"),l.qZA(),l.qZA(),l.TgZ(76,"tr"),l.TgZ(77,"th"),l._uU(78,"2"),l.qZA(),l.TgZ(79,"td"),l._uU(80,"Pan Used"),l.qZA(),l.TgZ(81,"td"),l._uU(82),l.ALo(83,"number"),l.qZA(),l.TgZ(84,"td"),l._uU(85,"100%"),l.qZA(),l.TgZ(86,"td"),l._uU(87,"40%"),l.qZA(),l.TgZ(88,"td"),l._uU(89),l.ALo(90,"number"),l.qZA(),l.TgZ(91,"td",21),l._uU(92),l.ALo(93,"number"),l.qZA(),l.qZA(),l.TgZ(94,"tr"),l.TgZ(95,"th"),l._uU(96,"3"),l.qZA(),l.TgZ(97,"td"),l._uU(98,"Nitric Used"),l.qZA(),l.TgZ(99,"td"),l._uU(100),l.ALo(101,"number"),l.qZA(),l.TgZ(102,"td"),l._uU(103,"93%"),l.qZA(),l.TgZ(104,"td"),l._uU(105,"100%"),l.qZA(),l.TgZ(106,"td"),l._uU(107),l.ALo(108,"number"),l.qZA(),l.TgZ(109,"td",21),l._uU(110),l.ALo(111,"number"),l.qZA(),l.qZA(),l.TgZ(112,"tr"),l.TgZ(113,"th"),l._uU(114,"4"),l.qZA(),l.TgZ(115,"td"),l._uU(116,"P Loss"),l.qZA(),l.TgZ(117,"td",22),l._uU(118),l.ALo(119,"number"),l.qZA(),l.TgZ(120,"td"),l._uU(121),l.ALo(122,"number"),l.qZA(),l.TgZ(123,"td",21),l._uU(124),l.ALo(125,"number"),l.qZA(),l.qZA(),l.TgZ(126,"tr"),l.TgZ(127,"th"),l._uU(128,"5"),l.qZA(),l.TgZ(129,"td"),l._uU(130,"MV"),l.qZA(),l.TgZ(131,"td",22),l._uU(132),l.ALo(133,"number"),l.qZA(),l.TgZ(134,"td"),l._uU(135),l.ALo(136,"number"),l.qZA(),l.TgZ(137,"td",21),l._uU(138),l.ALo(139,"number"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(140,"tfoot"),l.TgZ(141,"tr",17),l.TgZ(142,"th",23),l._uU(143,"Final Bill Calculated"),l.qZA(),l.TgZ(144,"th"),l._uU(145),l.ALo(146,"number"),l.qZA(),l.TgZ(147,"th",21),l._uU(148),l.ALo(149,"number"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(2),l.hij("JOB Details for ID: ",t.jobDetails.job.job_id,""),l.xp6(2),l.hij("Bill No . ",t.jobDetails.bill_no,""),l.xp6(13),l.Q6J("ngForOf",t.jobDetails.gold),l.xp6(5),l.hij(" ",l.xi3(23,27,t.totalGoldUse,"1.3-3"),""),l.xp6(2),l.Q6J("ngForOf",t.jobDetails.pan),l.xp6(5),l.hij(" ",l.xi3(30,30,t.totalPanUse,"1.3-3"),""),l.xp6(2),l.Q6J("ngForOf",t.jobDetails.nitric),l.xp6(5),l.hij(" ",l.xi3(37,33,t.totalNitricUse,"1.3-3"),""),l.xp6(28),l.Oqu(l.xi3(65,36,t.totalGoldUse,"1.3-3")),l.xp6(7),l.Oqu(l.xi3(72,39,t.totalGoldUse,"1.3-3")),l.xp6(3),l.Oqu(l.xi3(75,42,.92*t.totalGoldUse,"1.3-3")),l.xp6(8),l.Oqu(l.xi3(83,45,t.totalPanUse,"1.3-3")),l.xp6(7),l.Oqu(l.xi3(90,48,t.totalPanUse*t.jobDetails.rm_bangle_pan.bill_percentage,"1.3-3")),l.xp6(3),l.Oqu(l.xi3(93,51,t.totalPanUse*t.jobDetails.rm_bangle_pan.bill_percentage*.92,"1.3-3")),l.xp6(8),l.Oqu(l.xi3(101,54,t.totalNitricUse,"1.3-3")),l.xp6(7),l.Oqu(l.xi3(108,57,.93*t.totalNitricUse,"1.3-3")),l.xp6(3),l.Oqu(l.xi3(111,60,.92*t.totalNitricUse,"1.3-3")),l.xp6(8),l.AsE("",l.xi3(119,63,t.jobDetails.job.p_loss,"1.3-3")," X ",t.jobDetails.job.pieces," pcs "),l.xp6(3),l.Oqu(l.xi3(122,66,t.totalPLoss,"1.3-3")),l.xp6(3),l.Oqu(l.xi3(125,69,.92*t.totalPLoss,"1.3-3")),l.xp6(8),l.AsE("",l.xi3(133,72,t.jobDetails.job.markup_value,"1.3-3")," X ",t.jobDetails.job.pieces," pcs "),l.xp6(3),l.Oqu(l.xi3(136,75,t.totalMV,"1.3-3")),l.xp6(3),l.Oqu(l.xi3(139,78,.92*t.totalMV,"1.3-3")),l.xp6(7),l.Oqu(l.xi3(146,81,t.finalGini,"1.3-3")),l.xp6(3),l.Oqu(l.xi3(149,84,.92*t.finalGini,"1.3-3"))}}function T(t,e){if(1&t&&(l.TgZ(0,"div",24),l.TgZ(1,"div",25),l.TgZ(2,"div",26),l.TgZ(3,"div",27),l.TgZ(4,"div",28),l.TgZ(5,"pre"),l._uU(6),l.ALo(7,"json"),l.qZA(),l.qZA(),l.qZA(),l._UZ(8,"div",29),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(6),l.hij("                        jobDetails=",l.lcZ(7,1,t.jobDetails),"\n                    ")}}const x=[{path:"",component:(()=>{class t{constructor(t,e,o,n){this.reportService=t,this.commonService=e,this.fb=o,this.http=n,this.isProduction=r.N.production,this.totalGoldUse=0,this.totalPanUse=0,this.totalNitricUse=0,this.totalPLoss=0,this.totalMV=0,this.finalGini=0,this.printDivStyle="\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 12px;\n  }\n  th, td {\n    padding: 8px;\n    border: 1px solid black;\n  }\n  th {\n    text-align: left;\n  }\n  .text-end, .text-right {\n    text-align: right !important;\n  }\n  .text-center {\n    text-align: center !important;\n  }\n  .fw-bold {\n    font-weight: bold !important;\n  }\n",this.searchForm=this.fb.group({jobNumber:["",Z.kI.required]})}ngOnInit(){}onSearch(){this.reportService.getJobDetailsforOwner(this.searchForm.value.jobNumber).subscribe({next:t=>{this.jobDetails=t.data,this.totalGoldUse=this.jobDetails.gold.map(t=>t.gold_value).reduce((t,e)=>t+e,0),this.totalPanUse=this.jobDetails.pan.map(t=>t.gold_value).reduce((t,e)=>t+e,0),this.totalNitricUse=this.jobDetails.nitric.map(t=>t.gold_value).reduce((t,e)=>t+e,0),this.totalPLoss=this.jobDetails.job.p_loss*this.jobDetails.job.pieces,this.totalMV=this.jobDetails.job.markup_value*this.jobDetails.job.pieces,this.finalGini=this.totalGoldUse+this.totalPanUse*this.jobDetails.rm_bangle_pan.bill_percentage+.93*this.totalNitricUse+this.totalPLoss+this.totalMV},error:t=>{console.log(t),alert("Error: "+t.error.message)}})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(a.r),l.Y36(u.v),l.Y36(Z.qu),l.Y36(s.eN))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-print-job-for-woner"]],decls:17,vars:6,consts:[[1,"d-flex","flex-row","mb-3","ms-4",2,"min-height","100vh","overflow","hidden"],["id","job-search",1,"ms-2",2,"width","16.66%"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","jobNumber",1,"form-label"],["id","jobNumber","type","text","formControlName","jobNumber","placeholder","e.g. J12345",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","mt-3",4,"ngIf"],[2,"width","83.33%"],[2,"text-align","center"],["mat-button","","color","primary","printSectionId","print-job-details","ngxPrint","",3,"printStyle"],["id","print-job-details",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"mt-3"],["id","print-job-details"],["border","1","cellpadding","8","cellspacing","0"],[4,"ngFor","ngForOf"],[2,"border-top","1px solid black","border-bottom","1px solid black"],["colspan","2",1,"text-center","fw-bold"],[1,"text-end","fw-bold"],["colspan","2",1,"text-end","fw-bold"],[1,"text-end"],["colspan","3"],["colspan","5"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],[1,"p-3"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"form",2),l.NdJ("ngSubmit",function(){return e.onSearch()}),l.TgZ(3,"div",3),l.TgZ(4,"label",4),l._uU(5,"Enter Job Number:"),l.qZA(),l._UZ(6,"input",5),l.qZA(),l.TgZ(7,"button",6),l._uU(8," Search "),l.qZA(),l.qZA(),l.YNc(9,p,6,3,"div",7),l.qZA(),l.TgZ(10,"div",8),l.TgZ(11,"div",9),l.TgZ(12,"button",10),l.TgZ(13,"mat-icon"),l._uU(14,"print"),l.qZA(),l.qZA(),l.qZA(),l.YNc(15,b,150,87,"div",11),l.qZA(),l.qZA(),l.YNc(16,T,9,3,"div",12)),2&t&&(l.xp6(2),l.Q6J("formGroup",e.searchForm),l.xp6(5),l.Q6J("disabled",e.searchForm.invalid),l.xp6(2),l.Q6J("ngIf",e.jobData),l.xp6(3),l.Q6J("printStyle",e.printDivStyle),l.xp6(3),l.Q6J("ngIf",e.jobDetails),l.xp6(1),l.Q6J("ngIf",!e.isProduction))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.u,n.O5,g.I,d.Hw,n.sg],pipes:[n.Ts,n.JJ],styles:["","table[_ngcontent-%COMP%] {\n                width: 100%;\n                border-collapse: collapse;\n                font-size: 12px;\n            }\n            th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n                padding: 8px;\n                border: 1px solid black;\n            }\n            th[_ngcontent-%COMP%] {\n                text-align: left;\n            }\n            .text-end[_ngcontent-%COMP%], .text-right[_ngcontent-%COMP%] {\n                text-align: right !important;\n            }\n            .text-center[_ngcontent-%COMP%] {\n                text-align: center !important;\n            }\n            .fw-bold[_ngcontent-%COMP%] {\n                font-weight: bold !important;\n            }"]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.Bz.forChild(x)],i.Bz]}),t})();var U=o(80291);let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,_,Z.UX,U.pm,g.K,d.Ps]]}),t})()}}]);