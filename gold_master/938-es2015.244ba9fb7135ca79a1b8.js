"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[938],{3938:function(t,e,a){a.r(e),a.d(e,{SalaryAdjustmentModule:function(){return A}});var n=a(38583),o=a(63423),r=a(92340),l=a(88259),u=a.n(l),i=a(37716),d=a(22761),c=a(95913),s=a(76627),g=a(3679);function Z(t,e){if(1&t&&(i.TgZ(0,"tr"),i.TgZ(1,"th",22),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.qZA()),2&t){const t=e.$implicit,a=e.index;i.xp6(2),i.Oqu(a+1),i.xp6(2),i.Oqu(t.salaryHolderName),i.xp6(2),i.Oqu(t.calculatedSalary)}}function p(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"th",22),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i.TgZ(8,"input",23),i.NdJ("ngModelChange",function(e){return i.CHM(t).$implicit.hourDeduction=e})("change",function(){return i.CHM(t),i.oxw().onHourDeductionChange()}),i.qZA(),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i.TgZ(12,"input",24),i.NdJ("ngModelChange",function(e){return i.CHM(t).$implicit.salaryDeductionPercentage=e})("change",function(){const e=i.CHM(t).$implicit;return i.oxw().onMonthlyDeductionPercentageChange(e)}),i.qZA(),i.qZA(),i.TgZ(13,"td"),i._uU(14),i.qZA(),i.TgZ(15,"td"),i.TgZ(16,"input",24),i.NdJ("ngModelChange",function(e){return i.CHM(t).$implicit.amountAdded=e})("change",function(){const e=i.CHM(t).$implicit;return i.oxw().onAmountAddedChange(e)}),i.qZA(),i.qZA(),i.TgZ(17,"td"),i._uU(18),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,a=e.index;i.xp6(2),i.Oqu(a+1),i.xp6(2),i.Oqu(t.salaryHolderName),i.xp6(2),i.Oqu(t.salary),i.xp6(2),i.Q6J("ngModel",t.hourDeduction),i.xp6(2),i.Oqu(t.hourDeductionAmount),i.xp6(2),i.Q6J("ngModel",t.salaryDeductionPercentage),i.xp6(2),i.Oqu(t.deduction),i.xp6(2),i.Q6J("ngModel",t.amountAdded),i.xp6(2),i.Oqu(t.calculatedSalary)}}function h(t,e){if(1&t&&(i.TgZ(0,"div",25),i.TgZ(1,"div",26),i.TgZ(2,"div",27),i.TgZ(3,"div",28),i.TgZ(4,"pre"),i._uU(5),i.ALo(6,"json"),i.qZA(),i.qZA(),i._UZ(7,"div",29),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(5),i.hij("                    salaryHolders=",i.lcZ(6,1,t.salaryHolders),"\n                ")}}const y=[{path:"",component:(()=>{class t{constructor(t,e){this.route=t,this.salaryService=e,this.isProduction=r.N.production,this.sumOfCalculatedSalary=0,this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.route.data.subscribe(t=>{this.salaryHolders=t.salaryAdjustmentResolver.salaryHolders.data,this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)})}ngOnInit(){}onHourDeductionChange(){this.salaryHolders.map(t=>{t.hourDeductionAmount=t.hourDeduction*t.hourlyRate,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}onDeductionPercentageChange(t){const e=Number(t);this.salaryHolders.map(t=>{t.salaryDeductionPercentage=e,t.deduction=t.salary*e/100,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}onMonthlyDeductionPercentageChange(t){t.deduction=t.salary*t.salaryDeductionPercentage/100,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}onAmountAddedChange(t){t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}saveSalary(){this.salaryService.saveSalaryHolderSalary(this.salaryHolders).subscribe(t=>{!0===t.status?u().fire({title:"Done",text:"Salary saved successfully",icon:"success"}):u().fire({title:"Failed",text:"Unable to save",icon:"error"})})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.gz),i.Y36(d.M))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-salary-adjustment"]],decls:68,vars:6,consts:[[1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-4",2,"background-color","rgb(199, 192, 192)"],["id","printSalaryList"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","2"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printSalaryList","ngxPrint","",3,"printStyle","useExistingCss"],[1,"bloc_2","p-2","col-xl-8",2,"background-color","antiquewhite"],[1,"form-inline"],[1,"form-group"],[1,"mr-3"],["type","number","aria-describedby","deductionPercentageHelp","placeholder","Deduction Percentage",1,"form-control"],["deductionPercentage",""],["id","deductionPercentageHelp",1,"form-text","text-muted"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div","class","d-flex flex-column","style","min-height: 100vh; margin-bottom: 50px;",4,"ngIf"],["scope","row"],["type","number","placeholder","HOUR",1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","placeholder","Percentage",1,"form-control",3,"ngModel","ngModelChange","change"],["id","developer-div",1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"outerContainer",2,"margin-top","50px","border","1px solid black"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._uU(2,"I am Header, i will stay here"),i.qZA(),i.TgZ(3,"div",2),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i.TgZ(6,"div",5),i.TgZ(7,"table",6),i.TgZ(8,"thead"),i.TgZ(9,"tr"),i.TgZ(10,"th",7),i._uU(11,"#"),i.qZA(),i.TgZ(12,"th",7),i._uU(13,"Name"),i.qZA(),i.TgZ(14,"th",7),i._uU(15,"Final Salary"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(16,"tbody"),i.YNc(17,Z,7,3,"tr",8),i.qZA(),i.TgZ(18,"thead"),i.TgZ(19,"tr"),i.TgZ(20,"td",9),i._uU(21,"Total Salary"),i.qZA(),i.TgZ(22,"td"),i._uU(23),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(24,"div",10),i.TgZ(25,"button",11),i.TgZ(26,"mat-icon"),i._uU(27,"print"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"div",12),i.TgZ(29,"form",13),i.TgZ(30,"div",14),i.TgZ(31,"label",15),i._uU(32,"Salary Deduction in percentage "),i.qZA(),i._UZ(33,"input",16,17),i.TgZ(35,"small",18),i._uU(36,"%"),i.qZA(),i.qZA(),i.TgZ(37,"button",19),i.NdJ("click",function(){i.CHM(t);const a=i.MAs(34);return e.onDeductionPercentageChange(a.value)}),i._uU(38,"Calculate"),i.qZA(),i.qZA(),i.TgZ(39,"table",6),i.TgZ(40,"thead"),i.TgZ(41,"tr"),i.TgZ(42,"th",7),i._uU(43,"#"),i.qZA(),i.TgZ(44,"th",7),i._uU(45,"Name"),i.qZA(),i.TgZ(46,"th",7),i._uU(47,"Salary"),i.qZA(),i.TgZ(48,"th",7),i._uU(49,"Hour(-)"),i.qZA(),i.TgZ(50,"th",7),i._uU(51,"Hour Deduction"),i.qZA(),i.TgZ(52,"th",7),i._uU(53,"Monthly Deduction%"),i.qZA(),i.TgZ(54,"th",7),i._uU(55,"Monthly Deduction"),i.qZA(),i.TgZ(56,"th",7),i._uU(57,"Extra Pay"),i.qZA(),i.TgZ(58,"th",7),i._uU(59,"Final Salary"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(60,"tbody"),i.YNc(61,p,19,9,"tr",8),i.qZA(),i.qZA(),i.TgZ(62,"div"),i.TgZ(63,"button",19),i.NdJ("click",function(){return e.saveSalary()}),i._uU(64,"Save Salary"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(65,"div",20),i._uU(66,"I am footer, i will stay here"),i.qZA(),i.qZA(),i.YNc(67,h,8,3,"div",21)}2&t&&(i.xp6(17),i.Q6J("ngForOf",e.salaryHolders),i.xp6(6),i.Oqu(e.sumOfCalculatedSalary),i.xp6(2),i.Q6J("printStyle",e.printDivStyle)("useExistingCss",!0),i.xp6(36),i.Q6J("ngForOf",e.salaryHolders),i.xp6(6),i.Q6J("ngIf",!e.isProduction))},directives:[n.sg,c.I,s.Hw,g._Y,g.JL,g.F,n.O5,g.wV,g.Fj,g.JJ,g.On],pipes:[n.Ts],styles:["[_nghost-%COMP%]     .p-cell-editing{padding-top:0!important;padding-bottom:0!important}"]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.Bz.forChild(y)],o.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[n.ez,m,g.u5,s.Ps,c.K]]}),t})()}}]);