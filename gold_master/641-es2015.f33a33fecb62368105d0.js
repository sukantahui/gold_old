"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[641],{59619:function(t,e,a){a.r(e),a.d(e,{SalaryAdjustmentModule:function(){return A}});var r=a(16274),n=a(65543),o=a(24766),l=a(3420),u=a.n(l),i=a(93324),d=a(42741),c=a(61782),s=a(19275),g=a(31749);function Z(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"th",29),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.qZA()),2&t){const t=e.$implicit,a=e.index;d.xp6(2),d.Oqu(a+1),d.xp6(2),d.Oqu(t.salaryHolderName),d.xp6(2),d.Oqu(t.calculatedSalary)}}function m(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",29),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d.TgZ(8,"input",30),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.hourDeduction=e})("change",function(){return d.CHM(t),d.oxw().onHourDeductionChange()}),d.qZA(),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d.TgZ(12,"input",31),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.salaryDeductionPercentage=e})("change",function(){const e=d.CHM(t).$implicit;return d.oxw().onMonthlyDeductionPercentageChange(e)}),d.qZA(),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.TgZ(15,"td"),d.TgZ(16,"input",31),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.amountAdded=e})("change",function(){const e=d.CHM(t).$implicit;return d.oxw().onAmountAddedChange(e)}),d.qZA(),d.qZA(),d.TgZ(17,"td"),d._uU(18),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,a=e.index;d.xp6(2),d.Oqu(a+1),d.xp6(2),d.Oqu(t.salaryHolderName),d.xp6(2),d.Oqu(t.salary),d.xp6(2),d.Q6J("ngModel",t.hourDeduction),d.xp6(2),d.Oqu(t.hourDeductionAmount),d.xp6(2),d.Q6J("ngModel",t.salaryDeductionPercentage),d.xp6(2),d.Oqu(t.deduction),d.xp6(2),d.Q6J("ngModel",t.amountAdded),d.xp6(2),d.Oqu(t.calculatedSalary)}}function p(t,e){if(1&t&&(d.TgZ(0,"div",32),d.TgZ(1,"div",33),d.TgZ(2,"div",34),d.TgZ(3,"div",35),d.TgZ(4,"pre"),d._uU(5),d.ALo(6,"json"),d.qZA(),d.qZA(),d._UZ(7,"div",36),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw();d.xp6(5),d.hij("                    salaryHolders=",d.lcZ(6,1,t.salaryHolders),"\n                ")}}const y=[{path:"",component:(()=>{class t{constructor(t,e){this.route=t,this.salaryService=e,this.isProduction=o.N.production,this.sumOfCalculatedSalary=0,this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.route.data.subscribe(t=>{this.salaryHolders=t.salaryAdjustmentResolver.salaryHolders.data,this.salaryYear=t.salaryAdjustmentResolver.salaryPeriod.data.yearNumber,this.salaryMonth=t.salaryAdjustmentResolver.salaryPeriod.data.monthNumber,this.salaryYearMonthForm=new i.cw({yearNumber:new i.NI(this.salaryYear),monthNumber:new i.NI(this.salaryMonth)}),this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)})}ngOnInit(){}onHourDeductionChange(){this.salaryHolders.map(t=>{t.hourDeductionAmount=t.hourDeduction*t.hourlyRate,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}onDeductionPercentageChange(t){const e=Number(t);this.salaryHolders.map(t=>{t.salaryDeductionPercentage=e,t.deduction=t.salary*e/100,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}onMonthlyDeductionPercentageChange(t){t.deduction=t.salary*t.salaryDeductionPercentage/100,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}onAmountAddedChange(t){t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(t=>t.calculatedSalary).reduce((t,e)=>t+e)}saveSalary(){this.salaryService.saveSalaryHolderSalary(this.salaryHolders).subscribe(t=>{!0===t.status?u().fire({title:"Done",text:"Salary saved successfully",icon:"success"}):u().fire({title:"Failed",text:"Unable to save",icon:"error"})})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(n.gz),d.Y36(c.M))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-salary-adjustment"]],decls:81,vars:7,consts:[[1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"d-flex","p-2","justify-content-center",2,"background-color","rgb(228,229,215)"],[1,"col-6",3,"formGroup"],[1,"form-row"],[1,"col-1"],[1,"col"],["readonly","","type","number","formControlName","yearNumber","placeholder","First name",1,"form-control"],["readonly","","type","number","min","1","max","12","formControlName","monthNumber","placeholder","Last name",1,"form-control"],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-4",2,"background-color","rgb(199, 192, 192)"],["id","printSalaryList"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","2"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printSalaryList","ngxPrint","",3,"printStyle","useExistingCss"],[1,"bloc_2","p-2","col-xl-8",2,"background-color","antiquewhite"],[1,"form-inline"],[1,"form-group"],[1,"mr-3"],["type","number","aria-describedby","deductionPercentageHelp","placeholder","Deduction Percentage",1,"form-control"],["deductionPercentage",""],["id","deductionPercentageHelp",1,"form-text","text-muted"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div","class","d-flex flex-column","style","min-height: 100vh; margin-bottom: 50px;",4,"ngIf"],["scope","row"],["type","number","placeholder","HOUR",1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","placeholder","Percentage",1,"form-control",3,"ngModel","ngModelChange","change"],["id","developer-div",1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"outerContainer",2,"margin-top","50px","border","1px solid black"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2," I am Header, i will stay here "),d.qZA(),d.TgZ(3,"div",2),d.TgZ(4,"form",3),d.TgZ(5,"div",4),d.TgZ(6,"div",5),d.TgZ(7,"label"),d._uU(8,"Year"),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d._UZ(10,"input",7),d.qZA(),d.TgZ(11,"div",5),d.TgZ(12,"label"),d._uU(13,"Month"),d.qZA(),d.qZA(),d.TgZ(14,"div",6),d._UZ(15,"input",8),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div",9),d.TgZ(17,"div",10),d.TgZ(18,"div",11),d.TgZ(19,"div",12),d.TgZ(20,"table",13),d.TgZ(21,"thead"),d.TgZ(22,"tr"),d.TgZ(23,"th",14),d._uU(24,"#"),d.qZA(),d.TgZ(25,"th",14),d._uU(26,"Name"),d.qZA(),d.TgZ(27,"th",14),d._uU(28,"Final Salary"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"tbody"),d.YNc(30,Z,7,3,"tr",15),d.qZA(),d.TgZ(31,"thead"),d.TgZ(32,"tr"),d.TgZ(33,"td",16),d._uU(34,"Total Salary"),d.qZA(),d.TgZ(35,"td"),d._uU(36),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"div",17),d.TgZ(38,"button",18),d.TgZ(39,"mat-icon"),d._uU(40,"print"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(41,"div",19),d.TgZ(42,"form",20),d.TgZ(43,"div",21),d.TgZ(44,"label",22),d._uU(45,"Salary Deduction in percentage "),d.qZA(),d._UZ(46,"input",23,24),d.TgZ(48,"small",25),d._uU(49,"%"),d.qZA(),d.qZA(),d.TgZ(50,"button",26),d.NdJ("click",function(){d.CHM(t);const a=d.MAs(47);return e.onDeductionPercentageChange(a.value)}),d._uU(51,"Calculate"),d.qZA(),d.qZA(),d.TgZ(52,"table",13),d.TgZ(53,"thead"),d.TgZ(54,"tr"),d.TgZ(55,"th",14),d._uU(56,"#"),d.qZA(),d.TgZ(57,"th",14),d._uU(58,"Name"),d.qZA(),d.TgZ(59,"th",14),d._uU(60,"Salary"),d.qZA(),d.TgZ(61,"th",14),d._uU(62,"Hour(-)"),d.qZA(),d.TgZ(63,"th",14),d._uU(64,"Hour Deduction"),d.qZA(),d.TgZ(65,"th",14),d._uU(66,"Monthly Deduction%"),d.qZA(),d.TgZ(67,"th",14),d._uU(68,"Monthly Deduction"),d.qZA(),d.TgZ(69,"th",14),d._uU(70,"Extra Pay"),d.qZA(),d.TgZ(71,"th",14),d._uU(72,"Final Salary"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(73,"tbody"),d.YNc(74,m,19,9,"tr",15),d.qZA(),d.qZA(),d.TgZ(75,"div"),d.TgZ(76,"button",26),d.NdJ("click",function(){return e.saveSalary()}),d._uU(77,"Save Salary"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(78,"div",27),d._uU(79,"I am footer, i will stay here"),d.qZA(),d.qZA(),d.YNc(80,p,8,3,"div",28)}2&t&&(d.xp6(4),d.Q6J("formGroup",e.salaryYearMonthForm),d.xp6(26),d.Q6J("ngForOf",e.salaryHolders),d.xp6(6),d.Oqu(e.sumOfCalculatedSalary),d.xp6(2),d.Q6J("printStyle",e.printDivStyle)("useExistingCss",!0),d.xp6(36),d.Q6J("ngForOf",e.salaryHolders),d.xp6(6),d.Q6J("ngIf",!e.isProduction))},directives:[i._Y,i.JL,i.sg,i.wV,i.Fj,i.JJ,i.u,i.qQ,i.Fd,r.sg,s.I,g.Hw,i.F,r.O5,i.On],pipes:[r.Ts],styles:["[_nghost-%COMP%]     .p-cell-editing{padding-top:0!important;padding-bottom:0!important}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[n.Bz.forChild(y)],n.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[r.ez,h,i.u5,g.Ps,s.K,i.u5,i.UX]]}),t})()}}]);