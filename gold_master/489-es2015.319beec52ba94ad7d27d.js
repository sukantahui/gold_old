"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[489],{489:function(t,e,i){i.r(e),i.d(e,{AgentWiseStockModule:function(){return _}});var o=i(38583),n=i(63423),s=i(92340),c=i(3679),a=i(37716),r=i(37825),g=i(83188),u=i(5620),d=i(93738),l=i(35618),Z=i(86640),A=i(51095),p=i(95913),h=i(76627);function q(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td",16),a._uU(10),a.qZA(),a.TgZ(11,"td",16),a._uU(12),a.ALo(13,"number"),a.qZA(),a.TgZ(14,"td",16),a._uU(15),a.qZA(),a.TgZ(16,"td",16),a._uU(17),a.ALo(18,"date"),a.qZA(),a.qZA()),2&t){const t=e.$implicit,i=e.index;a.xp6(2),a.Oqu(i+1),a.xp6(2),a.Oqu(t.tag),a.xp6(2),a.Oqu(t.modelNo),a.xp6(2),a.Oqu(t.modelSize),a.xp6(2),a.Oqu(t.quantity),a.xp6(2),a.Oqu(a.xi3(13,8,t.gold,"1.3")),a.xp6(3),a.Oqu(t.labourCharge),a.xp6(2),a.Oqu(a.xi3(18,11,t.updatedAt,"dd/MM/yyyy HH:mm:ss"))}}function x(t,e){if(1&t&&(a.TgZ(0,"div",11),a.TgZ(1,"table",12),a.TgZ(2,"thead"),a.TgZ(3,"tr"),a.TgZ(4,"th",13),a._uU(5,"SL"),a.qZA(),a.TgZ(6,"th",13),a._uU(7,"Tag"),a.qZA(),a.TgZ(8,"th",13),a._uU(9,"Model No."),a.qZA(),a.TgZ(10,"th",13),a._uU(11,"Model Size"),a.qZA(),a.TgZ(12,"th",13),a._uU(13,"Quantity"),a.qZA(),a.TgZ(14,"th",13),a._uU(15,"Gold"),a.qZA(),a.TgZ(16,"th",13),a._uU(17,"Labour Charge"),a.qZA(),a.TgZ(18,"th",13),a._uU(19,"Date"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"tbody"),a.YNc(21,q,19,14,"tr",14),a.qZA(),a.TgZ(22,"tfoot"),a.TgZ(23,"tr"),a.TgZ(24,"td",15),a._uU(25,"TOTAL"),a.qZA(),a.TgZ(26,"td",16),a._uU(27),a.qZA(),a.TgZ(28,"td",16),a._uU(29),a.ALo(30,"number"),a.qZA(),a.TgZ(31,"td",16),a._uU(32),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(21),a.Q6J("ngForOf",t.stoockListByAgent),a.xp6(6),a.Oqu(t.totalQuantity),a.xp6(2),a.Oqu(a.xi3(30,4,t.totalGold,"1.3")),a.xp6(3),a.Oqu(t.totalLabourCharge)}}function T(t,e){if(1&t&&(a.TgZ(0,"div",17),a.TgZ(1,"div",18),a.TgZ(2,"div",19),a.TgZ(3,"div",20),a.TgZ(4,"pre"),a._uU(5),a.ALo(6,"json"),a.qZA(),a.qZA(),a._UZ(7,"div",21),a.TgZ(8,"div",20),a._uU(9,"3"),a.qZA(),a.TgZ(10,"div",20),a._uU(11,"4"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(5),a.hij("                stoockListByAgent=",a.lcZ(6,1,t.stoockListByAgent),"\n                ")}}const f=[{path:"",component:(()=>{class t{constructor(t,e,i){this.agentService=t,this.stockService=e,this.commonService=i,this.isProduction=s.N.production,this.fileName="ExcelSheet.xlsx",this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.totalGold=0,this.totalLabourCharge=0,this.totalQuantity=0,this.agentList=this.agentService.getAgents(),this.agentStockForm=new c.cw({agent_id:new c.NI(null)})}ngOnInit(){this.agentList=this.agentService.getAgents(),this.agentService.getAgentUpdateListener().subscribe(t=>{this.agentList=t})}stockByAgent(t){this.stockService.getStockByAgent(this.agentStockForm.value.agent_id).subscribe(t=>{this.stoockListByAgent=t.data,this.totalGold=this.stoockListByAgent.reduce(function(t,e){return t+e.gold},0),this.totalLabourCharge=this.stoockListByAgent.reduce(function(t,e){return t+e.labourCharge},0),this.totalQuantity=this.stoockListByAgent.reduce(function(t,e){return t+e.quantity},0)})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.R),a.Y36(g.q),a.Y36(u.v))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-agent-wise-stock"]],decls:20,vars:5,consts:[["id","agent-wise-stock-div"],[3,"formGroup"],["fxFlex","30"],["bindLabel","agent_name","bindValue","agent_id","formControlName","agent_id","placeholder","Select Agent",1,"custom",3,"items","change"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","40",1,"child-1"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","stockListDiv","styleSheetFile","assets/print_css/agent_wise_stock/style1.css","ngxPrint","",3,"useExistingCss"],["mat-button","","color","primary",3,"click"],["id","stockListDiv","class","table-responsive",4,"ngIf"],["id","developer-div",4,"ngIf"],["id","stockListDiv",1,"table-responsive"],["id","printable-stock-table",1,"table","table-bodered","table-condensed"],[1,"text-center"],[4,"ngFor","ngForOf"],["colspan","4"],[1,"text-right"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-card"),a.TgZ(2,"mat-card-content"),a.TgZ(3,"div"),a.TgZ(4,"form",1),a.TgZ(5,"div",2),a.TgZ(6,"ng-select",3),a.NdJ("change",function(t){return e.stockByAgent(t)}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(7,"div",4),a.TgZ(8,"div",5),a.TgZ(9,"div",6),a.TgZ(10,"button",7),a.TgZ(11,"mat-icon"),a._uU(12,"print"),a.qZA(),a.qZA(),a.TgZ(13,"button",8),a.NdJ("click",function(){return e.commonService.exportToExcel("printable-stock-table","stock")}),a.TgZ(14,"mat-icon"),a._uU(15,"cloud_download"),a.qZA(),a.qZA(),a.TgZ(16,"button",8),a.NdJ("click",function(){return e.commonService.arrayToExcel(e.agentList,"stock.xlsx")}),a._uU(17,"Save Agents to Excel"),a.qZA(),a.qZA(),a.YNc(18,x,33,7,"div",9),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(19,T,12,3,"div",10)),2&t&&(a.xp6(4),a.Q6J("formGroup",e.agentStockForm),a.xp6(2),a.Q6J("items",e.agentList),a.xp6(4),a.Q6J("useExistingCss",!0),a.xp6(8),a.Q6J("ngIf",e.stoockListByAgent),a.xp6(1),a.Q6J("ngIf",!e.isProduction))},directives:[d.a8,d.dn,c._Y,c.JL,c.sg,l.yH,Z.w9,c.JJ,c.u,l.xw,A.lW,p.I,h.Hw,o.O5,o.sg,l.SQ,l.Wh],pipes:[o.JJ,o.uU,o.Ts],styles:["#agent-wise-stock-div[_ngcontent-%COMP%]{min-height:100vh;width:100vw;padding-left:35px;padding-right:65px;font-size:xx-small}#developer-div[_ngcontent-%COMP%]{padding-left:35px;padding-right:65px}"]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.Bz.forChild(f)],n.Bz]}),t})();var v=i(49983),b=i(39577),y=i(80291);let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.ez,m,d.QW,Z.A0,l.ae,h.Ps,c.u5,c.UX,v.c,A.ot,b.uH,y.pm,p.K]]}),t})()}}]);