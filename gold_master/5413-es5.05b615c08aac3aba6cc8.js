!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(a=r.key,n=void 0,"symbol"==typeof(n=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"))?n:String(n)),r)}var a,n}function o(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[5413],{75413:function(e,r,a){a.r(r),a.d(r,{DateFormats:function(){return k},GRI_DATE_FORMATS:function(){return N},ProductSaleModule:function(){return F}});var n=a(38583),i=a(63423),l=a(92340),u=a(3679),p=a(37716),s=a(82820),c=a(5620),d=a(72458),Z=a(98295),g=a(49983),f=a(43220),m=a(4207),v=a(26584),q=a(33013);function A(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"div",28),p.TgZ(1,"h4"),p._uU(2),p.qZA(),p.TgZ(3,"span",29),p._UZ(4,"i",30),p.TgZ(5,"input",31),p.NdJ("input",function(t){return p.CHM(o),p.oxw(),p.MAs(2).filterGlobal(t.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}if(2&t){var r=p.oxw(2);p.xp6(2),p.hij("Selected Model or category: ",r.selectedModel,"")}}function h(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"SL"),p.qZA(),p.TgZ(3,"th",32),p._uU(4,"Model "),p._UZ(5,"p-sortIcon",33),p.qZA(),p.TgZ(6,"th",34),p._uU(7,"Category "),p._UZ(8,"p-sortIcon",35),p.qZA(),p.TgZ(9,"th",36),p._uU(10,"Qty "),p._UZ(11,"p-sortIcon",37),p.qZA(),p.qZA())}function T(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p.TgZ(4,"button",38),p.NdJ("click",function(){var t=p.CHM(o).$implicit;return p.oxw(2).showSaleReportByModel(t.model_no)}),p._uU(5),p.qZA(),p.qZA(),p.TgZ(6,"td"),p._uU(7),p.qZA(),p.TgZ(8,"td"),p._uU(9),p.qZA(),p.qZA()}if(2&t){var r=e.$implicit,a=e.rowIndex;p.xp6(2),p.Oqu(a+1),p.xp6(3),p.hij(" ",r.model_no," "),p.xp6(2),p.Oqu(r.category),p.xp6(2),p.Oqu(r.sale_qty)}}var _=function(){return[20,30,50]},b=function(){return["model_no","sale_qty","category"]};function x(t,e){if(1&t&&(p.TgZ(0,"div",22),p.TgZ(1,"p-table",23,24),p.YNc(3,A,6,1,"ng-template",25),p.YNc(4,h,12,0,"ng-template",26),p.YNc(5,T,10,4,"ng-template",27),p.qZA(),p.qZA()),2&t){var o=p.oxw();p.xp6(1),p.Q6J("value",o.modelWiseSales)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",p.DdM(7,_))("paginator",!0)("globalFilterFields",p.DdM(8,b))("responsive",!0)}}function S(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"div",28),p.TgZ(1,"h4"),p._uU(2),p.qZA(),p.TgZ(3,"span",29),p._UZ(4,"i",30),p.TgZ(5,"input",39),p.NdJ("input",function(t){return p.CHM(o),p.oxw(),p.MAs(2).filterGlobal(t.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}if(2&t){var r=p.oxw(2);p.xp6(2),p.hij("Selected Model: ",r.selectedModel,"")}}function y(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"SL"),p.qZA(),p.TgZ(3,"th",40),p._uU(4,"Date "),p._UZ(5,"p-sortIcon",41),p.qZA(),p.TgZ(6,"th",42),p._uU(7,"Cust ID "),p._UZ(8,"p-sortIcon",43),p.qZA(),p.TgZ(9,"th",44),p._uU(10,"Customer "),p._UZ(11,"p-sortIcon",45),p.qZA(),p.TgZ(12,"th",46),p._uU(13,"Agent "),p._UZ(14,"p-sortIcon",47),p.qZA(),p.TgZ(15,"th",48),p._uU(16,"Bill No. "),p._UZ(17,"p-sortIcon",49),p.qZA(),p.TgZ(18,"th",36),p._uU(19,"Sale "),p._UZ(20,"p-sortIcon",37),p.qZA(),p.qZA())}function w(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._uU(12),p.qZA(),p.TgZ(13,"td"),p._uU(14),p.qZA(),p.qZA()),2&t){var o=e.$implicit,r=e.rowIndex;p.xp6(2),p.Oqu(r+1),p.xp6(2),p.Oqu(o.bill_date),p.xp6(2),p.Oqu(o.cust_id),p.xp6(2),p.Oqu(o.cust_name),p.xp6(2),p.Oqu(o.agent),p.xp6(2),p.Oqu(o.bill_no),p.xp6(2),p.Oqu(o.sale_qty)}}var U=function(){return["cust_id","cust_name","agent","bill_date"]};function D(t,e){if(1&t&&(p.TgZ(0,"div",22),p.TgZ(1,"p-table",23,24),p.YNc(3,S,6,1,"ng-template",25),p.YNc(4,y,21,0,"ng-template",26),p.YNc(5,w,15,7,"ng-template",27),p.qZA(),p.qZA()),2&t){var o=p.oxw();p.xp6(1),p.Q6J("value",o.sales)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",p.DdM(7,_))("paginator",!0)("globalFilterFields",p.DdM(8,U))("responsive",!0)}}function M(t,e){if(1&t&&(p.TgZ(0,"div",50),p.TgZ(1,"div",51),p.TgZ(2,"div",52),p.TgZ(3,"div",53),p.TgZ(4,"pre"),p._uU(5),p.ALo(6,"json"),p.qZA(),p.qZA(),p.TgZ(7,"div",54),p.TgZ(8,"pre"),p._uU(9,"\n                    "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){var o=p.oxw();p.xp6(5),p.hij("                        sales=",p.lcZ(6,1,o.sales),"\n                    ")}}var I,L=[{path:"",component:(I=function(){function e(o,r,a){t(this,e),this.reportService=o,this.commonService=r,this.adapter=a,this.isProduction=l.N.production,this.isLoading=!1,this.isLoadingSale=!1,this.sales=[],this.adapter.setLocale("in");var n=new Date,i=new Date;this.reportForm=new u.cw({startDate:new u.NI(n),startDateSql:new u.NI(null),endDate:new u.NI(i),endDateSql:new u.NI(null),reportLimit:new u.NI(50)})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"loadSaleReport",value:function(t,e){var o=this;this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)}),this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(e)}),this.isLoading=!0,this.reportService.getModelWiseSaleReport(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,this.reportForm.value.reportLimit).subscribe(function(t){o.modelWiseSales=t.data,o.isLoading=!1})}},{key:"setStartDateSQL",value:function(t){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)})}},{key:"setEndDateSQL",value:function(t){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)})}},{key:"showSaleReportByModel",value:function(t){var e=this;this.selectedModel=t,this.reportService.getSaleByModel(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,t).subscribe(function(t){console.log(t.data),e.sales=t.data})}}]),e}(),I.\u0275fac=function(t){return new(t||I)(p.Y36(s.r),p.Y36(c.v),p.Y36(d._A))},I.\u0275cmp=p.Xpm({type:I,selectors:[["app-product-sale"]],decls:35,vars:14,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["type","number","matInput","","name","value","placeholder","Limit","formControlName","reportLimit",1,"form-control"],["limit",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],[1,"table-div","col-6"],["class","p-2","style","border: 1px solid #454141; border-radius: 10px;",4,"ngIf"],[1,"col-6"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"text-right",3,"input"],["pSortableColumn","model_no"],["field","model_no"],["pSortableColumn","category"],["field","category"],["pSortableColumn","sale_qty"],["field","sale_qty"],["pButton","","type","button",1,"p-button-link",3,"click"],["pInputText","","type","text","placeholder","Search keyword",1,"text-right",3,"input"],["pSortableColumn","bill_date"],["field","bill_date"],["pSortableColumn","cust_id"],["field","cust_id"],["pSortableColumn","cust_name"],["field","cust_name"],["pSortableColumn","agent"],["field","agent"],["pSortableColumn","bill_no"],["field","bill_no"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){var o=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"form",3),p.TgZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"mat-form-field",6),p.TgZ(7,"mat-label"),p._uU(8,"Start Date"),p.qZA(),p.TgZ(9,"input",7,8),p.NdJ("dateInput",function(){p.CHM(o);var t=p.MAs(10);return e.setStartDateSQL(t.value)}),p.qZA(),p._UZ(11,"mat-datepicker-toggle",9),p._UZ(12,"mat-datepicker",10,11),p.qZA(),p.TgZ(14,"mat-form-field",6),p.TgZ(15,"mat-label"),p._uU(16,"End Date"),p.qZA(),p.TgZ(17,"input",12,13),p.NdJ("dateInput",function(){p.CHM(o);var t=p.MAs(18);return e.setEndDateSQL(t.value)}),p.qZA(),p._UZ(19,"mat-datepicker-toggle",9),p._UZ(20,"mat-datepicker",10,14),p.qZA(),p.qZA(),p.TgZ(22,"div",5),p.TgZ(23,"mat-form-field"),p._UZ(24,"input",15,16),p.qZA(),p.TgZ(26,"div"),p._uU(27),p.qZA(),p.TgZ(28,"button",17),p.NdJ("click",function(){p.CHM(o);var t=p.MAs(10),r=p.MAs(18);return e.loadSaleReport(t.value,r.value)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"div",1),p.TgZ(30,"div",18),p.YNc(31,x,6,9,"div",19),p.qZA(),p.TgZ(32,"div",20),p.YNc(33,D,6,9,"div",19),p.qZA(),p.qZA(),p.qZA(),p.YNc(34,M,10,3,"div",21)}if(2&t){var r=p.MAs(10),a=p.MAs(13),n=p.MAs(18),i=p.MAs(21),l=p.MAs(25);p.xp6(3),p.Q6J("formGroup",e.reportForm),p.xp6(6),p.Q6J("matDatepicker",a),p.xp6(2),p.Q6J("for",a),p.xp6(1),p.Q6J("opened",!0),p.xp6(5),p.Q6J("matDatepicker",i),p.xp6(2),p.Q6J("for",i),p.xp6(1),p.Q6J("opened",!1),p.xp6(7),p.lnq("Show me first ",l.value," Model Sale from ",r.value," to ",n.value,""),p.xp6(1),p.Q6J("loading",e.isLoading),p.xp6(3),p.Q6J("ngIf",e.modelWiseSales),p.xp6(2),p.Q6J("ngIf",e.sales.length>0),p.xp6(1),p.Q6J("ngIf",!e.isProduction)}},directives:[u._Y,u.JL,u.sg,Z.KE,Z.hX,g.Nt,u.Fj,f.hl,u.JJ,u.u,f.nW,Z.R9,f.Mq,u.wV,m.Hq,n.O5,v.iA,q.jx,v.lQ,v.fz],pipes:[n.Ts],styles:[""]}),I)}],Y=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[i.Bz.forChild(L)],i.Bz]}),e}(),C=a(70705),k={parse:{dateInput:["YYYY-MM-DD"]},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},N=Object.assign(Object.assign({},d.Dl),{display:Object.assign(Object.assign({},d.Dl.display),{dateInput:{year:"numeric",month:"short",day:"numeric"}})}),F=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({providers:[],imports:[[n.ez,Y,f.FA,g.c,d.XK,u.UX,m.hJ,v.U$,C.L$]]}),e}()}}])}();