!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(n=i.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?o:String(o)),i)}var n,o}function r(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2642],{92642:function(t,i,n){n.r(i),n.d(i,{NitricToFineModule:function(){return N}});var o=n(38583),a=n(63423),c=n(92340),u=n(3679),s=n(88259),l=n.n(s),v=n(37716),p=n(91841),g=n(57916),f=n(98295),h=n(49983),m=n(51095),Z=n(42542),d=n(65939);function T(e,t){if(1&e&&(v.TgZ(0,"tr"),v.TgZ(1,"td"),v._uU(2),v.qZA(),v.TgZ(3,"td",24),v._uU(4),v.ALo(5,"number"),v.qZA(),v.qZA()),2&e){var r=t.$implicit;v.xp6(2),v.Oqu(r.rawMaterialName),v.xp6(2),v.Oqu(v.xi3(5,2,r.closingBalance,"1.3"))}}function b(e,t){if(1&e&&(v.TgZ(0,"div",19),v.TgZ(1,"h3"),v._uU(2,"Material balance before conversion"),v.qZA(),v.TgZ(3,"table",20),v.TgZ(4,"thead"),v.TgZ(5,"tr"),v.TgZ(6,"th",21),v._uU(7,"Material Name"),v.qZA(),v.TgZ(8,"th",22),v._uU(9,"Value"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(10,"tbody"),v.YNc(11,T,6,5,"tr",23),v.qZA(),v.qZA(),v.qZA()),2&e){var r=v.oxw();v.xp6(11),v.Q6J("ngForOf",r.managerMaterialBalance)}}function A(e,t){if(1&e&&(v.TgZ(0,"tr"),v.TgZ(1,"td"),v._uU(2),v.qZA(),v.TgZ(3,"td",24),v._uU(4),v.ALo(5,"number"),v.qZA(),v.qZA()),2&e){var r=t.$implicit;v.xp6(2),v.Oqu(r.rawMaterialName),v.xp6(2),v.Oqu(v.xi3(5,2,r.closingBalance,"1.3"))}}function q(e,t){if(1&e&&(v.TgZ(0,"div",19),v.TgZ(1,"h3"),v._uU(2,"Material balance after conversion"),v.qZA(),v.TgZ(3,"table",25),v.TgZ(4,"thead"),v.TgZ(5,"tr"),v.TgZ(6,"th",26),v._uU(7,"Material Name"),v.qZA(),v.TgZ(8,"th",21),v._uU(9,"Value"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(10,"tbody"),v.YNc(11,A,6,5,"tr",23),v.qZA(),v.qZA(),v.qZA()),2&e){var r=v.oxw();v.xp6(11),v.Q6J("ngForOf",r.materialBalanceUpdated)}}function y(e,t){if(1&e){var r=v.EpF();v.TgZ(0,"mat-button-toggle-group",27),v.TgZ(1,"mat-button-toggle",28),v.NdJ("click",function(){return v.CHM(r),v.oxw().showDeveloperDiv=!0}),v._uU(2,"Show"),v.qZA(),v.TgZ(3,"mat-button-toggle",28),v.NdJ("click",function(){return v.CHM(r),v.oxw().showDeveloperDiv=!1}),v._uU(4,"Hide"),v.qZA(),v.qZA()}}function F(e,t){if(1&e&&(v.TgZ(0,"div",29),v.TgZ(1,"div",30),v.TgZ(2,"h2"),v._uU(3,"Developer Area"),v.qZA(),v.TgZ(4,"mat-tab-group",31),v.TgZ(5,"mat-tab",32),v.TgZ(6,"pre"),v._uU(7),v.ALo(8,"json"),v.qZA(),v.qZA(),v.TgZ(9,"mat-tab",33),v.TgZ(10,"pre"),v._uU(11,"\n                "),v.qZA(),v.qZA(),v.TgZ(12,"mat-tab",34),v.TgZ(13,"pre"),v._uU(14,"\n                "),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&e){var r=v.oxw();v.xp6(7),v.hij("                    managerMaterialBalance = ",v.lcZ(8,1,r.managerMaterialBalance),"\n                ")}}var x,w=[{path:"",component:(x=function(){function t(r,i,n){var o=this;e(this,t),this.route=r,this.http=i,this.managerService=n,this.isProduction=c.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(function(e){o.managerMaterialBalance=e.materialResolver.managerMaterialBalance.data}),this.http.get("assets/projectDetails.json").subscribe(function(e){o.projectDetails=e,o.nitricToFineConversion=o.projectDetails.nitricToFineConversion,o.tonch=o.nitricToFineConversion.nitricToFineRatio}),this.nitricToFineForm=new u.cw({nitric_value:new u.NI(0,[u.kI.required]),fine_value:new u.NI(0,[u.kI.required])})}return r(t,[{key:"ngOnInit",value:function(){}},{key:"resetForm",value:function(){this.nitricToFineForm.reset({nitric_value:0,fine_value:0}),this.nitricToFineForm.markAsPristine(),this.savedResponse=null,this.materialBalanceUpdated=null}},{key:"onNitricChange",value:function(e){var t=+e.value||0,r=t*this.nitricToFineConversion.nitricToFineRatio;this.nitricToFineForm.patchValue({fine_value:r.toFixed(3)}),this.tonch=t?r/t:0}},{key:"onFineChange",value:function(e){var t,r=+e.value||0,i=Number(null===(t=this.nitricToFineForm.get("nitric_value"))||void 0===t?void 0:t.value)||0;this.tonch=i?r/i:0}},{key:"saveConversion",value:function(){var e=this;l().fire({title:"Nitric to Fine",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(t){!t.value||e.managerService.saveNitricToFine(e.nitricToFineForm.value).subscribe(function(t){!0===t.status&&(l().fire({timer:2e3,title:"Saved",text:"Nitric Successfully Converted to Fine",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.savedResponse=t,e.materialBalanceUpdated=t.data.material_balance,e.nitricToFineForm.markAsPristine())},function(e){l().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}]),t}(),x.\u0275fac=function(e){return new(e||x)(v.Y36(a.gz),v.Y36(p.eN),v.Y36(g.b))},x.\u0275cmp=v.Xpm({type:x,selectors:[["app-nitric-to-fine"]],decls:36,vars:10,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],[1,"example-full-width"],["type","number","matInput","","formControlName","nitric_value","placeholder","Nitric",1,"text-right",3,"keyup"],["nitricValue",""],["type","number","matInput","","formControlName","fine_value","placeholder","Fine",1,"text-right",3,"keyup"],["fineValue",""],["align","start"],[2,"margin-top","20px"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-dark","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col",2,"border-radius","20px"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){if(1&e){var r=v.EpF();v.TgZ(0,"div",0),v.TgZ(1,"div",1),v.TgZ(2,"h3"),v._uU(3,"Nitric to Fine conversion"),v.qZA(),v.TgZ(4,"form",2),v.TgZ(5,"div"),v.TgZ(6,"mat-form-field",3),v.TgZ(7,"mat-label"),v._uU(8,"Enter Nitric"),v.qZA(),v.TgZ(9,"input",4,5),v.NdJ("keyup",function(){v.CHM(r);var e=v.MAs(10);return t.onNitricChange(e)}),v.qZA(),v.qZA(),v.qZA(),v.TgZ(11,"div"),v.TgZ(12,"mat-form-field",3),v.TgZ(13,"mat-label"),v._uU(14,"Enter Fine Gold after conversion"),v.qZA(),v.TgZ(15,"input",6,7),v.NdJ("keyup",function(){v.CHM(r);var e=v.MAs(16);return t.onFineChange(e)}),v.qZA(),v.TgZ(17,"mat-hint",8),v._uU(18,'"\u0986\u09b8\u09b2\u09c7 \u09af\u09be \u09aa\u09be\u0993\u09df\u09be \u0997\u09c7\u099b\u09c7 \u09a4\u09be\u0987 \u09b2\u09bf\u0996\u09a4\u09c7 \u09b9\u09ac\u09c7"'),v.qZA(),v.qZA(),v.qZA(),v.TgZ(19,"div",9),v._uU(20),v.ALo(21,"number"),v.qZA(),v.TgZ(22,"div",10),v.TgZ(23,"div",11),v.TgZ(24,"div",12),v.TgZ(25,"button",13),v.NdJ("click",function(){return t.resetForm()}),v._uU(26,"Reset"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(27,"div",11),v.TgZ(28,"div",12),v.TgZ(29,"button",14),v.NdJ("click",function(){return t.saveConversion()}),v._uU(30,"Save Conversion"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(31,"div",15),v.YNc(32,b,12,1,"div",16),v.YNc(33,q,12,1,"div",16),v.qZA(),v.qZA(),v.YNc(34,y,5,0,"mat-button-toggle-group",17),v.YNc(35,F,15,3,"div",18)}2&e&&(v.xp6(4),v.Q6J("formGroup",t.nitricToFineForm),v.xp6(16),v.hij(" Current Tonch is ",v.xi3(21,7,100*t.tonch,"1.2-2")," % "),v.xp6(9),v.Q6J("disabled",!t.nitricToFineForm.valid||t.nitricToFineForm.pristine),v.xp6(3),v.Q6J("ngIf",t.managerMaterialBalance),v.xp6(1),v.Q6J("ngIf",t.savedResponse),v.xp6(1),v.Q6J("ngIf",!t.isProduction),v.xp6(1),v.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[u._Y,u.JL,u.sg,f.KE,f.hX,u.wV,h.Nt,u.Fj,u.JJ,u.u,f.bx,m.lW,o.O5,o.sg,Z.A9,Z.Yi,d.SP,d.uX],pipes:[o.JJ,o.Ts],styles:[""]}),x)}],S=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({imports:[[a.Bz.forChild(w)],a.Bz]}),t}(),k=n(86640),N=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({imports:[[o.ez,S,f.lN,u.UX,h.c,Z.vV,d.Nh,k.A0,m.ot]]}),t}()},57916:function(t,i,n){n.d(i,{b:function(){return p}});var o,a=n(5304),c=n(68307),u=n(37716),s=n(5620),l=n(91841),v=n(84889),p=((o=function(){function t(r,i,n){e(this,t),this.commonService=r,this.http=i,this.errorService=n}return r(t,[{key:"saveFineToNinetyTwo",value:function(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveDalCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"savePanCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveMaterialTransfer",value:function(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveMaterialFromEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveCashTransactionBetweenEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"cashTransactionsByCurrentUser",value:function(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveMaterialFromOwnerToManager",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveMaterialFromManagerToOwner",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveNitricToFine",value:function(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"addTopUpGold",value:function(e,t){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+t,{}).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}},{key:"saveGpTransactions",value:function(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,a.K)(this.errorService.serverError),(0,c.b)(function(e){}))}}]),t}()).\u0275fac=function(e){return new(e||o)(u.LFG(s.v),u.LFG(l.eN),u.LFG(v.T))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o)}}])}();