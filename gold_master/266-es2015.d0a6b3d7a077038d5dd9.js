"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[266],{54266:function(e,t,n){n.r(t),n.d(t,{PettyCashModule:function(){return N}});var r=n(38583),i=n(63423),a=n(3679),s=n(88259),o=n.n(s),c=n(37716),u=n(79765),d=n(35758),m=n(5620),l=n(91841),g=n(84889);let Z=(()=>{class e{constructor(e,t,n){this.commonService=e,this.http=t,this.errorService=n,this.expenditureList=[],this.expenditureSub=new u.xQ,this.incomeList=[],this.incomeSub=new u.xQ,this.assetList=[],this.assetSub=new u.xQ,(0,d.D)({request1:this.http.get(this.commonService.getAPI()+"/expenditureLedgers"),request2:this.http.get(this.commonService.getAPI()+"/incomeLedgers"),request3:this.http.get(this.commonService.getAPI()+"/assets")}).subscribe(({request1:e,request2:t,request3:n})=>{this.expenditureList=e.data,this.expenditureSub.next([...this.expenditureList]),this.incomeList=t.data,this.incomeSub.next([...this.incomeList]),this.assetList=n.data,this.assetSub.next([...this.assetList])})}getExpenditureLedgers(){return this.expenditureList}getExpenditureLedgerListener(){return this.expenditureSub.asObservable()}getIncomeLedgers(){return this.incomeList}getIncomeLedgerListener(){return this.incomeSub.asObservable()}getAssets(){return this.assetList}getAssetListener(){return this.assetSub.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(m.v),c.LFG(l.eN),c.LFG(g.T))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p=(()=>{class e{constructor(e,t){this.httpClient=e,this.commonService=t}saveExpenditure(e){return this.httpClient.post(this.commonService.getAPI()+"/expenditureTransactions",e)}saveIncome(e){return this.httpClient.post(this.commonService.getAPI()+"/incomeTransactions",e)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.eN),c.LFG(m.v))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=n(35618),f=n(93738),x=n(98295),A=n(49983),q=n(43220),T=n(76627),v=n(86640),I=n(67441),b=n(72458);function L(e,t){if(1&e&&(c.TgZ(0,"mat-option",25),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.Q6J("value",e.id),c.xp6(1),c.hij(" ",e.assets_name," ")}}function w(e,t){if(1&e&&(c.TgZ(0,"mat-option",25),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.Q6J("value",e.id),c.xp6(1),c.hij(" ",e.assets_name," ")}}const _=[{path:"",component:(()=>{class e{constructor(e,t){this.accountService=e,this.pettyCashService=t,this.incomeLedgers=[],this.expenditureLedgers=[],this.assets=[];const n=new Date,i=(0,r.p6)(n,"yyyy-MM-dd","en");this.expenditureForm=new a.cw({id:new a.NI(null),transactionDate:new a.NI(i,[a.kI.required]),ledgerId:new a.NI(null,[a.kI.required]),assetId:new a.NI(1,[a.kI.required]),voucherNumber:new a.NI(null),amount:new a.NI(0,[a.kI.required]),voucherId:new a.NI(2,[a.kI.required]),particulars:new a.NI(null,[a.kI.maxLength(255)]),userId:new a.NI(5,[a.kI.required])}),this.incomeForm=new a.cw({id:new a.NI(null),transactionDate:new a.NI(i,[a.kI.required]),ledgerId:new a.NI(null,[a.kI.required]),assetId:new a.NI(1,[a.kI.required]),voucherNumber:new a.NI(null),amount:new a.NI(0,[a.kI.required]),voucherId:new a.NI(1,[a.kI.required]),particulars:new a.NI(null,[a.kI.maxLength(255)]),userId:new a.NI(5,[a.kI.required])}),this.incomeLedgers=this.accountService.getIncomeLedgers(),this.expenditureLedgers=this.accountService.getExpenditureLedgers(),this.assets=this.accountService.getAssets()}ngOnInit(){this.accountService.getAssetListener().subscribe(e=>{console.log(e),this.assets=e}),this.accountService.getExpenditureLedgerListener().subscribe(e=>{this.expenditureLedgers=e})}handleTransactionDateChange(e){let t=this.expenditureForm.value.transaction_date;t=(0,r.p6)(t,"yyyy-MM-dd","en"),this.expenditureForm.patchValue({transaction_date:t})}submitExpenditure(){this.pettyCashService.saveExpenditure(this.expenditureForm.value).subscribe(e=>{e&&o().fire({title:"Done",text:"Expenditure saved successfully",icon:"success"})})}submitIncome(){this.pettyCashService.saveIncome(this.incomeForm.value).subscribe(e=>{e&&o().fire({title:"Done",text:"Income saved successfully",icon:"success"})})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(Z),c.Y36(p))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-petty-cash"]],decls:92,vars:10,consts:[["id","petty-cash-div"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","40",1,"child-1"],["id","expenditure"],[3,"formGroup"],["fxLayout","column","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["fxFlex","40",1,"example-full-width"],["matInput","","formControlName","transactionDate",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["picker",""],["fxFlex","50","bindLabel","ledger_name","bindValue","id","formControlName","ledgerId","placeholder","Select",1,"custom",3,"items"],["fxFlex","50"],["matInput","","placeholder","Voucher Number","formControlName","voucherNumber"],["matInput","","type","number","placeholder","Invoice","formControlName","amount",3,"click"],["formControlName","assetId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","rows","4","cols","50","formControlName","particulars"],[2,"text-align","center"],[1,"btn-info",3,"click"],["id","income"],["picker1",""],["fxFlex","60",1,"child-2"],[1,"example-card"],[3,"value"]],template:function(e,t){if(1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"mat-card",3),c.TgZ(4,"mat-card-header"),c.TgZ(5,"h2"),c._uU(6,"Expenditure"),c.qZA(),c.qZA(),c.TgZ(7,"mat-card-content"),c.TgZ(8,"form",4),c.TgZ(9,"div",5),c.TgZ(10,"div",6),c.TgZ(11,"mat-form-field",7),c.TgZ(12,"mat-label"),c._uU(13,"Choose a date"),c.qZA(),c.TgZ(14,"input",8),c.NdJ("dateChange",function(e){return t.handleTransactionDateChange(e)}),c.qZA(),c.TgZ(15,"mat-datepicker-toggle",9),c.TgZ(16,"mat-icon",10),c._uU(17,"keyboard_arrow_down"),c.qZA(),c.qZA(),c._UZ(18,"mat-datepicker",null,11),c.qZA(),c.qZA(),c.TgZ(20,"div",6),c._UZ(21,"ng-select",12),c.TgZ(22,"mat-form-field",13),c.TgZ(23,"mat-label"),c._uU(24,"Voucher Number"),c.qZA(),c._UZ(25,"input",14),c.qZA(),c.qZA(),c.TgZ(26,"div",6),c.TgZ(27,"mat-form-field",13),c.TgZ(28,"mat-label"),c._uU(29,"Amount"),c.qZA(),c.TgZ(30,"input",15),c.NdJ("click",function(e){return e.target.select()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"div",6),c.TgZ(32,"mat-form-field",13),c.TgZ(33,"mat-label"),c._uU(34,"Transaction Through"),c.qZA(),c.TgZ(35,"mat-select",16),c.YNc(36,L,2,2,"mat-option",17),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"div",6),c.TgZ(38,"mat-form-field",13),c.TgZ(39,"mat-label"),c._uU(40,"Particulars"),c.qZA(),c._UZ(41,"textarea",18),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"div",19),c.TgZ(43,"button",20),c.NdJ("click",function(){return t.submitExpenditure()}),c._uU(44,"Submit"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"mat-card",21),c.TgZ(46,"mat-card-header"),c.TgZ(47,"h2"),c._uU(48,"Income"),c.qZA(),c.qZA(),c.TgZ(49,"mat-card-content"),c.TgZ(50,"form",4),c.TgZ(51,"div",5),c.TgZ(52,"div",6),c.TgZ(53,"mat-form-field",7),c.TgZ(54,"mat-label"),c._uU(55,"Choose a date"),c.qZA(),c.TgZ(56,"input",8),c.NdJ("dateChange",function(e){return t.handleTransactionDateChange(e)}),c.qZA(),c.TgZ(57,"mat-datepicker-toggle",9),c.TgZ(58,"mat-icon",10),c._uU(59,"keyboard_arrow_down"),c.qZA(),c.qZA(),c._UZ(60,"mat-datepicker",null,22),c.qZA(),c.qZA(),c.TgZ(62,"div",6),c._UZ(63,"ng-select",12),c.TgZ(64,"mat-form-field",13),c.TgZ(65,"mat-label"),c._uU(66,"Voucher Number"),c.qZA(),c._UZ(67,"input",14),c.qZA(),c.qZA(),c.TgZ(68,"div",6),c.TgZ(69,"mat-form-field",13),c.TgZ(70,"mat-label"),c._uU(71,"Amount"),c.qZA(),c.TgZ(72,"input",15),c.NdJ("click",function(e){return e.target.select()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(73,"div",6),c.TgZ(74,"mat-form-field",13),c.TgZ(75,"mat-label"),c._uU(76,"Transaction Through"),c.qZA(),c.TgZ(77,"mat-select",16),c.YNc(78,w,2,2,"mat-option",17),c.qZA(),c.qZA(),c.qZA(),c.TgZ(79,"div",6),c.TgZ(80,"mat-form-field",13),c.TgZ(81,"mat-label"),c._uU(82,"Particulars"),c.qZA(),c._UZ(83,"textarea",18),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(84,"div",19),c.TgZ(85,"button",20),c.NdJ("click",function(){return t.submitIncome()}),c._uU(86,"Submit"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(87,"div",23),c.TgZ(88,"mat-card",24),c._UZ(89,"mat-card-header"),c.TgZ(90,"mat-card-content"),c._uU(91," right part "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.MAs(19),n=c.MAs(61);c.xp6(8),c.Q6J("formGroup",t.expenditureForm),c.xp6(6),c.Q6J("matDatepicker",e),c.xp6(1),c.Q6J("for",e),c.xp6(6),c.Q6J("items",t.expenditureLedgers),c.xp6(15),c.Q6J("ngForOf",t.assets),c.xp6(14),c.Q6J("formGroup",t.incomeForm),c.xp6(6),c.Q6J("matDatepicker",n),c.xp6(1),c.Q6J("for",n),c.xp6(6),c.Q6J("items",t.expenditureLedgers),c.xp6(15),c.Q6J("ngForOf",t.assets)}},directives:[h.xw,h.yH,f.a8,f.dk,f.dn,a._Y,a.JL,a.sg,h.Wh,h.SQ,x.KE,x.hX,A.Nt,a.Fj,q.hl,a.JJ,a.u,q.nW,x.R9,T.Hw,q.Q0,q.Mq,v.w9,a.wV,I.gD,r.sg,b.ey],styles:["#petty-cash-div[_ngcontent-%COMP%]{min-height:100vh;width:100vw;padding-left:35px;padding-right:65px}#developer-div[_ngcontent-%COMP%]{padding-left:35px;padding-right:65px}#expenditure[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c3e691 0%,#717954 35%,#ffe067 100%)}#income[_ngcontent-%COMP%]{background:#277a5a}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.Bz.forChild(_)],i.Bz]}),e})(),N=(()=>{class e{constructor(e){this.dateAdapter=e,e.setLocale("en-in")}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(b._A))},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.ez,k,f.QW,h.ae,v.A0,a.UX,I.LD,b.XK,q.FA,T.Ps,A.c]]}),e})()}}]);