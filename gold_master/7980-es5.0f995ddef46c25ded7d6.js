!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(n=o.key,i=void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?i:String(i)),o)}var n,i}function r(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[7980],{87980:function(t,o,n){n.r(o),n.d(o,{FineToNinetyTwoModule:function(){return _}});var i=n(38583),a=n(63423),u=n(92340),s=n(3679),l=n(88259),c=n.n(l),p=n(37716),v=n(91841),d=n(57916),g=n(86640),m=n(98295),f=n(49983),h=n(51095),Z=n(42542);function b(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Previous balance"),p.qZA())}function T(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Current balance"),p.qZA())}function A(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&e){var r=t.$implicit;p.xp6(2),p.Oqu(r.rawMaterialName),p.xp6(2),p.Oqu(r.closingBalance)}}function y(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Current balance"),p.qZA())}function q(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&e){var r=t.$implicit;p.xp6(2),p.Oqu(r.rawMaterialName),p.xp6(2),p.Oqu(r.closingBalance)}}function w(e,t){if(1&e&&(p.TgZ(0,"div",1),p.YNc(1,y,2,0,"h2",16),p.TgZ(2,"table",23),p.TgZ(3,"thead"),p.TgZ(4,"tr"),p.TgZ(5,"th",18),p._uU(6,"Material Name"),p.qZA(),p.TgZ(7,"th",18),p._uU(8,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"tbody",24),p.YNc(10,q,5,2,"tr",19),p.qZA(),p.qZA(),p.qZA()),2&e){var r=p.oxw();p.xp6(1),p.Q6J("ngIf",r.SavedResponse),p.xp6(9),p.Q6J("ngForOf",r.SavedResponse.data.material_balance)}}function x(e,t){if(1&e){var r=p.EpF();p.TgZ(0,"mat-button-toggle-group",25),p.TgZ(1,"mat-button-toggle",26),p.NdJ("click",function(){return p.CHM(r),p.oxw().showDeveloperDiv=!0}),p._uU(2,"Show"),p.qZA(),p.TgZ(3,"mat-button-toggle",26),p.NdJ("click",function(){return p.CHM(r),p.oxw().showDeveloperDiv=!1}),p._uU(4,"Hide"),p.qZA(),p.qZA()}}function C(e,t){if(1&e&&(p.TgZ(0,"div",27),p.TgZ(1,"div",0),p.TgZ(2,"div",28),p.TgZ(3,"pre"),p._uU(4),p.ALo(5,"json"),p.qZA(),p.qZA(),p.TgZ(6,"div",28),p.TgZ(7,"pre"),p._uU(8),p.ALo(9,"json"),p.qZA(),p.qZA(),p.TgZ(10,"div",28),p.TgZ(11,"pre"),p._uU(12),p.ALo(13,"json"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var r=p.oxw();p.xp6(4),p.hij("                goldConversionForm = ",p.lcZ(5,3,r.goldConversionForm.value),"\n            "),p.xp6(4),p.hij("                extraCopperValue= ",p.lcZ(9,5,r.extraCopperValue),"\n            "),p.xp6(4),p.hij("                SavedResponse= ",p.lcZ(13,7,r.SavedResponse),"\n            ")}}var N,k=[{path:"",component:(N=function(){function t(r,o,n){var i=this;e(this,t),this.route=r,this.http=o,this.managerService=n,this.isProduction=u.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(function(e){i.materialBalance=e.fineToNinetyTwoResolver.materialBalance.data,i.user=e.fineToNinetyTwoResolver.user.data,i.karigars=e.fineToNinetyTwoResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(function(e){i.projectDetails=e}),this.goldConversionForm=new s.cw({employee_id:new s.NI(this.user.emp_id,[s.kI.required]),karigar_id:new s.NI(null,[s.kI.required]),fine_gold_id:new s.NI(36,[s.kI.required]),copper_id:new s.NI(37,[s.kI.required]),gini_id:new s.NI(48,[s.kI.required]),fine_gold_value:new s.NI(0,[s.kI.required]),copper_value:new s.NI({value:0,disables:!1},[s.kI.required]),gini_value:new s.NI({value:0,disabled:!1},[s.kI.required,s.kI.min(.001)])})}return r(t,[{key:"ngOnInit",value:function(){}},{key:"onFineGoldChange",value:function(e,t){var r=this.projectDetails.fineToNinetyTwoRatio.fine,o=this.projectDetails.fineToNinetyTwoRatio.copper;this.extraCopperValue=.001*Number(e.value),this.expectedCopperValue=Number((e.value*(o/r)+this.extraCopperValue).toFixed(3)),this.goldConversionForm.patchValue({copper_value:this.expectedCopperValue.toFixed(3)}),this.expectedGiniValue=Number(e.value)+this.expectedCopperValue-this.extraCopperValue,this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue.toFixed(3)}),this.nittiTotal=Number((Number(e.value)+Number(t.value)).toFixed(3))}},{key:"onCopperChange",value:function(e,t){this.expectedGiniValue=Number((Number(e.value)+Number(t.value)).toFixed(3)),this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue}),this.nittiTotal=Number((Number(e.value)+Number(t.value)).toFixed(3))}},{key:"resetForm",value:function(){this.SavedResponse&&(this.materialBalance=this.SavedResponse.data.material_balance,this.SavedResponse=null),this.goldConversionForm.reset()}},{key:"saveGoldConversion",value:function(){var e=this;c().fire({title:"Fine to 92 Conversion",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(t){t.value?e.managerService.saveFineToNinetyTwo(e.goldConversionForm.value).subscribe(function(t){!0===t.status&&(c().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.SavedResponse=t,e.goldConversionForm.reset())},function(e){console.log(e),c().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})}):t.dismiss===c().DismissReason.cancel&&c().fire("Cancelled")})}}]),t}(),N.\u0275fac=function(e){return new(e||N)(p.Y36(a.gz),p.Y36(v.eN),p.Y36(d.b))},N.\u0275cmp=p.Xpm({type:N,selectors:[["app-fine-to-ninety-two"]],decls:49,vars:13,consts:[[1,"d-flex","flex-row"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","fine_gold_value","placeholder","Fine Gold",1,"text-right",3,"keyup"],["fineGoldValue",""],["type","number","readonly","","matInput","","formControlName","copper_value","placeholder","Copper",1,"text-right",3,"keyup"],["copperValue",""],[1,"mt-3"],["type","number","readonly","","matInput","","formControlName","gini_value","placeholder","92 Gold",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[4,"ngIf"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-4",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"table","col-xl-12","col-lg-12","col-xs-12"],[2,"border","1px solid #10e523"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"p-2"]],template:function(e,t){if(1&e){var r=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"form",2),p._UZ(3,"ng-select",3),p.TgZ(4,"div"),p.TgZ(5,"mat-form-field",4),p.TgZ(6,"mat-label"),p._uU(7,"Enter Fine Gold"),p.qZA(),p.TgZ(8,"input",5,6),p.NdJ("keyup",function(){p.CHM(r);var e=p.MAs(9),o=p.MAs(15);return t.onFineGoldChange(e,o)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div"),p.TgZ(11,"mat-form-field",4),p.TgZ(12,"mat-label"),p._uU(13,"Enter Copper"),p.qZA(),p.TgZ(14,"input",7,8),p.NdJ("keyup",function(){p.CHM(r);var e=p.MAs(9),o=p.MAs(15);return t.onCopperChange(e,o)}),p.qZA(),p.qZA(),p.TgZ(16,"h3"),p._uU(17),p.ALo(18,"number"),p.qZA(),p.qZA(),p.TgZ(19,"div",9),p.TgZ(20,"mat-form-field",4),p.TgZ(21,"mat-label"),p._uU(22,"92 Gold Value"),p.qZA(),p._UZ(23,"input",10,8),p.qZA(),p.qZA(),p.TgZ(25,"div",11),p.TgZ(26,"div",12),p.TgZ(27,"div",13),p.TgZ(28,"button",14),p.NdJ("click",function(){return t.resetForm()}),p._uU(29,"Reset"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(30,"div",12),p.TgZ(31,"div",13),p.TgZ(32,"button",15),p.NdJ("click",function(){return t.saveGoldConversion()}),p._uU(33,"Save Record"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(34,"div",1),p.YNc(35,b,2,0,"h2",16),p.YNc(36,T,2,0,"h2",16),p.TgZ(37,"table",17),p.TgZ(38,"thead"),p.TgZ(39,"tr"),p.TgZ(40,"th",18),p._uU(41,"Material Name"),p.qZA(),p.TgZ(42,"th",18),p._uU(43,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(44,"tbody"),p.YNc(45,A,5,2,"tr",19),p.qZA(),p.qZA(),p.qZA(),p.YNc(46,w,11,2,"div",20),p.qZA(),p.YNc(47,x,5,0,"mat-button-toggle-group",21),p.YNc(48,C,14,9,"div",22)}2&e&&(p.xp6(2),p.Q6J("formGroup",t.goldConversionForm),p.xp6(1),p.Q6J("items",t.karigars),p.xp6(14),p.hij("Nitti ",p.xi3(18,10,t.nittiTotal,"1.3-3"),""),p.xp6(15),p.Q6J("disabled",!t.goldConversionForm.valid||t.goldConversionForm.pristine),p.xp6(3),p.Q6J("ngIf",t.SavedResponse),p.xp6(1),p.Q6J("ngIf",!t.SavedResponse),p.xp6(9),p.Q6J("ngForOf",t.materialBalance),p.xp6(1),p.Q6J("ngIf",t.SavedResponse),p.xp6(1),p.Q6J("ngIf",!t.isProduction),p.xp6(1),p.Q6J("ngIf",!t.isProduction&&t.showDeveloperDiv))},directives:[s._Y,s.JL,s.sg,g.w9,s.JJ,s.u,m.KE,m.hX,s.wV,f.Nt,s.Fj,h.lW,i.O5,i.sg,Z.A9,Z.Yi],pipes:[i.JJ,i.Ts],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),N)}],S=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[a.Bz.forChild(k)],a.Bz]}),t}(),_=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.ez,S,g.A0,m.lN,f.c,s.UX,h.ot,Z.vV]]}),t}()},57916:function(t,o,n){n.d(o,{b:function(){return v}});var i,a=n(5304),u=n(68307),s=n(37716),l=n(5620),c=n(91841),p=n(84889),v=((i=function(){function t(r,o,n){e(this,t),this.commonService=r,this.http=o,this.errorService=n}return r(t,[{key:"saveFineToNinetyTwo",value:function(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveDalCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"savePanCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialTransfer",value:function(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialFromEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveCashTransactionBetweenEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"cashTransactionsByCurrentUser",value:function(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialFromOwnerToManager",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialFromManagerToOwner",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveNitricToFine",value:function(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"addTopUpGold",value:function(e,t){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+t,{}).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveGpTransactions",value:function(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}}]),t}()).\u0275fac=function(e){return new(e||i)(s.LFG(l.v),s.LFG(c.eN),s.LFG(p.T))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)}}])}();