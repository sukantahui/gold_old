!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"))?i:String(i)),n)}var r,i}function o(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2051],{52051:function(e,n,r){r.r(n),r.d(n,{StockInHandReportModule:function(){return U}});var i=r(38583),a=r(63423),u=r(92340),d=r(3679),l=r(37716),c=r(35618),s=r(86640),g=r(26584),p=r(33013);function Z(t,e){if(1&t){var o=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"h4"),l._uU(2,"Stock In Hand"),l.qZA(),l.TgZ(3,"span",25),l._UZ(4,"i",26),l._uU(5,"\xa0\xa0\xa0\xa0 "),l.TgZ(6,"input",27),l.NdJ("input",function(t){return l.CHM(o),l.oxw(),l.MAs(2).filterGlobal(t.target.value,"contains")}),l.qZA(),l.qZA(),l.qZA()}}function f(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"th"),l._uU(2,"SL"),l.qZA(),l.TgZ(3,"th",28),l._uU(4,"Tag "),l._UZ(5,"p-sortIcon",29),l.qZA(),l.TgZ(6,"th",30),l._uU(7,"Model "),l._UZ(8,"p-sortIcon",31),l.qZA(),l.TgZ(9,"th",32),l._uU(10,"Category "),l._UZ(11,"p-sortIcon",33),l.qZA(),l.TgZ(12,"th",34),l._uU(13,"Agent "),l._UZ(14,"p-sortIcon",35),l.qZA(),l.TgZ(15,"th",36),l._uU(16),l._UZ(17,"p-sortIcon",37),l.qZA(),l.TgZ(18,"th",38),l._uU(19),l.ALo(20,"number"),l._UZ(21,"p-sortIcon",39),l.qZA(),l.TgZ(22,"th",40),l._uU(23,"Job "),l._UZ(24,"p-sortIcon",41),l.qZA(),l.qZA()),2&t){var o=l.oxw(2);l.xp6(16),l.hij("Qty (",o.totalQuantity,") "),l.xp6(3),l.hij("Gold (",l.xi3(20,2,o.totalGold,"1.3"),") ")}}function h(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td",42),l._uU(12),l.qZA(),l.TgZ(13,"td",42),l._uU(14),l.ALo(15,"number"),l.qZA(),l.TgZ(16,"td",42),l._uU(17),l.qZA(),l.qZA()),2&t){var o=e.$implicit,n=e.rowIndex;l.xp6(2),l.Oqu(n+1),l.xp6(2),l.Oqu(o.tag),l.xp6(2),l.Oqu(o.modelNo),l.xp6(2),l.Oqu(o.productCategory),l.xp6(2),l.Oqu(o.agentShortName),l.xp6(2),l.Oqu(o.quantity),l.xp6(2),l.Oqu(l.xi3(15,8,o.gold,"1.3")),l.xp6(3),l.Oqu(o.jobId)}}function m(t,e){if(1&t&&(l.TgZ(0,"tr"),l._UZ(1,"td"),l._UZ(2,"td"),l._UZ(3,"td"),l._UZ(4,"td"),l._UZ(5,"td"),l.TgZ(6,"td",42),l._uU(7),l.qZA(),l.TgZ(8,"td",42),l._uU(9),l.ALo(10,"number"),l.qZA(),l._UZ(11,"td"),l.qZA()),2&t){var o=l.oxw(2);l.xp6(7),l.Oqu(o.totalQuantity),l.xp6(2),l.Oqu(l.xi3(10,2,o.totalGold,"1.3"))}}var v=function(){return[10,20,30,50,100,200,500,1e3,1e4]},A=function(){return["tag","modelNo","quantity","productCategory"]};function q(t,e){if(1&t&&(l.TgZ(0,"div",17),l.TgZ(1,"p-table",18,19),l.YNc(3,Z,7,0,"ng-template",20),l.YNc(4,f,25,5,"ng-template",21),l.YNc(5,h,18,11,"ng-template",22),l.YNc(6,m,12,5,"ng-template",23),l.qZA(),l.qZA()),2&t){var o=l.oxw();l.xp6(1),l.Q6J("value",o.stocksInHandFiltered)("rows",1e4)("showCurrentPageReport",!0)("rowsPerPageOptions",l.DdM(7,v))("paginator",!0)("globalFilterFields",l.DdM(8,A))("responsive",!0)}}function y(t,e){if(1&t&&(l.TgZ(0,"div",43),l.TgZ(1,"div",44),l.TgZ(2,"div",45),l.TgZ(3,"div",46),l.TgZ(4,"pre"),l._uU(5),l.ALo(6,"json"),l._uU(7,"\n                    "),l.qZA(),l.qZA(),l.TgZ(8,"div",47),l.TgZ(9,"pre"),l._uU(10),l.ALo(11,"json"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){var o=l.oxw();l.xp6(5),l.hij("                        agents = ",l.lcZ(6,2,o.agents),"\n"),l.xp6(5),l.hij("                        agents = ",l.lcZ(11,4,o.agents),"\n                    ")}}var x,T=[{path:"",component:(x=function(){function e(o){var n=this;t(this,e),this.route=o,this.isProduction=u.N.production,this.totalQuantity=0,this.totalGold=0,this.route.data.subscribe(function(t){n.agents=t.showItemStockResolver.agents.data,n.productCategories=t.showItemStockResolver.productCategories.data,n.stocksInHand=t.showItemStockResolver.stocksInHand.data,n.stocksInHandFiltered=t.showItemStockResolver.stocksInHand.data,n.totalQuantity=n.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),n.totalGold=n.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)}),this.reportForm=new d.cw({agentId:new d.NI("AG0000"),productCategoryId:new d.NI(0)})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"stockByCategory",value:function(t,e){var o=this;this.selectedProductCategoryId=t.ID,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.productCategoryId===o.selectedProductCategoryId&&t.agentId===o.selectedAgentId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)}},{key:"stockByAgent",value:function(t,e){var o=this;this.selectedAgentId=t.agent_id,this.stocksInHandFiltered=this.stocksInHand.filter(function(t){return t.agentId===o.selectedAgentId}),this.totalQuantity=this.stocksInHandFiltered.reduce(function(t,e){return t+e.quantity},0),this.totalGold=this.stocksInHandFiltered.reduce(function(t,e){return t+e.gold},0)}}]),e}(),x.\u0275fac=function(t){return new(t||x)(l.Y36(a.gz))},x.\u0275cmp=l.Xpm({type:x,selectors:[["app-stock-in-hand-report"]],decls:24,vars:5,consts:[[1,"d-flex","flex-column",2,"min-height","100vh"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"p-5","justify-content-xl-between"],[3,"formGroup"],[1,"form-row"],[1,"col"],["fxFlex","100"],["bindLabel","agent_name","bindValue","agent_id","formControlName","agentId","placeholder","Select Agent",1,"custom",3,"items","change"],["ref1",""],["bindLabel","category","bindValue","ID","formControlName","productCategoryId","placeholder","Select Category",1,"custom",3,"items","change"],["ref2",""],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"bloc_2","p-2","col-xl-10",2,"background-color","antiquewhite"],["class","p-2","style","border: 1px solid #454141; border-radius: 10px;",4,"ngIf"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search","mr-3"],["pInputText","","type","text","placeholder","Search keyword",1,"mt-3",3,"input"],["pSortableColumn","tag"],["field","tag"],["pSortableColumn","modelNo"],["field","modelNo"],["pSortableColumn","productCategory"],["field","productCategory"],["pSortableColumn","agentShortName"],["field","agentShortName"],["pSortableColumn","quantity"],["field","quantity"],["pSortableColumn","gold"],["field","gold"],["pSortableColumn","jobId"],["field","jobId"],[1,"text-right"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){var o=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._uU(2,"Stock In Hand Report"),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"form",3),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l.TgZ(7,"div",6),l.TgZ(8,"ng-select",7,8),l.NdJ("change",function(t){l.CHM(o);var n=l.MAs(9);return e.stockByAgent(t,n)}),l.qZA(),l.qZA(),l.qZA(),l._UZ(10,"div",5),l.qZA(),l.TgZ(11,"div",4),l.TgZ(12,"div",5),l.TgZ(13,"div",6),l.TgZ(14,"ng-select",9,10),l.NdJ("change",function(t){l.CHM(o);var n=l.MAs(15);return e.stockByCategory(t,n)}),l.qZA(),l.qZA(),l.qZA(),l._UZ(16,"div",5),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",11),l.TgZ(18,"div",12),l.TgZ(19,"div",13),l.YNc(20,q,7,9,"div",14),l.qZA(),l.qZA(),l.qZA(),l.TgZ(21,"div",15),l._uU(22,"I am footer, i will stay here"),l.qZA(),l.qZA(),l.YNc(23,y,12,6,"div",16)}2&t&&(l.xp6(4),l.Q6J("formGroup",e.reportForm),l.xp6(4),l.Q6J("items",e.agents),l.xp6(6),l.Q6J("items",e.productCategories),l.xp6(6),l.Q6J("ngIf",e.stocksInHand.length>0),l.xp6(3),l.Q6J("ngIf",!e.isProduction))},directives:[d._Y,d.JL,d.sg,c.yH,s.w9,d.JJ,d.u,i.O5,g.iA,p.jx,g.lQ,g.fz,c.xw,c.SQ,c.Wh],pipes:[i.JJ,i.Ts],styles:[""]}),x)}],I=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(T)],a.Bz]}),e}(),b=r(76627),_=r(49983),w=r(51095),U=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,I,g.U$,s.A0,c.ae,b.Ps,d.u5,d.UX,_.c,w.ot]]}),e}()}}])}();