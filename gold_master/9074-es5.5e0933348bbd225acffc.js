!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,i=void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?i:String(i)),n)}var a,i}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[9074],{69074:function(t,n,a){a.r(n),a.d(n,{ReceivedRawMaterialFromEmployeeModule:function(){return F}});var i=a(38583),o=a(63423),l=a(92340),c=a(3679),s=a(88259),u=a.n(s),g=a(37716),m=a(91841),d=a(57916),p=a(5620),v=a(82820),f=a(93738),Z=a(86640),h=a(98295),b=a(49983),T=a(1769),A=a(42542),q=a(65939);function _(e,t){1&e&&(g.TgZ(0,"mat-error"),g._uU(1," Value is required "),g.qZA())}function y(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",11),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var r=t.$implicit;g.xp6(2),g.Oqu(r.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,2,r.closingBalance,"1.3-3")," gm")}}function M(e,t){if(1&e&&(g.TgZ(0,"div",15),g.TgZ(1,"mat-card",3),g.TgZ(2,"mat-card-title"),g._uU(3,"Sender Material Balance (Updated)"),g.qZA(),g.TgZ(4,"table",16),g.TgZ(5,"thead",17),g.TgZ(6,"tr"),g.TgZ(7,"th"),g._uU(8,"Material Name"),g.qZA(),g.TgZ(9,"th",11),g._uU(10,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"tbody"),g.YNc(12,y,6,5,"tr",21),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var r=g.oxw(2);g.xp6(12),g.Q6J("ngForOf",r.savedResponse.data.sender_material_balance)}}function w(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",11),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var r=t.$implicit;g.xp6(2),g.Oqu(r.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,2,r.closingBalance,"1.3-3")," gm")}}function x(e,t){if(1&e&&(g.TgZ(0,"div"),g._UZ(1,"mat-divider",14),g.TgZ(2,"h3",4),g._uU(3,"Balance after Transaction"),g.qZA(),g.TgZ(4,"div",1),g.YNc(5,M,13,1,"div",19),g.TgZ(6,"div",15),g.TgZ(7,"mat-card",3),g.TgZ(8,"mat-card-title"),g._uU(9,"Your Material Balance (Updated)"),g.qZA(),g.TgZ(10,"table",16),g.TgZ(11,"thead",17),g.TgZ(12,"tr"),g.TgZ(13,"th"),g._uU(14,"Material Name"),g.qZA(),g.TgZ(15,"th",11),g._uU(16,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"tbody"),g.YNc(18,w,6,5,"tr",21),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var r=g.oxw();g.xp6(5),g.Q6J("ngIf",null==r.savedResponse.data.sender_material_balance?null:r.savedResponse.data.sender_material_balance.length),g.xp6(13),g.Q6J("ngForOf",r.savedResponse.data.receiver_material_balance)}}var C=function(e){return{"table-active":e}};function O(e,t){if(1&e&&(g.TgZ(0,"tr",22),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",11),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var r,n=t.$implicit,a=g.oxw();g.Q6J("ngClass",g.VKq(6,C,n.rawMaterial.rm_ID==(null==(r=a.materialRecivingForm.get("rm_id"))?null:r.value))),g.xp6(2),g.Oqu(n.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,3,n.closingBalance,"1.3-3")," gm")}}function P(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",11),g._uU(4),g.ALo(5,"number"),g.qZA(),g.qZA()),2&e){var r=t.$implicit;g.xp6(2),g.Oqu(r.rawMaterialName),g.xp6(2),g.hij("",g.xi3(5,2,r.closingBalance,"1.3-3")," gm")}}function S(e,t){if(1&e&&(g.TgZ(0,"div",15),g.TgZ(1,"mat-card",3),g.TgZ(2,"mat-card-title"),g._uU(3,"Sender Material Balance"),g.qZA(),g.TgZ(4,"table",16),g.TgZ(5,"thead",17),g.TgZ(6,"tr"),g.TgZ(7,"th"),g._uU(8,"Material Name"),g.qZA(),g.TgZ(9,"th",11),g._uU(10,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"tbody"),g.YNc(12,P,6,5,"tr",21),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var r=g.oxw();g.xp6(12),g.Q6J("ngForOf",r.senderMaterialBalances)}}function U(e,t){if(1&e&&(g.TgZ(0,"div",27),g.TgZ(1,"mat-card",3),g.TgZ(2,"mat-card-title"),g._uU(3,"Developer Area"),g.qZA(),g.TgZ(4,"mat-tab-group",28),g.TgZ(5,"mat-tab",29),g.TgZ(6,"pre"),g._uU(7),g.ALo(8,"json"),g.qZA(),g.TgZ(9,"pre"),g._uU(10),g.ALo(11,"json"),g.qZA(),g.qZA(),g.TgZ(12,"mat-tab",30),g.TgZ(13,"pre"),g._uU(14),g.ALo(15,"json"),g.qZA(),g.qZA(),g.TgZ(16,"mat-tab",31),g.TgZ(17,"pre"),g._uU(18),g.ALo(19,"json"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var r=g.oxw(2);g.xp6(7),g.Oqu(g.lcZ(8,4,r.materialRecivingForm.value)),g.xp6(3),g.Oqu(g.lcZ(11,6,r.user)),g.xp6(4),g.hij("savedResponse=",g.lcZ(15,8,null==r.savedResponse?null:r.savedResponse.data),""),g.xp6(4),g.hij("materialBalances=",g.lcZ(19,10,r.materialBalances),"")}}function N(e,t){if(1&e){var r=g.EpF();g.TgZ(0,"div",23),g.TgZ(1,"mat-button-toggle-group",24),g.NdJ("ngModelChange",function(e){return g.CHM(r),g.oxw().showDeveloperDiv=e}),g.TgZ(2,"mat-button-toggle",25),g._uU(3,"Show Developer Area"),g.qZA(),g.TgZ(4,"mat-button-toggle",25),g._uU(5,"Hide Developer Area"),g.qZA(),g.qZA(),g.YNc(6,U,20,12,"div",26),g.qZA()}if(2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngModel",n.showDeveloperDiv),g.xp6(1),g.Q6J("value",!0),g.xp6(2),g.Q6J("value",!1),g.xp6(2),g.Q6J("ngIf",n.showDeveloperDiv)}}var k,I=[{path:"",component:(k=function(){function t(r,n,a,i,o){var s=this;e(this,t),this.route=r,this.http=n,this.managerService=a,this.commonservice=i,this.reportService=o,this.isProduction=l.N.production,this.materialBalances=[],this.route.data.subscribe(function(e){s.user=e.materialResolver.user.data,s.resolverValues=e.materialResolver,s.employees=e.materialResolver.employees.data,s.projectDetails=e.materialResolver.projectDetails,s.rawMaterials=e.materialResolver.rawMaterials.data,s.materialBalances=e.materialResolver.materialBalances.data,s.selectableEmployees=s.employees.filter(function(e){return s.projectDetails.employeeToManagerMaterial.employees.find(function(t){return t===e.employeeId})}),s.selectableMaterials=s.rawMaterials.filter(function(e){return s.projectDetails.employeeToManagerMaterial.materialsToSend.find(function(t){return t===e.rmID})}),s.materialRecivingForm=new c.cw({outward_employee_id:new c.NI(null,[c.kI.required]),inward_employee_id:new c.NI(s.user.employeeId,[c.kI.required]),rm_id:new c.NI(null,[c.kI.required]),value:new c.NI(0,[c.kI.required])})})}return r(t,[{key:"ngOnInit",value:function(){}},{key:"saveMaterialTransfer",value:function(){var e=this;u().fire({title:"Receiving Material from Employee",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(t){!t.value||e.managerService.saveMaterialFromEmployee(e.materialRecivingForm.value).subscribe(function(t){!0===t.status&&(u().fire({timer:2e3,title:"Saved",text:"Transferred successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.savedResponse=t)},function(e){u().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}},{key:"onEmployeeChange",value:function(e){var t=this,r=this.materialRecivingForm.get("outward_employee_id").value;r&&this.reportService.getMaterialBalanceByEmployee(r).subscribe(function(e){t.senderMaterialBalances=e.data})}}]),t}(),k.\u0275fac=function(e){return new(e||k)(g.Y36(o.gz),g.Y36(m.eN),g.Y36(d.b),g.Y36(p.v),g.Y36(v.r))},k.\u0275cmp=g.Xpm({type:k,selectors:[["app-received-raw-material-from-employee"]],decls:43,vars:10,consts:[[1,"container-fluid","py-3",2,"min-height","80vh","background-color","#f9f9f9"],[1,"row"],[1,"col-lg-4","col-md-6","col-12","mb-4"],[1,"shadow-sm","p-3"],[1,"mb-3"],[3,"formGroup"],["bindLabel","employeeName","bindValue","employeeId","formControlName","outward_employee_id","placeholder","Receiving from",1,"w-100",3,"items","change"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"w-100",3,"items"],[1,"w-100"],["type","number","matInput","","formControlName","value","placeholder","Material value",1,"text-end"],[4,"ngIf"],[1,"text-end"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-lg-8","col-12"],[1,"my-4"],[1,"col-md-6","col-12","mb-4"],[1,"table","table-hover","table-sm","align-middle","mt-2"],[1,"table-light"],[3,"ngClass",4,"ngFor","ngForOf"],["class","col-md-6 col-12 mb-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"mt-4"],[3,"ngModel","ngModelChange"],[3,"value"],["id","developer-div","class","mt-3",4,"ngIf"],["id","developer-div",1,"mt-3"],["mat-align-tabs","center","backgroundColor","accent"],["label","Form Data"],["label","Saved Response"],["label","Section 3"]],template:function(e,t){var r;1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"mat-card",3),g.TgZ(4,"mat-card-title",4),g._uU(5,"Material Receiving Form"),g.qZA(),g._uU(6),g.TgZ(7,"form",5),g.TgZ(8,"div",4),g.TgZ(9,"ng-select",6),g.NdJ("change",function(e){return t.onEmployeeChange(e)}),g.qZA(),g.qZA(),g.TgZ(10,"div",4),g._UZ(11,"ng-select",7),g.qZA(),g.TgZ(12,"div",4),g.TgZ(13,"mat-form-field",8),g.TgZ(14,"mat-label"),g._uU(15,"Enter Material Value"),g.qZA(),g._UZ(16,"input",9),g.YNc(17,_,2,0,"mat-error",10),g.qZA(),g.qZA(),g.TgZ(18,"div",11),g.TgZ(19,"button",12),g.NdJ("click",function(){return t.saveMaterialTransfer()}),g._uU(20," \ud83d\udcbe Save Record "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",13),g.YNc(22,x,19,2,"div",10),g.TgZ(23,"div"),g._UZ(24,"mat-divider",14),g.TgZ(25,"h3",4),g._uU(26,"Balance before Transaction"),g.qZA(),g.TgZ(27,"div",1),g.TgZ(28,"div",15),g.TgZ(29,"mat-card",3),g.TgZ(30,"mat-card-title"),g._uU(31,"Your Material Balance"),g.qZA(),g.TgZ(32,"table",16),g.TgZ(33,"thead",17),g.TgZ(34,"tr"),g.TgZ(35,"th"),g._uU(36,"Material Name"),g.qZA(),g.TgZ(37,"th",11),g._uU(38,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(39,"tbody"),g.YNc(40,O,6,8,"tr",18),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(41,S,13,1,"div",19),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(42,N,7,4,"div",20),g.qZA()),2&e&&(g.xp6(6),g.hij(" selected rm ",t.materialRecivingForm.get("rm_id").value," "),g.xp6(1),g.Q6J("formGroup",t.materialRecivingForm),g.xp6(2),g.Q6J("items",t.selectableEmployees),g.xp6(2),g.Q6J("items",t.selectableMaterials),g.xp6(6),g.Q6J("ngIf",null==(r=t.materialRecivingForm.get("value"))?null:r.hasError("required")),g.xp6(2),g.Q6J("disabled",!t.materialRecivingForm.valid||t.materialRecivingForm.pristine),g.xp6(3),g.Q6J("ngIf",t.savedResponse),g.xp6(18),g.Q6J("ngForOf",t.materialBalances),g.xp6(1),g.Q6J("ngIf",null==t.senderMaterialBalances?null:t.senderMaterialBalances.length),g.xp6(1),g.Q6J("ngIf",!t.isProduction))},directives:[f.a8,f.n5,c._Y,c.JL,c.sg,Z.w9,c.JJ,c.u,h.KE,h.hX,c.wV,b.Nt,c.Fj,i.O5,T.d,i.sg,h.TO,i.mk,A.A9,c.On,A.Yi,q.SP,q.uX],pipes:[i.JJ,i.Ts],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f4f6f8}mat-card[_ngcontent-%COMP%]{border-radius:12px!important;border:none!important;background:#fff}mat-card-title[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:600;color:#444}.table[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f1f3f5}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#555}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}ng-select.custom[_ngcontent-%COMP%], ng-select.w-100[_ngcontent-%COMP%]{border-radius:6px;min-height:48px}ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border:1px solid #d1d5db;min-height:48px}ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]:hover{border-color:#3f51b5}ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{padding:6px 10px}.mat-form-field[_ngcontent-%COMP%]{background:white;border-radius:6px;padding:0 6px}.mat-input-element[_ngcontent-%COMP%]{font-size:.95rem}button[mat-raised-button][_ngcontent-%COMP%]{padding:8px 18px;font-size:.9rem;font-weight:500}#developer-div[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#212529;color:#f8f9fa;padding:12px;border-radius:6px;font-size:.85rem;overflow-x:auto}"]}),k)}],B=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[o.Bz.forChild(I)],o.Bz]}),t}(),F=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[i.ez,B,c.UX,A.vV,q.Nh,Z.A0,b.c,A.vV,f.QW,c.u5,T.t]]}),t}()},57916:function(t,n,a){a.d(n,{b:function(){return m}});var i,o=a(5304),l=a(68307),c=a(37716),s=a(5620),u=a(91841),g=a(84889),m=((i=function(){function t(r,n,a){e(this,t),this.commonService=r,this.http=n,this.errorService=a}return r(t,[{key:"saveFineToNinetyTwo",value:function(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveDalCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"savePanCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialTransfer",value:function(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialFromEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveCashTransactionBetweenEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"cashTransactionsByCurrentUser",value:function(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialFromOwnerToManager",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialFromManagerToOwner",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveNitricToFine",value:function(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"addTopUpGold",value:function(e,t){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+t,{}).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveGpTransactions",value:function(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,o.K)(this.errorService.serverError),(0,l.b)(function(e){}))}}]),t}()).\u0275fac=function(e){return new(e||i)(c.LFG(s.v),c.LFG(u.eN),c.LFG(g.T))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)}}])}();