!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2300],{72300:function(t,r,i){i.r(r),i.d(r,{GiniDailyTransactionModule:function(){return J}});var a=i(38583),o=i(63423),c=i(3679),l=i(37716),s=i(798),u=i(82820),d=i(5620),g=i(93738),p=i(35618),Z=i(51095),v=i(95913),f=i(76627),m=i(11494),h=function(e,t){return{"gold-inward":e,"gold-outward":t}};function T(e,t){if(1&e&&(l.ynx(0),l.TgZ(1,"th",24),l._uU(2),l.qZA(),l.TgZ(3,"td",25),l._uU(4),l.qZA(),l.TgZ(5,"td",26),l._uU(6),l.qZA(),l.TgZ(7,"td",12),l._uU(8),l.qZA(),l.TgZ(9,"td",21),l._uU(10),l.qZA(),l.TgZ(11,"td",21),l._uU(12),l.qZA(),l.TgZ(13,"td",21),l._uU(14),l.qZA(),l.TgZ(15,"td",22),l._uU(16),l.ALo(17,"number"),l.qZA(),l.TgZ(18,"td",21),l._uU(19),l.qZA(),l.BQk()),2&e){var n=l.oxw(),r=n.index,i=n.$implicit;l.xp6(2),l.Oqu(r+1),l.xp6(2),l.Oqu(i.transaction_date),l.xp6(2),l.Oqu(i.particulars),l.xp6(2),l.Oqu(i.employee_id),l.xp6(2),l.Oqu(i.job_id),l.xp6(2),l.Oqu(i.reference),l.xp6(2),l.Oqu(i.opening_balance),l.xp6(1),l.Q6J("ngClass",l.WLB(13,h,i.transaction_type>0,i.transaction_type<0)),l.xp6(1),l.hij(" ",l.xi3(17,10,i.rm_value,"1.3")," "),l.xp6(3),l.Oqu(i.gold_balance)}}function y(e,t){1&e&&(l.TgZ(0,"tr"),l.YNc(1,T,20,16,"ng-container",23),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",!0))}var q=function(e,t){return{positive:e,negative:t}};function x(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"mat-card",1),l.TgZ(1,"div",8),l.TgZ(2,"button",9),l.TgZ(3,"mat-icon"),l._uU(4,"print"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(5,"div",10),l.TgZ(6,"mat-card-content"),l.TgZ(7,"table",11),l.NdJ("matSortChange",function(e){return l.CHM(n),l.oxw().sortData(e)}),l.TgZ(8,"thead"),l.TgZ(9,"tr"),l.TgZ(10,"th",12),l._uU(11,"SL"),l.qZA(),l.TgZ(12,"th",13),l._uU(13,"Date"),l.qZA(),l.TgZ(14,"th",14),l._uU(15,"Particulars"),l.qZA(),l.TgZ(16,"th",15),l._uU(17,"Employee ID"),l.qZA(),l.TgZ(18,"th",16),l._uU(19,"Job ID"),l.qZA(),l.TgZ(20,"th",17),l._uU(21,"Reference"),l.qZA(),l.TgZ(22,"th",18),l._uU(23,"Opening"),l.qZA(),l.TgZ(24,"th",18),l._uU(25,"Value"),l.qZA(),l.TgZ(26,"th",12),l._uU(27,"Balance"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"tbody"),l.YNc(29,y,2,1,"tr",19),l.qZA(),l.TgZ(30,"tfoot"),l.TgZ(31,"tr"),l.TgZ(32,"th",20),l._uU(33,"Total"),l.qZA(),l.TgZ(34,"th",21),l._uU(35),l.qZA(),l.TgZ(36,"th",21),l._uU(37),l.ALo(38,"number"),l.qZA(),l.TgZ(39,"th",21),l._uU(40),l.qZA(),l.TgZ(41,"th",21),l._uU(42),l.ALo(43,"number"),l.qZA(),l.TgZ(44,"th",21),l._uU(45),l.qZA(),l.TgZ(46,"th",22),l._uU(47),l.ALo(48,"number"),l.qZA(),l.TgZ(49,"th",22),l._uU(50),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var r=l.oxw();l.xp6(2),l.Q6J("printStyle",r.printDivStyle),l.xp6(27),l.Q6J("ngForOf",r.giniTransactions),l.xp6(6),l.Oqu(r.qtyTotal),l.xp6(2),l.Oqu(l.xi3(38,11,r.billedGoldTotal,"1.3")),l.xp6(3),l.Oqu(r.billedLcTotal),l.xp6(2),l.Oqu(l.xi3(43,14,r.goldReceivedTotal,"1.3")),l.xp6(3),l.Oqu(r.lcReceivedTotal),l.xp6(1),l.Q6J("ngClass",l.WLB(20,q,r.billedGoldTotal-r.goldReceivedTotal>0,r.billedGoldTotal-r.goldReceivedTotal<0)),l.xp6(1),l.Oqu(l.xi3(48,17,r.billedGoldTotal-r.goldReceivedTotal,"1.3")),l.xp6(2),l.Q6J("ngClass",l.WLB(23,q,r.billedLcTotal-r.lcReceivedTotal>0,r.billedLcTotal-r.lcReceivedTotal<0)),l.xp6(1),l.Oqu(r.billedLcTotal-r.lcReceivedTotal)}}function A(e,t){if(1&e&&(l.TgZ(0,"div",27),l.TgZ(1,"pre"),l._uU(2,"\n    "),l.qZA(),l.TgZ(3,"pre"),l._uU(4),l.ALo(5,"json"),l.ALo(6,"json"),l.qZA(),l.TgZ(7,"pre"),l._uU(8,"\n    "),l.qZA(),l.qZA()),2&e){var n=l.oxw();l.xp6(4),l.AsE("        startDate = ",l.lcZ(5,2,n.startDate),"\n        endDate = ",l.lcZ(6,4,n.endDate),"\n    ")}}var _,b=[{path:"",component:(_=function(){function t(n,r,i){e(this,t),this.agentWiseSalesReportService=n,this.reportService=r,this.commonService=i,this.isAllCustomers=!1,this.color="accent",this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}};var o=new Date,l=(0,a.p6)(o,"yyyy-MM-dd","en");this.startDate=(0,a.p6)(o,"yyyy-MM-dd","en"),this.endDate=(0,a.p6)(o,"yyyy-MM-dd","en"),this.user=this.commonService.getCurrentUser(),console.log(this.user),this.dailyGiniTransactionForm=new c.cw({start_date:new c.NI(l),end_date:new c.NI(l),agent_id:new c.NI(null)})}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.agentWiseSalesReportService.getAgentsUpdateListener().subscribe(function(t){e.agentList=t})}},{key:"startDateChangeEvent",value:function(e){this.startDate=(0,a.p6)(new Date(e.value),"yyyy-MM-dd","en")}},{key:"endDateChangeEvent",value:function(e){this.endDate=(0,a.p6)(new Date(e.value),"yyyy-MM-dd","en")}},{key:"dateInputEvent",value:function(e){}},{key:"getGiniTransaction",value:function(){var e=this;this.reportService.getGiiniTransactionByManager().subscribe(function(t){e.giniTransactions=t.data,console.log(e.giniTransactions)})}},{key:"sortData",value:function(e){var t=this,n=this.agentWiseSale.slice();this.agentWiseSale=e.active&&""!==e.direction?n.sort(function(n,r){var i="asc"===e.direction;switch(e.active){case"cust_name":return t.commonService.compare(n.cust_name,r.cust_name,i);case"qty":return t.commonService.compare(n.qty,r.qty,i);case"fine_gold":return t.commonService.compare(n.fine_gold,r.fine_gold,i);case"lc":return t.commonService.compare(n.lc,r.lc,i);case"gold_received":return t.commonService.compare(n.gold_received,r.gold_received,i);case"lc_received":return t.commonService.compare(n.lc_received,r.lc_received,i);default:return 0}}):n}},{key:"isAllCustomersChanged",value:function(){this.isAllCustomers=!this.isAllCustomers,this.agentWiseSale=this.isAllCustomers?this.agentWiseSalemaster:this.agentWiseSalemaster.filter(function(e){return 0!==e.qty||0!==e.gold_received||0!==e.lc_received})}}]),t}(),_.\u0275fac=function(e){return new(e||_)(l.Y36(s.u),l.Y36(u.r),l.Y36(d.v))},_.\u0275cmp=l.Xpm({type:_,selectors:[["app-gini-daily-transaction"]],decls:13,vars:4,consts:[["id","agent-wise-sale-report-div"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["fxFlex","20",1,"example-button-row"],["type","button",1,"btn","btn-primary",3,"click"],["class","example-card",4,"ngIf"],["id","developer-div",4,"ngIf"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printGiniTransactionReport","ngxPrint","",3,"printStyle"],["id","printGiniTransactionReport"],["matSort","",1,"table","table-bordered","table-responsive",3,"matSortChange"],[1,"text-center"],["mat-sort-header","cust_name",1,"text-center"],["mat-sort-header","qty",1,"text-center"],["mat-sort-header","fine_gold",1,"text-center"],["mat-sort-header","lc",1,"text-center"],["mat-sort-header","gold_received",1,"text-center"],["mat-sort-header","lc_received",1,"text-center"],[4,"ngFor","ngForOf"],["colspan","2",1,"text-center"],[1,"text-right"],[1,"text-right",3,"ngClass"],[4,"ngIf"],["scope","row"],[1,"text-left"],[1,"text-Left"],["id","developer-div"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"mat-card",1),l.TgZ(2,"mat-card-header"),l._UZ(3,"div",2),l.TgZ(4,"mat-card-title"),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"mat-card-content"),l.TgZ(7,"div",3),l.TgZ(8,"div",4),l.TgZ(9,"button",5),l.NdJ("click",function(){return t.getGiniTransaction()}),l._uU(10,"Show records"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,x,51,26,"mat-card",6),l.qZA(),l.YNc(12,A,9,6,"div",7)),2&e&&(l.xp6(5),l.AsE("Daily Gini Transaction Report of ",t.user.userName,"(",t.user.userTypeName,")"),l.xp6(6),l.Q6J("ngIf",t.giniTransactions),l.xp6(1),l.Q6J("ngIf",!1))},directives:[g.a8,g.dk,g.kc,g.n5,g.dn,p.xw,p.Wh,p.SQ,p.yH,a.O5,Z.lW,v.I,f.Hw,m.YE,m.nU,a.sg,a.mk],pipes:[a.JJ,a.Ts],styles:["#agent-wise-sale-report-div[_ngcontent-%COMP%]{min-height:100vh;width:100vw;padding-left:35px;padding-right:65px}#developer-div[_ngcontent-%COMP%]{padding-left:35px;padding-right:65px}.positive[_ngcontent-%COMP%]{color:green}.negative[_ngcontent-%COMP%]{color:red}.gold-inward[_ngcontent-%COMP%]{background-color:#e6ffe6;color:green}.gold-outward[_ngcontent-%COMP%]{background-color:#ffe6e6;color:red}.gold-neutral[_ngcontent-%COMP%]{background-color:#f9f9f9;color:gray}"]}),_)}],w=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.Bz.forChild(b)],o.Bz]}),t}(),S=i(43220),U=i(98295),O=i(72458),C=i(49983),k=i(86640),D=i(45396),L=i(80291),M=i(65072),J=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.ez,w,g.QW,S.FA,U.lN,c.u5,c.UX,O.XK,C.c,f.Ps,Z.ot,p.ae,k.A0,f.Ps,m.JX,D.rP,L.pm,v.K,M.xu]]}),t}()}}])}();