!function(){"use strict";function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[370],{57370:function(a,n,r){r.r(n),r.d(n,{AgentSalaryWithdrawModule:function(){return W}});var o,i=r(16274),u=r(65543),l=r(24766),c=r(93324),d=r(66565),s=r(42741),h=r(75239),g=r(31887),m=((o=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"download",value:function(t){return this.http.get(t,{responseType:"blob"})}}]),a}()).\u0275fac=function(t){return new(t||o)(s.LFG(g.eN))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),p=r(39009),Z=r(81608),f=r(38378),y=r(21499),v=r(33103),A=r(67617),w=r(19275),S=r(31749);function b(t,a){if(1&t){var e=s.EpF();s.TgZ(0,"div",20),s.TgZ(1,"div",21),s.TgZ(2,"div",22),s.TgZ(3,"div",23),s.TgZ(4,"button",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().download2("Declaration of Sale.docx")}),s._uU(5,"Test"),s.qZA(),s.TgZ(6,"a",25),s._uU(7," download here "),s.qZA(),s.TgZ(8,"pre"),s._uU(9,"\n                "),s.qZA(),s.qZA(),s.TgZ(10,"div",26),s.TgZ(11,"pre"),s._uU(12),s.ALo(13,"json"),s.qZA(),s.qZA(),s._UZ(14,"div",23),s._UZ(15,"div",23),s.qZA(),s.qZA(),s.qZA()}if(2&t){var n=s.oxw();s.xp6(12),s.hij("                    agentSalarySearchForm = ",s.lcZ(13,1,n.agentSalarySearchForm.value),"\n                ")}}var x=[{path:"",component:function(){var a=function(){function a(e,n,r){var o=this;t(this,a),this.route=e,this.agentService=n,this.downloads=r,this.isProduction=l.N.production,this.year=2022,this.month=1,this.isLoading=!1,this.currentMonthTotalSalary=0,this.currentMonthTotalSalaryWithdraw=0,this.months=["No Month","January","February","March","April","May","June","July","August","September","October","November","December"],this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.route.data.subscribe(function(t){o.agents=t.agentSalaryWithdrawResolver.agents.data}),this.agentSalarySearchForm=new c.cw({yearNumber:new c.NI(2022),monthNumber:new c.NI(5),agentId:new c.NI(null),amount:new c.NI(100)})}return e(a,[{key:"ngOnInit",value:function(){}},{key:"saveAgentSalaryWithdrawal",value:function(){var t=this;this.agentService.saveAgentSalaryWithdraw(this.agentSalarySearchForm.value).subscribe(function(a){t.currentMonthTotalSalary=a.data.totalSalary,t.currentMonthTotalSalaryWithdraw=a.data.salaryWithdraw},function(t){console.log(t)})}},{key:"onAgentSelect",value:function(t){var a=this;this.agentService.fetchAgentSalaryAndWithdrawByYearAndMonth(t.agent_id,this.agentSalarySearchForm.get("yearNumber").value,this.agentSalarySearchForm.get("monthNumber").value).subscribe(function(t){a.currentMonthTotalSalary=t.data.totalSalary,a.currentMonthTotalSalaryWithdraw=t.data.salaryWithdraw})}},{key:"download",value:function(){this.downloads.download("/downloads/archive.zip").subscribe(function(t){var a=document.createElement("a"),e=URL.createObjectURL(t);a.href=e,a.download="archive.zip",a.click(),URL.revokeObjectURL(e)})}},{key:"download2",value:function(t){this.downloads.download("assets/downloads/"+t).subscribe(function(a){return(0,d.saveAs)(a,t)})}}]),a}();return a.\u0275fac=function(t){return new(t||a)(s.Y36(u.gz),s.Y36(h.R),s.Y36(m))},a.\u0275cmp=s.Xpm({type:a,selectors:[["app-agent-salary-withdraw"]],decls:43,vars:19,consts:[["id","agent-wise-sale-report-div"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[3,"formGroup"],["fxLayoutGap","30px",2,"padding-top","10px"],["for","year"],["formControlName","yearNumber","mode","decimal","thousandSeparator"," ","inputId","year",3,"showButtons","min","max"],["for","month"],["formControlName","monthNumber","mode","decimal","thousandSeparator"," ","inputId","month",3,"showButtons","min","max"],["bindLabel","agent_name","bindValue","agent_id","formControlName","agentId","placeholder","Select Agent",1,"custom",3,"items","change"],["for","amount"],["formControlName","amount","mode","decimal","thousandSeparator"," ","inputId","amount",3,"showButtons","min","max"],["label","Save","id","search","icon","pi pi-search",3,"loading","click"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printAgentSalaryReportDiv","ngxPrint","",3,"printStyle","useExistingCss"],["id","printAgentSalaryReportDiv"],[1,"text-center"],[1,"no-print"],["id","developer-div",4,"ngIf"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],[3,"click"],["target","_blank","rel","noopener noreferrer",3,"href"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,a){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"mat-card",1),s.TgZ(2,"mat-card-header"),s._UZ(3,"div",2),s.TgZ(4,"mat-card-title"),s._uU(5,"Agent Salary Withdraw"),s.qZA(),s.qZA(),s.TgZ(6,"mat-card-content"),s.TgZ(7,"div",3),s.TgZ(8,"form",4),s.TgZ(9,"div",3),s.TgZ(10,"div",5),s.TgZ(11,"label",6),s._uU(12,"Year"),s.qZA(),s._UZ(13,"p-inputNumber",7),s.qZA(),s.TgZ(14,"div",5),s.TgZ(15,"label",8),s._uU(16,"Month"),s.qZA(),s._UZ(17,"p-inputNumber",9),s.qZA(),s.qZA(),s.TgZ(18,"div",3),s.TgZ(19,"div",5),s.TgZ(20,"ng-select",10),s.NdJ("change",function(t){return a.onAgentSelect(t)}),s.qZA(),s.TgZ(21,"span"),s._uU(22),s.qZA(),s.qZA(),s.qZA(),s.TgZ(23,"div",3),s.TgZ(24,"div",5),s.TgZ(25,"label",11),s._uU(26,"Amount"),s.qZA(),s._UZ(27,"p-inputNumber",12),s.qZA(),s.TgZ(28,"div",5),s.TgZ(29,"p-button",13),s.NdJ("click",function(){return a.saveAgentSalaryWithdrawal()}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"mat-card",1),s.TgZ(31,"div",14),s.TgZ(32,"button",15),s.TgZ(33,"mat-icon"),s._uU(34,"print"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(35,"div",16),s.TgZ(36,"mat-card-header"),s._UZ(37,"div",2),s.TgZ(38,"mat-card-title",17),s._uU(39),s.qZA(),s.qZA(),s.TgZ(40,"mat-card-content"),s._UZ(41,"div",18),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(42,b,16,3,"div",19)),2&t&&(s.xp6(8),s.Q6J("formGroup",a.agentSalarySearchForm),s.xp6(5),s.Q6J("showButtons",!0)("min",2022)("max",2032),s.xp6(4),s.Q6J("showButtons",!0)("min",1)("max",12),s.xp6(3),s.Q6J("items",a.agents),s.xp6(2),s.AsE("Current Salary: ",a.currentMonthTotalSalary," and Current Withdraw: ",a.currentMonthTotalSalaryWithdraw," "),s.xp6(5),s.Q6J("showButtons",!0)("min",100)("max",5e4),s.xp6(2),s.Q6J("loading",a.isLoading),s.xp6(3),s.Q6J("printStyle",a.printDivStyle)("useExistingCss",!0),s.xp6(7),s.AsE("Agent Salary Report: ",a.months[a.agentSalarySearchForm.get("monthNumber").value],", ",a.agentSalarySearchForm.get("yearNumber").value," "),s.xp6(3),s.Q6J("ngIf",!a.isProduction))},directives:[p.a8,p.dk,p.kc,p.n5,p.dn,Z.xw,Z.Wh,Z.SQ,c._Y,c.JL,c.sg,f.Rn,c.JJ,c.u,y.w9,v.zx,A.lW,w.I,S.Hw,i.O5,Z.yH],pipes:[i.Ts],styles:[".ng-select[_ngcontent-%COMP%]{width:300px}"]}),a}()}],T=function(){var a=function a(){t(this,a)};return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[[u.Bz.forChild(x)],u.Bz]}),a}(),q=r(44113),N=r(10823),_=r(19018),U=r(62397),k=r(70846),L=r(73454),J=r(52514),W=function(){var a=function a(){t(this,a)};return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[[i.ez,T,Z.ae,p.QW,p.QW,q.FA,N.lN,c.u5,c.UX,_.c,S.Ps,A.ot,v.hJ,Z.ae,S.Ps,U.JX,k.rP,L.pm,w.K,J.xu,f.L$,y.A0]]}),a}()}}])}();