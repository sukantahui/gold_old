"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8242],{28242:function(t,e,o){o.r(e),o.d(e,{JobReportModule:function(){return C}});var n=o(38583),r=o(63423),i=o(92340),u=o(3679),a=o(37716),s=o(82820),l=o(5620),d=o(72458),c=o(98295),Z=o(49983),p=o(43220),g=o(4207),A=o(26584),q=o(33013);function m(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"span"),a.TgZ(1,"button",31),a.NdJ("click",function(){a.CHM(t);const e=a.oxw(3);return e.showJobDetailDiv=!e.showJobDetailDiv}),a._uU(2," Hide Details "),a.qZA(),a.qZA()}}function f(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",26),a.TgZ(1,"div",27),a._UZ(2,"i",28),a.TgZ(3,"input",29),a.NdJ("input",function(e){return a.CHM(t),a.oxw(),a.MAs(4).filterGlobal(e.target.value,"contains")}),a.qZA(),a.qZA(),a.YNc(4,m,3,0,"span",30),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(4),a.Q6J("ngIf",t.showJobDetailDiv)}}function T(t,e){1&t&&(a.TgZ(0,"th",45),a._uU(1,"Job Date "),a._UZ(2,"p-sortIcon",46),a.qZA())}function b(t,e){1&t&&(a.TgZ(0,"th",47),a._uU(1,"Order ID "),a._UZ(2,"p-sortIcon",48),a.qZA())}function x(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"th"),a._uU(2,"SL"),a.qZA(),a.TgZ(3,"th",32),a._uU(4,"Job Id "),a._UZ(5,"p-sortIcon",33),a.qZA(),a.YNc(6,T,3,0,"th",34),a.YNc(7,b,3,0,"th",35),a.TgZ(8,"th",36),a._uU(9,"Qty"),a._UZ(10,"p-sortIcon",37),a.qZA(),a.TgZ(11,"th",38),a._uU(12,"Gold Send "),a.TgZ(13,"p-sortIcon"),a._uU(14,'field="goldSend"'),a.qZA(),a.qZA(),a.TgZ(15,"th",39),a._uU(16,"Gold Return "),a.TgZ(17,"p-sortIcon"),a._uU(18,'field="goldReturned"'),a.qZA(),a.qZA(),a.TgZ(19,"th",40),a._uU(20,"Pan "),a.TgZ(21,"p-sortIcon"),a._uU(22,'field="panSend"'),a.qZA(),a.qZA(),a.TgZ(23,"th",41),a._uU(24,"Nitric "),a.TgZ(25,"p-sortIcon"),a._uU(26,'field="nitrickReturned"'),a.qZA(),a.qZA(),a.TgZ(27,"th",42),a._uU(28,"Ploss "),a.TgZ(29,"p-sortIcon"),a._uU(30,'field="pLoss"'),a.qZA(),a.qZA(),a.TgZ(31,"th",43),a._uU(32,"MV "),a.TgZ(33,"p-sortIcon"),a._uU(34,'field="markupValue"'),a.qZA(),a.qZA(),a.TgZ(35,"th",44),a._uU(36,"Status "),a.TgZ(37,"p-sortIcon"),a._uU(38,'field="currentStatus.statusName"'),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw(2);a.xp6(6),a.Q6J("ngIf",!t.showJobDetailDiv),a.xp6(1),a.Q6J("ngIf",!t.showJobDetailDiv)}}function h(t,e){if(1&t&&(a.TgZ(0,"td"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(t.formattedTrTime)}}function U(t,e){if(1&t&&(a.TgZ(0,"td"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(t.orderId)}}function _(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a.TgZ(4,"button",31),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw(2).onJobSelect(e)}),a._uU(5),a.qZA(),a.qZA(),a.YNc(6,h,2,1,"td",30),a.YNc(7,U,2,1,"td",30),a.TgZ(8,"td",49),a._uU(9),a.qZA(),a.TgZ(10,"td",49),a._uU(11),a.ALo(12,"number"),a.qZA(),a.TgZ(13,"td",49),a._uU(14),a.ALo(15,"number"),a.qZA(),a.TgZ(16,"td",49),a._uU(17),a.ALo(18,"number"),a.qZA(),a.TgZ(19,"td",49),a._uU(20),a.ALo(21,"number"),a.qZA(),a.TgZ(22,"td",49),a._uU(23),a.ALo(24,"number"),a.qZA(),a.TgZ(25,"td",49),a._uU(26),a.ALo(27,"number"),a.qZA(),a.TgZ(28,"td"),a._uU(29),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit,o=e.rowIndex,n=a.oxw(2);a.xp6(2),a.Oqu(o+1),a.xp6(3),a.hij(" ",t.jobId," "),a.xp6(1),a.Q6J("ngIf",!n.showJobDetailDiv),a.xp6(1),a.Q6J("ngIf",!n.showJobDetailDiv),a.xp6(2),a.Oqu(t.pieces),a.xp6(2),a.Oqu(a.xi3(12,12,t.goldSend,"1.3")),a.xp6(3),a.Oqu(a.xi3(15,15,t.goldReturned,"1.3")),a.xp6(3),a.Oqu(a.xi3(18,18,t.panSend,"1.3")),a.xp6(3),a.Oqu(a.xi3(21,21,t.nitrickReturned,"1.3")),a.xp6(3),a.Oqu(a.xi3(24,24,t.pLoss,"1.3")),a.xp6(3),a.Oqu(a.xi3(27,27,t.markupValue,"1.3")),a.xp6(3),a.Oqu(t.currentStatus.statusName)}}function J(t,e){if(1&t&&(a.TgZ(0,"div"),a.TgZ(1,"h3"),a._uU(2),a.qZA(),a.TgZ(3,"h4"),a._uU(4),a.qZA(),a.TgZ(5,"div"),a._uU(6),a.qZA(),a._UZ(7,"hr"),a.TgZ(8,"div",51),a.TgZ(9,"div",0),a.TgZ(10,"div",52),a.TgZ(11,"table",53),a.TgZ(12,"thead"),a.TgZ(13,"tr"),a._UZ(14,"th"),a.TgZ(15,"th"),a._uU(16,"Particulars"),a.qZA(),a._UZ(17,"th"),a.TgZ(18,"th"),a._uU(19,"Taken"),a.qZA(),a.TgZ(20,"th"),a._uU(21,"Actual"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(22,"tbody"),a.TgZ(23,"tr"),a._UZ(24,"th",54),a.TgZ(25,"th",54),a._uU(26,"Gold Send"),a.qZA(),a._UZ(27,"td"),a.TgZ(28,"td"),a._uU(29),a.ALo(30,"number"),a.qZA(),a.qZA(),a.TgZ(31,"tr"),a.TgZ(32,"th",54),a._uU(33,"Less:"),a.qZA(),a.TgZ(34,"th",54),a._uU(35,"Gold Return"),a.qZA(),a._UZ(36,"td"),a.TgZ(37,"td"),a._uU(38),a.ALo(39,"number"),a.qZA(),a.qZA(),a.TgZ(40,"tr"),a.TgZ(41,"th",54),a._uU(42,"Add:"),a.qZA(),a.TgZ(43,"th",54),a._uU(44,"Pan Used"),a.qZA(),a._UZ(45,"td"),a.TgZ(46,"td"),a._uU(47),a.ALo(48,"number"),a.qZA(),a.qZA(),a.TgZ(49,"tr"),a.TgZ(50,"th",54),a._uU(51,"Less:"),a.qZA(),a.TgZ(52,"th",54),a._uU(53,"Nitrick Return"),a.qZA(),a.TgZ(54,"td"),a._uU(55),a.ALo(56,"number"),a.qZA(),a.TgZ(57,"td"),a._uU(58),a.ALo(59,"number"),a.qZA(),a.TgZ(60,"td"),a._uU(61),a.ALo(62,"number"),a.qZA(),a.qZA(),a.TgZ(63,"tr"),a.TgZ(64,"th",54),a._uU(65,"Add:"),a.qZA(),a.TgZ(66,"th",54),a._uU(67),a.qZA(),a._UZ(68,"td"),a.TgZ(69,"td"),a._uU(70),a.ALo(71,"number"),a.qZA(),a.qZA(),a.TgZ(72,"tr"),a.TgZ(73,"th",54),a._uU(74,"Add:"),a.qZA(),a.TgZ(75,"th",54),a._uU(76),a.qZA(),a._UZ(77,"td"),a.TgZ(78,"td"),a._uU(79),a.ALo(80,"number"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(81,"div",0),a._UZ(82,"div",0),a.qZA(),a.qZA()),2&t){const t=a.oxw(3);a.xp6(2),a.Oqu(t.selectedJob.orderDetails.OrderMaster.customer.customerName),a.xp6(2),a.hij("Karigar: ",t.selectedJob.employee.employeeName,""),a.xp6(2),a.hij("Gold Type: ",t.selectedJob.gold.rmName,""),a.xp6(23),a.Oqu(a.xi3(30,15,t.selectedJob.goldSend,"1.3")),a.xp6(9),a.Oqu(a.xi3(39,18,t.selectedJob.goldReturned,"1.3")),a.xp6(9),a.Oqu(a.xi3(48,21,t.selectedJob.panSend-t.selectedJob.panReturned,"1.3")),a.xp6(8),a.hij("",a.xi3(56,24,t.selectedJob.nitrickReturned/t.selectedJob.nitricReturnedActual*100,"1.3")," %"),a.xp6(3),a.Oqu(a.xi3(59,27,t.selectedJob.nitrickReturned,"1.3")),a.xp6(3),a.Oqu(a.xi3(62,30,t.selectedJob.nitricReturnedActual,"1.3")),a.xp6(6),a.AsE("Ploss ",t.selectedJob.pLoss,"X",t.selectedJob.pieces,""),a.xp6(3),a.Oqu(a.xi3(71,33,t.selectedJob.pLoss*t.selectedJob.pieces,"1.3")),a.xp6(6),a.AsE("MV ",t.selectedJob.pLoss,"X",t.selectedJob.pieces,""),a.xp6(3),a.Oqu(a.xi3(80,36,t.selectedJob.pLoss*t.selectedJob.pieces,"1.3"))}}function v(t,e){if(1&t&&(a.TgZ(0,"div",50),a.YNc(1,J,83,39,"div",30),a.qZA()),2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngIf",t.selectedJob)}}const S=function(){return[200,300,500]},D=function(){return["jobId","productCode"]};function w(t,e){if(1&t&&(a.TgZ(0,"div",1),a.TgZ(1,"div",18),a.TgZ(2,"div",19),a.TgZ(3,"p-table",20,21),a.YNc(5,f,5,1,"ng-template",22),a.YNc(6,x,39,2,"ng-template",23),a.YNc(7,_,30,30,"ng-template",24),a.qZA(),a.qZA(),a.qZA(),a.YNc(8,v,2,1,"div",25),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.Q6J("ngClass",1==t.showJobDetailDiv?"col-8":"col-12"),a.xp6(2),a.Q6J("value",t.jobs)("rows",1e4)("showCurrentPageReport",!0)("rowsPerPageOptions",a.DdM(9,S))("paginator",!0)("globalFilterFields",a.DdM(10,D))("responsive",!0),a.xp6(5),a.Q6J("ngIf",t.showJobDetailDiv)}}function I(t,e){if(1&t&&(a.TgZ(0,"div",55),a.TgZ(1,"div",56),a.TgZ(2,"div",57),a.TgZ(3,"div",58),a.TgZ(4,"pre"),a._uU(5),a.ALo(6,"json"),a.qZA(),a.qZA(),a.TgZ(7,"div",59),a.TgZ(8,"pre"),a._uU(9),a.ALo(10,"json"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(5),a.hij("                        selectedJob = ",a.lcZ(6,2,t.selectedJob),"\n                    "),a.xp6(4),a.hij("                        jobs = ",a.lcZ(10,4,t.jobs),"\n                    ")}}const L=[{path:"",component:(()=>{class t{constructor(t,e,o){this.reportService=t,this.commonService=e,this.adapter=o,this.isProduction=i.N.production,this.isLoading=!1,this.showJobDetailDiv=!1,this.adapter.setLocale("in");const n=new Date,r=new Date;this.reportForm=new u.cw({startDate:new u.NI(n),startDateSql:new u.NI(null),endDate:new u.NI(r),endDateSql:new u.NI(null),reportLimit:new u.NI(50)})}ngOnInit(){}setStartDateSQL(t){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)})}setEndDateSQL(t){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)})}loadSaleReport(t,e){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)}),this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(e)}),this.isLoading=!0,this.reportService.getJobsByDates(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql).subscribe(t=>{this.jobs=t.data,this.isLoading=!1})}onJobSelect(t){console.log(t),this.selectedJob=t,this.showJobDetailDiv=!0}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(s.r),a.Y36(l.v),a.Y36(d._A))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-job-report"]],decls:28,vars:12,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],["class","container-fluid rounded d-flex flex-xl-row justify-content-xl-between flex-column",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"table-div",3,"ngClass"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-6",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"text-right",3,"input"],[4,"ngIf"],["pButton","","type","button",1,"p-button-link",3,"click"],["pSortableColumn","jobId"],["field","jobId"],["pSortableColumn","jobDate",4,"ngIf"],["pSortableColumn","orderId",4,"ngIf"],["pSortableColumn","pieces"],["field","pieces"],["pSortableColumn","goldSend"],["pSortableColumn","goldReturned"],["pSortableColumn","panSend"],["pSortableColumn","nitrickReturned"],["pSortableColumn","pLoss"],["pSortableColumn","markupValue"],["pSortableColumn","currentStatus.statusName"],["pSortableColumn","jobDate"],["field","jobDate"],["pSortableColumn","orderId"],["field","orderId"],[1,"text-right"],[1,"col-6"],[1,"d-flex","flex-row"],["id","job-details col-2"],[1,"table","table-responsivem"],["scope","row"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"form",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.TgZ(6,"mat-form-field",6),a.TgZ(7,"mat-label"),a._uU(8,"Start Date"),a.qZA(),a.TgZ(9,"input",7,8),a.NdJ("dateInput",function(){a.CHM(t);const o=a.MAs(10);return e.setStartDateSQL(o.value)}),a.qZA(),a._UZ(11,"mat-datepicker-toggle",9),a._UZ(12,"mat-datepicker",10,11),a.qZA(),a.TgZ(14,"mat-form-field",6),a.TgZ(15,"mat-label"),a._uU(16,"End Date"),a.qZA(),a.TgZ(17,"input",12,13),a.NdJ("dateInput",function(){a.CHM(t);const o=a.MAs(18);return e.setEndDateSQL(o.value)}),a.qZA(),a._UZ(19,"mat-datepicker-toggle",9),a._UZ(20,"mat-datepicker",10,14),a.qZA(),a.qZA(),a.TgZ(22,"div",5),a.TgZ(23,"div"),a._uU(24),a.qZA(),a.TgZ(25,"button",15),a.NdJ("click",function(){a.CHM(t);const o=a.MAs(10),n=a.MAs(18);return e.loadSaleReport(o.value,n.value)}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(26,w,9,11,"div",16),a.qZA(),a.YNc(27,I,11,6,"div",17)}if(2&t){const t=a.MAs(10),o=a.MAs(13),n=a.MAs(18),r=a.MAs(21);a.xp6(3),a.Q6J("formGroup",e.reportForm),a.xp6(6),a.Q6J("matDatepicker",o),a.xp6(2),a.Q6J("for",o),a.xp6(1),a.Q6J("opened",!0),a.xp6(5),a.Q6J("matDatepicker",r),a.xp6(2),a.Q6J("for",r),a.xp6(1),a.Q6J("opened",!1),a.xp6(4),a.AsE("Jobs from ",t.value," to ",n.value,""),a.xp6(1),a.Q6J("loading",e.isLoading),a.xp6(1),a.Q6J("ngIf",e.jobs),a.xp6(1),a.Q6J("ngIf",!e.isProduction)}},directives:[u._Y,u.JL,u.sg,c.KE,c.hX,Z.Nt,u.Fj,p.hl,u.JJ,u.u,p.nW,c.R9,p.Mq,g.Hq,n.O5,n.mk,A.iA,q.jx,A.lQ,A.fz],pipes:[n.JJ,n.Ts],styles:[""]}),t})()}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.Bz.forChild(L)],r.Bz]}),t})();var k=o(70705);let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,N,p.FA,Z.c,d.XK,u.UX,g.hJ,A.U$,k.L$]]}),t})()}}]);