"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[9964],{19964:function(e,t,r){r.r(t),r.d(t,{MaterialFromManagerModule:function(){return N}});var a=r(38583),n=r(63423),o=r(3679),i=r(92340),l=r(88259),c=r.n(l),g=r(37716),s=r(91841),u=r(57916),m=r(86640),d=r(98295),Z=r(49983),p=r(51095),h=r(42542),f=r(65939);function A(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"\u27a1"),g.qZA())}function v(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr",20),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).selectMaterial(t)}),g.TgZ(1,"td"),g.YNc(2,A,2,0,"span",21),g._uU(3),g.qZA(),g.TgZ(4,"td",22),g._uU(5),g.ALo(6,"number"),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=g.oxw(2);let a,n;g.ekj("highlight",e.rmId===(null==(a=r.ownerFromMangerForm.get("rm_id"))?null:a.value)),g.xp6(2),g.Q6J("ngIf",e.rmId===(null==(n=r.ownerFromMangerForm.get("rm_id"))?null:n.value)),g.xp6(1),g.hij(" ",e.rawMaterialName," "),g.xp6(2),g.Oqu(g.xi3(6,5,e.closingBalance,"1.3-3"))}}function b(e,t){if(1&e&&(g.TgZ(0,"div",16),g.TgZ(1,"table",17),g.TgZ(2,"thead"),g.TgZ(3,"tr"),g.TgZ(4,"th",18),g._uU(5,"Material Name"),g.qZA(),g.TgZ(6,"th",18),g._uU(7,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"tbody"),g.YNc(9,v,7,8,"tr",19),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(9),g.Q6J("ngForOf",e.managerMaterialBalance)}}function T(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"\u27a1"),g.qZA())}function q(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr",20),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).selectMaterial(t)}),g.TgZ(1,"td"),g.YNc(2,T,2,0,"span",21),g._uU(3),g.qZA(),g.TgZ(4,"td",22),g._uU(5),g.ALo(6,"number"),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=g.oxw(2);let a,n;g.ekj("highlight",e.rmId===(null==(a=r.ownerFromMangerForm.get("rm_id"))?null:a.value)),g.xp6(2),g.Q6J("ngIf",e.rmId===(null==(n=r.ownerFromMangerForm.get("rm_id"))?null:n.value)),g.xp6(1),g.hij(" ",e.rawMaterialName," "),g.xp6(2),g.Oqu(g.xi3(6,5,e.closingBalance,"1.3-3"))}}function w(e,t){if(1&e&&(g.TgZ(0,"div",16),g.TgZ(1,"table",23),g.TgZ(2,"thead"),g.TgZ(3,"tr"),g.TgZ(4,"th",18),g._uU(5,"Material Name"),g.qZA(),g.TgZ(6,"th",18),g._uU(7,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"tbody"),g.YNc(9,q,7,8,"tr",19),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(9),g.Q6J("ngForOf",e.managerMaterialBalanceUpdated)}}function x(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"mat-button-toggle-group",24),g.TgZ(1,"mat-button-toggle",20),g.NdJ("click",function(){return g.CHM(e),g.oxw().showDeveloperDiv=!0}),g._uU(2,"Show"),g.qZA(),g.TgZ(3,"mat-button-toggle",20),g.NdJ("click",function(){return g.CHM(e),g.oxw().showDeveloperDiv=!1}),g._uU(4,"Hide"),g.qZA(),g.qZA()}}function M(e,t){if(1&e&&(g.TgZ(0,"div",25),g.TgZ(1,"div",26),g.TgZ(2,"h2"),g._uU(3,"Developer Area"),g.qZA(),g.TgZ(4,"mat-tab-group",27),g.TgZ(5,"mat-tab",28),g.TgZ(6,"pre"),g._uU(7),g.ALo(8,"json"),g.qZA(),g.qZA(),g.TgZ(9,"mat-tab",29),g.TgZ(10,"pre"),g._uU(11),g.ALo(12,"json"),g.qZA(),g.qZA(),g.TgZ(13,"mat-tab",30),g.TgZ(14,"pre"),g._uU(15),g.ALo(16,"json"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(7),g.hij("                    ownerFromMangerForm = ",g.lcZ(8,3,e.ownerFromMangerForm.value),"\n                "),g.xp6(4),g.hij("                    savedResponse=",g.lcZ(12,5,e.savedResponse),"\n                "),g.xp6(4),g.hij("                    materialBalance=",g.lcZ(16,7,e.materialBalance),"\n                ")}}const F=[{path:"",component:(()=>{class e{constructor(e,t,r){this.route=e,this.http=t,this.managerService=r,this.isProduction=i.N.production,this.showDeveloperDiv=!0,this.route.data.subscribe(e=>{this.materials=e.materialResolver.rawMaterials.data,this.managerMaterialBalance=e.materialResolver.managerMaterialBalance.data}),this.ownerFromMangerForm=new o.cw({rm_id:new o.NI(36,[o.kI.required]),value:new o.NI({value:0,disabled:!1},[o.kI.required,o.kI.min(.001)])})}ngOnInit(){}saveTransfer(){c().fire({title:"Withdraw from Manager",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Withdraw",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.saveMaterialFromManagerToOwner(this.ownerFromMangerForm.value).subscribe(e=>{!0===e.status&&(c().fire({timer:2e3,title:"Saved",text:"Withdrawn successfully to Manager",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e,this.managerMaterialBalanceUpdated=e.data.manager_all_material_balance,this.ownerFromMangerForm.markAsPristine())},e=>{c().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}resetForm(){this.savedResponse&&(this.materialBalance=this.savedResponse.data.material_balance,this.savedResponse=null),this.ownerFromMangerForm.reset()}selectMaterial(e){console.log(e),this.ownerFromMangerForm.patchValue({rm_id:e.rmId})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(n.gz),g.Y36(s.eN),g.Y36(u.b))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-material-from-manager"]],decls:29,vars:7,consts:[[1,"d-flex","flex-row","gradient-bg",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","value","placeholder","Material",1,"text-right"],["silverValue",""],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[3,"highlight","click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],[1,"text-right"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["name","fontStyle","aria-label","Font Style"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2"),g._uU(3,"Withdrawing from Manager"),g.qZA(),g.TgZ(4,"h5"),g._uU(5,"\u09ae\u09cd\u09af\u09be\u09a8\u09c7\u099c\u09be\u09b0\u09c7\u09b0 \u0995\u09be\u099b \u09a5\u09c7\u0995\u09c7 \u09ae\u09c7\u099f\u09be\u09b2 \u09a4\u09c1\u09b2\u09c7 \u09a8\u09c7\u0993\u09df\u09be\u09b0 \u09aa\u09a6\u09cd\u09a7\u09a4\u09bf"),g.qZA(),g._UZ(6,"hr"),g.TgZ(7,"form",2),g._UZ(8,"ng-select",3),g.TgZ(9,"div"),g.TgZ(10,"mat-form-field",4),g.TgZ(11,"mat-label"),g._uU(12,"Enter Quantity"),g.qZA(),g._UZ(13,"input",5,6),g.qZA(),g.qZA(),g.TgZ(15,"div",7),g.TgZ(16,"div",8),g.TgZ(17,"div",9),g.TgZ(18,"button",10),g.NdJ("click",function(){return t.resetForm()}),g._uU(19,"Reset"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"div",8),g.TgZ(21,"div",9),g.TgZ(22,"button",11),g.NdJ("click",function(){return t.saveTransfer()}),g._uU(23,"Save Record"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"div",12),g.YNc(25,b,10,1,"div",13),g.YNc(26,w,10,1,"div",13),g.qZA(),g.qZA(),g.YNc(27,x,5,0,"mat-button-toggle-group",14),g.YNc(28,M,17,9,"div",15)),2&e&&(g.xp6(7),g.Q6J("formGroup",t.ownerFromMangerForm),g.xp6(1),g.Q6J("items",t.materials),g.xp6(14),g.Q6J("disabled",!t.ownerFromMangerForm.valid||t.ownerFromMangerForm.pristine),g.xp6(3),g.Q6J("ngIf",t.managerMaterialBalance),g.xp6(1),g.Q6J("ngIf",t.savedResponse),g.xp6(1),g.Q6J("ngIf",!t.isProduction),g.xp6(1),g.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[o._Y,o.JL,o.sg,m.w9,o.JJ,o.u,d.KE,d.hX,o.wV,Z.Nt,o.Fj,p.lW,a.O5,a.sg,h.A9,h.Yi,f.SP,f.uX],pipes:[a.JJ,a.Ts],styles:[".highlight[_ngcontent-%COMP%]{background-color:#e4e5d7!important}.highlight[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#cf0f2a!important}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#aaf5f9 0%,#fdf7cc 100%)}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[n.Bz.forChild(F)],n.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[a.ez,_,f.Nh,h.vV,o.UX,m.A0,d.lN,Z.c,p.ot]]}),e})()}}]);