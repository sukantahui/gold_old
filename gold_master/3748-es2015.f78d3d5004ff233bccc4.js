"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[3748],{73748:function(e,n,t){t.r(n),t.d(n,{PanCreationModule:function(){return k}});var a=t(38583),i=t(63423),o=t(92340),r=t(3679),l=t(88259),s=t.n(l),u=t(37716),c=t(91841),g=t(57916),p=t(86640),Z=t(98295),d=t(49983),m=t(51095),v=t(42542),h=t(65939),A=t(33839);function f(e,n){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td",26),u._uU(4),u.ALo(5,"number"),u.qZA(),u.qZA()),2&e){const e=n.$implicit;u.xp6(2),u.Oqu(e.rawMaterialName),u.xp6(2),u.Oqu(u.xi3(5,2,e.closingBalance,"1.3"))}}function b(e,n){if(1&e&&(u.TgZ(0,"div",21),u.TgZ(1,"h3"),u._uU(2,"Material balance before conversion"),u.qZA(),u.TgZ(3,"table",22),u.TgZ(4,"thead"),u.TgZ(5,"tr"),u.TgZ(6,"th",23),u._uU(7,"Material Name"),u.qZA(),u.TgZ(8,"th",24),u._uU(9,"Value"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"tbody"),u.YNc(11,f,6,5,"tr",25),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(11),u.Q6J("ngForOf",e.managerMaterialBalance)}}function q(e,n){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td",26),u._uU(4),u.ALo(5,"number"),u.qZA(),u.qZA()),2&e){const e=n.$implicit;u.xp6(2),u.Oqu(e.rawMaterialName),u.xp6(2),u.Oqu(u.xi3(5,2,e.closingBalance,"1.3"))}}function T(e,n){if(1&e&&(u.TgZ(0,"div",21),u.TgZ(1,"h3"),u._uU(2,"Material balance after conversion"),u.qZA(),u.TgZ(3,"table",27),u.TgZ(4,"thead"),u.TgZ(5,"tr"),u.TgZ(6,"th",28),u._uU(7,"Material Name"),u.qZA(),u.TgZ(8,"th",23),u._uU(9,"Value"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"tbody"),u.YNc(11,q,6,5,"tr",25),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(11),u.Q6J("ngForOf",e.materialBalanceUpdated)}}function C(e,n){if(1&e){const e=u.EpF();u.TgZ(0,"mat-button-toggle-group",29),u.TgZ(1,"mat-button-toggle",30),u.NdJ("click",function(){return u.CHM(e),u.oxw().showDeveloperDiv=!0}),u._uU(2,"Show"),u.qZA(),u.TgZ(3,"mat-button-toggle",30),u.NdJ("click",function(){return u.CHM(e),u.oxw().showDeveloperDiv=!1}),u._uU(4,"Hide"),u.qZA(),u.qZA()}}function _(e,n){if(1&e&&(u.TgZ(0,"div",31),u.TgZ(1,"div",32),u.TgZ(2,"h2"),u._uU(3,"Developer Area"),u.qZA(),u.TgZ(4,"mat-tab-group",33),u.TgZ(5,"mat-tab",34),u.TgZ(6,"pre"),u._uU(7),u.ALo(8,"json"),u.qZA(),u.qZA(),u.TgZ(9,"mat-tab",35),u.TgZ(10,"pre"),u._uU(11),u.ALo(12,"json"),u.qZA(),u.qZA(),u.TgZ(13,"mat-tab",36),u.TgZ(14,"pre"),u._uU(15,"\n                "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(7),u.hij("                    materialBalance = ",u.lcZ(8,2,e.managerMaterialBalance),"\n                "),u.xp6(4),u.hij("                    panConversionForm = ",u.lcZ(12,4,e.panConversionForm.value),"\n                ")}}const x=[{path:"",component:(()=>{class e{constructor(e,n,t){this.route=e,this.http=n,this.managerService=t,this.isProduction=o.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(e=>{this.managerMaterialBalance=e.panCreationResolver.managerMaterialBalance.data,this.user=e.panCreationResolver.user,this.karigars=e.panCreationResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(e=>{this.projectDetails=e,this.panCreationRation=this.projectDetails.panCreationRation,console.log(this.projectDetails.panCreationRation)}),this.panConversionForm=new r.cw({karigar_id:new r.NI(76,[r.kI.required]),ninety_two_gini_value:new r.NI(0,[r.kI.required,r.kI.min(.001)]),zinc_value:new r.NI(0,[r.kI.required,r.kI.min(.001)]),dal_value:new r.NI(0,[r.kI.required,r.kI.min(.001)]),pan_value:new r.NI(0,[r.kI.required,r.kI.min(.001)])})}ngOnInit(){this.panConversionForm.valueChanges.subscribe(e=>{this.giniPlusDal=(+e.ninety_two_gini_value||0)+(+e.dal_value||0)})}onGiniChange(e){const n=+e.value||0,t=n*this.panCreationRation.dalToGini;this.panConversionForm.patchValue({dal_value:t.toFixed(3)});const a=(n+t)*this.panCreationRation.zincToDalAndGini;this.panConversionForm.patchValue({zinc_value:a.toFixed(3)}),this.panConversionForm.patchValue({pan_value:(n+t+a).toFixed(3)})}onDalChange(e){var n;const t=Number(null===(n=this.panConversionForm.get("ninety_two_gini_value"))||void 0===n?void 0:n.value)||0,a=+e.value||0,i=(t+a)*this.panCreationRation.zincToDalAndGini;this.panConversionForm.patchValue({zinc_value:i.toFixed(3)}),this.panConversionForm.patchValue({pan_value:(t+a+i).toFixed(3)})}onZincChange(e){var n,t;const a=Number(null===(n=this.panConversionForm.get("ninety_two_gini_value"))||void 0===n?void 0:n.value)||0,i=Number(null===(t=this.panConversionForm.get("dal_value"))||void 0===t?void 0:t.value)||0;this.panConversionForm.patchValue({pan_value:(a+i+(+e.value||0)).toFixed(3)})}resetForm(){this.savedResponse&&(this.managerMaterialBalance=this.savedResponse.data.material_balance,this.savedResponse=null),this.panConversionForm.reset()}savePanConversion(){s().fire({title:"Pan Creation",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.savePanCreation(this.panConversionForm.value).subscribe(e=>{!0===e.status&&(s().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e,this.materialBalanceUpdated=e.data.material_balance,this.panConversionForm.markAsPristine())},e=>{s().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}return e.\u0275fac=function(n){return new(n||e)(u.Y36(i.gz),u.Y36(c.eN),u.Y36(g.b))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-pan-creation"]],decls:47,vars:11,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","ninety_two_gini_value","placeholder","Gini",1,"text-right",3,"keyup"],["giniValue",""],["type","number","matInput","","formControlName","dal_value","placeholder","dal",1,"text-right",3,"keyup"],["dalValue",""],["type","number","matInput","","formControlName","zinc_value","placeholder","Zinc",1,"text-right",3,"keyup"],["zincValue",""],["type","number","matInput","","formControlName","pan_value","placeholder","Dal",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-dark","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col",2,"border-radius","20px"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,n){if(1&e){const e=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h3"),u._uU(3,"PAN Conversion"),u.qZA(),u.TgZ(4,"form",2),u._UZ(5,"ng-select",3),u.TgZ(6,"div"),u.TgZ(7,"mat-form-field",4),u.TgZ(8,"mat-label"),u._uU(9,"Enter 92 Gini"),u.qZA(),u.TgZ(10,"input",5,6),u.NdJ("keyup",function(){u.CHM(e);const t=u.MAs(11);return n.onGiniChange(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div"),u.TgZ(13,"mat-form-field",4),u.TgZ(14,"mat-label"),u._uU(15,"Enter Dal"),u.qZA(),u.TgZ(16,"input",7,8),u.NdJ("keyup",function(){u.CHM(e);const t=u.MAs(17);return n.onDalChange(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"div"),u._uU(19),u.ALo(20,"noCommaNumber"),u.qZA(),u._UZ(21,"hr"),u.TgZ(22,"div"),u.TgZ(23,"mat-form-field",4),u.TgZ(24,"mat-label"),u._uU(25,"Zinc Value"),u.qZA(),u.TgZ(26,"input",9,10),u.NdJ("keyup",function(){u.CHM(e);const t=u.MAs(27);return n.onZincChange(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"div"),u.TgZ(29,"mat-form-field",4),u.TgZ(30,"mat-label"),u._uU(31,"Pan Valuation"),u.qZA(),u._UZ(32,"input",11),u.qZA(),u.qZA(),u.TgZ(33,"div",12),u.TgZ(34,"div",13),u.TgZ(35,"div",14),u.TgZ(36,"button",15),u.NdJ("click",function(){return n.resetForm()}),u._uU(37,"Reset"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(38,"div",13),u.TgZ(39,"div",14),u.TgZ(40,"button",16),u.NdJ("click",function(){return n.savePanConversion()}),u._uU(41,"Save Record"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(42,"div",17),u.YNc(43,b,12,1,"div",18),u.YNc(44,T,12,1,"div",18),u.qZA(),u.qZA(),u.YNc(45,C,5,0,"mat-button-toggle-group",19),u.YNc(46,_,16,6,"div",20)}2&e&&(u.xp6(4),u.Q6J("formGroup",n.panConversionForm),u.xp6(1),u.Q6J("items",n.karigars),u.xp6(14),u.hij("Gini + dal = ",u.xi3(20,8,n.giniPlusDal,3),""),u.xp6(21),u.Q6J("disabled",!n.panConversionForm.valid||n.panConversionForm.pristine),u.xp6(3),u.Q6J("ngIf",n.managerMaterialBalance),u.xp6(1),u.Q6J("ngIf",n.savedResponse),u.xp6(1),u.Q6J("ngIf",!n.isProduction),u.xp6(1),u.Q6J("ngIf",n.showDeveloperDiv&&!n.isProduction))},directives:[r._Y,r.JL,r.sg,p.w9,r.JJ,r.u,Z.KE,Z.hX,r.wV,d.Nt,r.Fj,m.lW,a.O5,a.sg,v.A9,v.Yi,h.SP,h.uX],pipes:[A.S,a.JJ,a.Ts],styles:[""]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.Bz.forChild(x)],i.Bz]}),e})();var N=t(8515);let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[a.ez,w,h.Nh,Z.lN,r.UX,d.c,v.vV,h.Nh,p.A0,m.ot,N.DalCreationModule]]}),e})()}}]);