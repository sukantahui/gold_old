!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[3353],{83353:function(o,n,r){r.r(n),r.d(n,{JobReportModule:function(){return Q}});var i=r(16274),a=r(65543),u=r(24766),l=r(93324),d=r(42741),Z=r(75563),p=r(56880),s=r(40688),c=r(10823),g=r(19018),A=r(44113),f=r(33103),q=r(49296),m=r(41388);function b(e,t){if(1&e){var o=d.EpF();d.TgZ(0,"span"),d.TgZ(1,"button",31),d.NdJ("click",function(){d.CHM(o);var e=d.oxw(3);return e.showJobDetailDiv=!e.showJobDetailDiv}),d._uU(2," Hide Details "),d.qZA(),d.qZA()}}function T(e,t){if(1&e){var o=d.EpF();d.TgZ(0,"div",26),d.TgZ(1,"div",27),d._UZ(2,"i",28),d.TgZ(3,"input",29),d.NdJ("input",function(e){return d.CHM(o),d.oxw(),d.MAs(4).filterGlobal(e.target.value,"contains")}),d.qZA(),d.qZA(),d.YNc(4,b,3,0,"span",30),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(4),d.Q6J("ngIf",n.showJobDetailDiv)}}function x(e,t){1&e&&(d.TgZ(0,"th",45),d._uU(1,"Job Date "),d._UZ(2,"p-sortIcon",46),d.qZA())}function v(e,t){1&e&&(d.TgZ(0,"th",47),d._uU(1,"Order ID "),d._UZ(2,"p-sortIcon",48),d.qZA())}function h(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th"),d._uU(2,"SL"),d.qZA(),d.TgZ(3,"th",32),d._uU(4,"Job Id "),d._UZ(5,"p-sortIcon",33),d.qZA(),d.YNc(6,x,3,0,"th",34),d.YNc(7,v,3,0,"th",35),d.TgZ(8,"th",36),d._uU(9,"Qty"),d._UZ(10,"p-sortIcon",37),d.qZA(),d.TgZ(11,"th",38),d._uU(12,"Gold Send "),d.TgZ(13,"p-sortIcon"),d._uU(14,'field="goldSend"'),d.qZA(),d.qZA(),d.TgZ(15,"th",39),d._uU(16,"Gold Return "),d.TgZ(17,"p-sortIcon"),d._uU(18,'field="goldReturned"'),d.qZA(),d.qZA(),d.TgZ(19,"th",40),d._uU(20,"Pan "),d.TgZ(21,"p-sortIcon"),d._uU(22,'field="panSend"'),d.qZA(),d.qZA(),d.TgZ(23,"th",41),d._uU(24,"Nitric "),d.TgZ(25,"p-sortIcon"),d._uU(26,'field="nitrickReturned"'),d.qZA(),d.qZA(),d.TgZ(27,"th",42),d._uU(28,"Ploss "),d.TgZ(29,"p-sortIcon"),d._uU(30,'field="pLoss"'),d.qZA(),d.qZA(),d.TgZ(31,"th",43),d._uU(32,"MV "),d.TgZ(33,"p-sortIcon"),d._uU(34,'field="markupValue"'),d.qZA(),d.qZA(),d.TgZ(35,"th",44),d._uU(36,"Status "),d.TgZ(37,"p-sortIcon"),d._uU(38,'field="currentStatus.statusName"'),d.qZA(),d.qZA(),d.qZA()),2&e){var o=d.oxw(2);d.xp6(6),d.Q6J("ngIf",!o.showJobDetailDiv),d.xp6(1),d.Q6J("ngIf",!o.showJobDetailDiv)}}function U(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var o=d.oxw().$implicit;d.xp6(1),d.Oqu(o.formattedTrTime)}}function _(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var o=d.oxw().$implicit;d.xp6(1),d.Oqu(o.orderId)}}function J(e,t){if(1&e){var o=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d.TgZ(4,"button",31),d.NdJ("click",function(){var e=d.CHM(o).$implicit;return d.oxw(2).onJobSelect(e)}),d._uU(5),d.qZA(),d.qZA(),d.YNc(6,U,2,1,"td",30),d.YNc(7,_,2,1,"td",30),d.TgZ(8,"td",49),d._uU(9),d.qZA(),d.TgZ(10,"td",49),d._uU(11),d.ALo(12,"number"),d.qZA(),d.TgZ(13,"td",49),d._uU(14),d.ALo(15,"number"),d.qZA(),d.TgZ(16,"td",49),d._uU(17),d.ALo(18,"number"),d.qZA(),d.TgZ(19,"td",49),d._uU(20),d.ALo(21,"number"),d.qZA(),d.TgZ(22,"td",49),d._uU(23),d.ALo(24,"number"),d.qZA(),d.TgZ(25,"td",49),d._uU(26),d.ALo(27,"number"),d.qZA(),d.TgZ(28,"td"),d._uU(29),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit,r=t.rowIndex,i=d.oxw(2);d.xp6(2),d.Oqu(r+1),d.xp6(3),d.hij(" ",n.jobId," "),d.xp6(1),d.Q6J("ngIf",!i.showJobDetailDiv),d.xp6(1),d.Q6J("ngIf",!i.showJobDetailDiv),d.xp6(2),d.Oqu(n.pieces),d.xp6(2),d.Oqu(d.xi3(12,12,n.goldSend,"1.3")),d.xp6(3),d.Oqu(d.xi3(15,15,n.goldReturned,"1.3")),d.xp6(3),d.Oqu(d.xi3(18,18,n.panSend,"1.3")),d.xp6(3),d.Oqu(d.xi3(21,21,n.nitrickReturned,"1.3")),d.xp6(3),d.Oqu(d.xi3(24,24,n.pLoss,"1.3")),d.xp6(3),d.Oqu(d.xi3(27,27,n.markupValue,"1.3")),d.xp6(3),d.Oqu(n.currentStatus.statusName)}}function S(e,t){if(1&e&&(d.TgZ(0,"div"),d.TgZ(1,"h3"),d._uU(2),d.qZA(),d.TgZ(3,"h4"),d._uU(4),d.qZA(),d.TgZ(5,"div"),d._uU(6),d.qZA(),d._UZ(7,"hr"),d.TgZ(8,"div",51),d.TgZ(9,"div",0),d.TgZ(10,"div",52),d.TgZ(11,"table",53),d.TgZ(12,"thead"),d.TgZ(13,"tr"),d._UZ(14,"th"),d.TgZ(15,"th"),d._uU(16,"Particulars"),d.qZA(),d._UZ(17,"th"),d.TgZ(18,"th"),d._uU(19,"Taken"),d.qZA(),d.TgZ(20,"th"),d._uU(21,"Actual"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"tbody"),d.TgZ(23,"tr"),d._UZ(24,"th",54),d.TgZ(25,"th",54),d._uU(26,"Gold Send"),d.qZA(),d._UZ(27,"td"),d.TgZ(28,"td"),d._uU(29),d.ALo(30,"number"),d.qZA(),d.qZA(),d.TgZ(31,"tr"),d.TgZ(32,"th",54),d._uU(33,"Less:"),d.qZA(),d.TgZ(34,"th",54),d._uU(35,"Gold Return"),d.qZA(),d._UZ(36,"td"),d.TgZ(37,"td"),d._uU(38),d.ALo(39,"number"),d.qZA(),d.qZA(),d.TgZ(40,"tr"),d.TgZ(41,"th",54),d._uU(42,"Add:"),d.qZA(),d.TgZ(43,"th",54),d._uU(44,"Pan Used"),d.qZA(),d._UZ(45,"td"),d.TgZ(46,"td"),d._uU(47),d.ALo(48,"number"),d.qZA(),d.qZA(),d.TgZ(49,"tr"),d.TgZ(50,"th",54),d._uU(51,"Less:"),d.qZA(),d.TgZ(52,"th",54),d._uU(53,"Nitrick Return"),d.qZA(),d.TgZ(54,"td"),d._uU(55),d.ALo(56,"number"),d.qZA(),d.TgZ(57,"td"),d._uU(58),d.ALo(59,"number"),d.qZA(),d.TgZ(60,"td"),d._uU(61),d.ALo(62,"number"),d.qZA(),d.qZA(),d.TgZ(63,"tr"),d.TgZ(64,"th",54),d._uU(65,"Add:"),d.qZA(),d.TgZ(66,"th",54),d._uU(67),d.qZA(),d._UZ(68,"td"),d.TgZ(69,"td"),d._uU(70),d.ALo(71,"number"),d.qZA(),d.qZA(),d.TgZ(72,"tr"),d.TgZ(73,"th",54),d._uU(74,"Add:"),d.qZA(),d.TgZ(75,"th",54),d._uU(76),d.qZA(),d._UZ(77,"td"),d.TgZ(78,"td"),d._uU(79),d.ALo(80,"number"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(81,"div",0),d._UZ(82,"div",0),d.qZA(),d.qZA()),2&e){var o=d.oxw(3);d.xp6(2),d.Oqu(o.selectedJob.orderDetails.OrderMaster.customer.customerName),d.xp6(2),d.hij("Karigar: ",o.selectedJob.employee.employeeName,""),d.xp6(2),d.hij("Gold Type: ",o.selectedJob.gold.rmName,""),d.xp6(23),d.Oqu(d.xi3(30,15,o.selectedJob.goldSend,"1.3")),d.xp6(9),d.Oqu(d.xi3(39,18,o.selectedJob.goldReturned,"1.3")),d.xp6(9),d.Oqu(d.xi3(48,21,o.selectedJob.panSend-o.selectedJob.panReturned,"1.3")),d.xp6(8),d.hij("",d.xi3(56,24,o.selectedJob.nitrickReturned/o.selectedJob.nitricReturnedActual*100,"1.3")," %"),d.xp6(3),d.Oqu(d.xi3(59,27,o.selectedJob.nitrickReturned,"1.3")),d.xp6(3),d.Oqu(d.xi3(62,30,o.selectedJob.nitricReturnedActual,"1.3")),d.xp6(6),d.AsE("Ploss ",o.selectedJob.pLoss,"X",o.selectedJob.pieces,""),d.xp6(3),d.Oqu(d.xi3(71,33,o.selectedJob.pLoss*o.selectedJob.pieces,"1.3")),d.xp6(6),d.AsE("MV ",o.selectedJob.pLoss,"X",o.selectedJob.pieces,""),d.xp6(3),d.Oqu(d.xi3(80,36,o.selectedJob.pLoss*o.selectedJob.pieces,"1.3"))}}function D(e,t){if(1&e&&(d.TgZ(0,"div",50),d.YNc(1,S,83,39,"div",30),d.qZA()),2&e){var o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",o.selectedJob)}}var w=function(){return[20,30,50]},I=function(){return["jobId","productCode"]};function L(e,t){if(1&e&&(d.TgZ(0,"div",1),d.TgZ(1,"div",18),d.TgZ(2,"div",19),d.TgZ(3,"p-table",20,21),d.YNc(5,T,5,1,"ng-template",22),d.YNc(6,h,39,2,"ng-template",23),d.YNc(7,J,30,30,"ng-template",24),d.qZA(),d.qZA(),d.qZA(),d.YNc(8,D,2,1,"div",25),d.qZA()),2&e){var o=d.oxw();d.xp6(1),d.Q6J("ngClass",1==o.showJobDetailDiv?"col-8":"col-12"),d.xp6(2),d.Q6J("value",o.jobs)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",d.DdM(9,w))("paginator",!0)("globalFilterFields",d.DdM(10,I))("responsive",!0),d.xp6(5),d.Q6J("ngIf",o.showJobDetailDiv)}}function k(e,t){if(1&e&&(d.TgZ(0,"div",55),d.TgZ(1,"div",56),d.TgZ(2,"div",57),d.TgZ(3,"div",58),d.TgZ(4,"pre"),d._uU(5),d.ALo(6,"json"),d.qZA(),d.qZA(),d.TgZ(7,"div",59),d.TgZ(8,"pre"),d._uU(9),d.ALo(10,"json"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var o=d.oxw();d.xp6(5),d.hij("                        selectedJob = ",d.lcZ(6,2,o.selectedJob),"\n                    "),d.xp6(4),d.hij("                        jobs = ",d.lcZ(10,4,o.jobs),"\n                    ")}}var N,y=[{path:"",component:(N=function(){function o(t,n,r){e(this,o),this.reportService=t,this.commonService=n,this.adapter=r,this.isProduction=u.N.production,this.isLoading=!1,this.showJobDetailDiv=!1,this.adapter.setLocale("in");var i=new Date,a=new Date;this.reportForm=new l.cw({startDate:new l.NI(i),startDateSql:new l.NI(null),endDate:new l.NI(a),endDateSql:new l.NI(null),reportLimit:new l.NI(50)})}var n,r,i;return n=o,(r=[{key:"ngOnInit",value:function(){}},{key:"setStartDateSQL",value:function(e){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(e)})}},{key:"setEndDateSQL",value:function(e){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(e)})}},{key:"loadSaleReport",value:function(e,t){var o=this;this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(e)}),this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)}),this.isLoading=!0,this.reportService.getJobsByDates(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql).subscribe(function(e){o.jobs=e.data,o.isLoading=!1})}},{key:"onJobSelect",value:function(e){console.log(e),this.selectedJob=e,this.showJobDetailDiv=!0}}])&&t(n.prototype,r),i&&t(n,i),o}(),N.\u0275fac=function(e){return new(e||N)(d.Y36(Z.r),d.Y36(p.v),d.Y36(s._A))},N.\u0275cmp=d.Xpm({type:N,selectors:[["app-job-report"]],decls:28,vars:12,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],["class","container-fluid rounded d-flex flex-xl-row justify-content-xl-between flex-column",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"table-div",3,"ngClass"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-6",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"text-right",3,"input"],[4,"ngIf"],["pButton","","type","button",1,"p-button-link",3,"click"],["pSortableColumn","jobId"],["field","jobId"],["pSortableColumn","jobDate",4,"ngIf"],["pSortableColumn","orderId",4,"ngIf"],["pSortableColumn","pieces"],["field","pieces"],["pSortableColumn","goldSend"],["pSortableColumn","goldReturned"],["pSortableColumn","panSend"],["pSortableColumn","nitrickReturned"],["pSortableColumn","pLoss"],["pSortableColumn","markupValue"],["pSortableColumn","currentStatus.statusName"],["pSortableColumn","jobDate"],["field","jobDate"],["pSortableColumn","orderId"],["field","orderId"],[1,"text-right"],[1,"col-6"],[1,"d-flex","flex-row"],["id","job-details col-2"],[1,"table","table-responsivem"],["scope","row"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(e,t){if(1&e){var o=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"mat-form-field",6),d.TgZ(7,"mat-label"),d._uU(8,"Start Date"),d.qZA(),d.TgZ(9,"input",7,8),d.NdJ("dateInput",function(){d.CHM(o);var e=d.MAs(10);return t.setStartDateSQL(e.value)}),d.qZA(),d._UZ(11,"mat-datepicker-toggle",9),d._UZ(12,"mat-datepicker",10,11),d.qZA(),d.TgZ(14,"mat-form-field",6),d.TgZ(15,"mat-label"),d._uU(16,"End Date"),d.qZA(),d.TgZ(17,"input",12,13),d.NdJ("dateInput",function(){d.CHM(o);var e=d.MAs(18);return t.setEndDateSQL(e.value)}),d.qZA(),d._UZ(19,"mat-datepicker-toggle",9),d._UZ(20,"mat-datepicker",10,14),d.qZA(),d.qZA(),d.TgZ(22,"div",5),d.TgZ(23,"div"),d._uU(24),d.qZA(),d.TgZ(25,"button",15),d.NdJ("click",function(){d.CHM(o);var e=d.MAs(10),n=d.MAs(18);return t.loadSaleReport(e.value,n.value)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(26,L,9,11,"div",16),d.qZA(),d.YNc(27,k,11,6,"div",17)}if(2&e){var n=d.MAs(10),r=d.MAs(13),i=d.MAs(18),a=d.MAs(21);d.xp6(3),d.Q6J("formGroup",t.reportForm),d.xp6(6),d.Q6J("matDatepicker",r),d.xp6(2),d.Q6J("for",r),d.xp6(1),d.Q6J("opened",!0),d.xp6(5),d.Q6J("matDatepicker",a),d.xp6(2),d.Q6J("for",a),d.xp6(1),d.Q6J("opened",!1),d.xp6(4),d.AsE("Jobs from ",n.value," to ",i.value,""),d.xp6(1),d.Q6J("loading",t.isLoading),d.xp6(1),d.Q6J("ngIf",t.jobs),d.xp6(1),d.Q6J("ngIf",!t.isProduction)}},directives:[l._Y,l.JL,l.sg,c.KE,c.hX,g.Nt,l.Fj,A.hl,l.JJ,l.u,A.nW,c.R9,A.Mq,f.Hq,i.O5,i.mk,q.iA,m.jx,q.lQ,q.fz],pipes:[i.JJ,i.Ts],styles:[""]}),N)}],C=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[a.Bz.forChild(y)],a.Bz]}),t}(),j=r(80814),Q=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[i.ez,C,A.FA,g.c,s.XK,l.UX,f.hJ,q.U$,j.L$]]}),t}()}}])}();