"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[4886],{84886:function(t,e,o){o.r(e),o.d(e,{DateFormats:function(){return L},GRI_DATE_FORMATS:function(){return Y},ProductSaleModule:function(){return C}});var n=o(16274),a=o(65543),r=o(24766),i=o(93324),l=o(42741),s=o(75563),p=o(56880),u=o(40688),c=o(10823),d=o(19018),Z=o(44113),g=o(33103),m=o(49296),f=o(41388);function q(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",28),l.TgZ(1,"h4"),l._uU(2),l.qZA(),l.TgZ(3,"span",29),l._UZ(4,"i",30),l.TgZ(5,"input",31),l.NdJ("input",function(e){return l.CHM(t),l.oxw(),l.MAs(2).filterGlobal(e.target.value,"contains")}),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(2),l.hij("Selected Model: ",t.selectedModel,"")}}function A(t,e){1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"th"),l._uU(2,"SL"),l.qZA(),l.TgZ(3,"th",32),l._uU(4,"Model "),l._UZ(5,"p-sortIcon",33),l.qZA(),l.TgZ(6,"th",34),l._uU(7,"Qty "),l._UZ(8,"p-sortIcon",35),l.qZA(),l.qZA())}function h(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l.TgZ(4,"button",36),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).showSaleReportByModel(e.model_no)}),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"td"),l._uU(7),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,o=e.rowIndex;l.xp6(2),l.Oqu(o+1),l.xp6(3),l.hij(" ",t.model_no," "),l.xp6(2),l.Oqu(t.sale_qty)}}const T=function(){return[20,30,50]},_=function(){return["model_no","sale_qty"]};function x(t,e){if(1&t&&(l.TgZ(0,"div",22),l.TgZ(1,"p-table",23,24),l.YNc(3,q,6,1,"ng-template",25),l.YNc(4,A,9,0,"ng-template",26),l.YNc(5,h,8,3,"ng-template",27),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("value",t.modelWiseSales)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",l.DdM(7,T))("paginator",!0)("globalFilterFields",l.DdM(8,_))("responsive",!0)}}function v(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",28),l.TgZ(1,"h4"),l._uU(2),l.qZA(),l.TgZ(3,"span",29),l._UZ(4,"i",30),l.TgZ(5,"input",37),l.NdJ("input",function(e){return l.CHM(t),l.oxw(),l.MAs(2).filterGlobal(e.target.value,"contains")}),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(2),l.hij("Selected Model: ",t.selectedModel,"")}}function S(t,e){1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"th"),l._uU(2,"SL"),l.qZA(),l.TgZ(3,"th",38),l._uU(4,"Date "),l._UZ(5,"p-sortIcon",39),l.qZA(),l.TgZ(6,"th",40),l._uU(7,"Cust ID "),l._UZ(8,"p-sortIcon",41),l.qZA(),l.TgZ(9,"th",42),l._uU(10,"Customer "),l._UZ(11,"p-sortIcon",43),l.qZA(),l.TgZ(12,"th",44),l._uU(13,"Agent "),l._UZ(14,"p-sortIcon",45),l.qZA(),l.TgZ(15,"th",46),l._uU(16,"Bill No. "),l._UZ(17,"p-sortIcon",47),l.qZA(),l.TgZ(18,"th",34),l._uU(19,"Sale "),l._UZ(20,"p-sortIcon",35),l.qZA(),l.qZA())}function b(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.qZA()),2&t){const t=e.$implicit,o=e.rowIndex;l.xp6(2),l.Oqu(o+1),l.xp6(2),l.Oqu(t.bill_date),l.xp6(2),l.Oqu(t.cust_id),l.xp6(2),l.Oqu(t.cust_name),l.xp6(2),l.Oqu(t.agent),l.xp6(2),l.Oqu(t.bill_no),l.xp6(2),l.Oqu(t.sale_qty)}}const D=function(){return["cust_id","cust_name","agent","bill_date"]};function M(t,e){if(1&t&&(l.TgZ(0,"div",22),l.TgZ(1,"p-table",23,24),l.YNc(3,v,6,1,"ng-template",25),l.YNc(4,S,21,0,"ng-template",26),l.YNc(5,b,15,7,"ng-template",27),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("value",t.sales)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",l.DdM(7,T))("paginator",!0)("globalFilterFields",l.DdM(8,D))("responsive",!0)}}function w(t,e){if(1&t&&(l.TgZ(0,"div",48),l.TgZ(1,"div",49),l.TgZ(2,"div",50),l.TgZ(3,"div",51),l.TgZ(4,"pre"),l._uU(5),l.ALo(6,"json"),l.qZA(),l.qZA(),l.TgZ(7,"div",52),l.TgZ(8,"pre"),l._uU(9,"\n                    "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(5),l.hij("                        sales=",l.lcZ(6,1,t.sales),"\n                    ")}}const U=[{path:"",component:(()=>{class t{constructor(t,e,o){this.reportService=t,this.commonService=e,this.adapter=o,this.isProduction=r.N.production,this.isLoading=!1,this.isLoadingSale=!1,this.sales=[],this.adapter.setLocale("in");const n=new Date,a=new Date;this.reportForm=new i.cw({startDate:new i.NI(n),startDateSql:new i.NI(null),endDate:new i.NI(a),endDateSql:new i.NI(null),reportLimit:new i.NI(50)})}ngOnInit(){}loadSaleReport(t,e){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)}),this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(e)}),this.isLoading=!0,this.reportService.getModelWiseSaleReport(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,this.reportForm.value.reportLimit).subscribe(t=>{this.modelWiseSales=t.data,this.isLoading=!1})}setStartDateSQL(t){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(t)})}setEndDateSQL(t){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)})}showSaleReportByModel(t){this.selectedModel=t,this.reportService.getSaleByModel(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,t).subscribe(t=>{console.log(t.data),this.sales=t.data})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(s.r),l.Y36(p.v),l.Y36(u._A))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-product-sale"]],decls:35,vars:14,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["type","number","matInput","","name","value","placeholder","Limit","formControlName","reportLimit",1,"form-control"],["limit",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],[1,"table-div","col-6"],["class","p-2","style","border: 1px solid #454141; border-radius: 10px;",4,"ngIf"],[1,"col-6"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"text-right",3,"input"],["pSortableColumn","model_no"],["field","model_no"],["pSortableColumn","sale_qty"],["field","sale_qty"],["pButton","","type","button",1,"p-button-link",3,"click"],["pInputText","","type","text","placeholder","Search keyword",1,"text-right",3,"input"],["pSortableColumn","bill_date"],["field","bill_date"],["pSortableColumn","cust_id"],["field","cust_id"],["pSortableColumn","cust_name"],["field","cust_name"],["pSortableColumn","agent"],["field","agent"],["pSortableColumn","bill_no"],["field","bill_no"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"form",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"mat-form-field",6),l.TgZ(7,"mat-label"),l._uU(8,"Start Date"),l.qZA(),l.TgZ(9,"input",7,8),l.NdJ("dateInput",function(){l.CHM(t);const o=l.MAs(10);return e.setStartDateSQL(o.value)}),l.qZA(),l._UZ(11,"mat-datepicker-toggle",9),l._UZ(12,"mat-datepicker",10,11),l.qZA(),l.TgZ(14,"mat-form-field",6),l.TgZ(15,"mat-label"),l._uU(16,"End Date"),l.qZA(),l.TgZ(17,"input",12,13),l.NdJ("dateInput",function(){l.CHM(t);const o=l.MAs(18);return e.setEndDateSQL(o.value)}),l.qZA(),l._UZ(19,"mat-datepicker-toggle",9),l._UZ(20,"mat-datepicker",10,14),l.qZA(),l.qZA(),l.TgZ(22,"div",5),l.TgZ(23,"mat-form-field"),l._UZ(24,"input",15,16),l.qZA(),l.TgZ(26,"div"),l._uU(27),l.qZA(),l.TgZ(28,"button",17),l.NdJ("click",function(){l.CHM(t);const o=l.MAs(10),n=l.MAs(18);return e.loadSaleReport(o.value,n.value)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"div",1),l.TgZ(30,"div",18),l.YNc(31,x,6,9,"div",19),l.qZA(),l.TgZ(32,"div",20),l.YNc(33,M,6,9,"div",19),l.qZA(),l.qZA(),l.qZA(),l.YNc(34,w,10,3,"div",21)}if(2&t){const t=l.MAs(10),o=l.MAs(13),n=l.MAs(18),a=l.MAs(21),r=l.MAs(25);l.xp6(3),l.Q6J("formGroup",e.reportForm),l.xp6(6),l.Q6J("matDatepicker",o),l.xp6(2),l.Q6J("for",o),l.xp6(1),l.Q6J("opened",!0),l.xp6(5),l.Q6J("matDatepicker",a),l.xp6(2),l.Q6J("for",a),l.xp6(1),l.Q6J("opened",!1),l.xp6(7),l.lnq("Show me first ",r.value," Model Sale from ",t.value," to ",n.value,""),l.xp6(1),l.Q6J("loading",e.isLoading),l.xp6(3),l.Q6J("ngIf",e.modelWiseSales),l.xp6(2),l.Q6J("ngIf",e.sales.length>0),l.xp6(1),l.Q6J("ngIf",!e.isProduction)}},directives:[i._Y,i.JL,i.sg,c.KE,c.hX,d.Nt,i.Fj,Z.hl,i.JJ,i.u,Z.nW,c.R9,Z.Mq,i.wV,g.Hq,n.O5,m.iA,f.jx,m.lQ,m.fz],pipes:[n.Ts],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.Bz.forChild(U)],a.Bz]}),t})();var I=o(80814);const L={parse:{dateInput:["YYYY-MM-DD"]},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Y=Object.assign(Object.assign({},u.Dl),{display:Object.assign(Object.assign({},u.Dl.display),{dateInput:{year:"numeric",month:"short",day:"numeric"}})});let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[],imports:[[n.ez,y,Z.FA,d.c,u.XK,i.UX,g.hJ,m.U$,I.L$]]}),t})()}}]);