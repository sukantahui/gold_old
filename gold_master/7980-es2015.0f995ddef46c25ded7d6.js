"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[7980],{87980:function(e,t,r){r.r(t),r.d(t,{FineToNinetyTwoModule:function(){return _}});var o=r(38583),i=r(63423),n=r(92340),a=r(3679),s=r(88259),l=r.n(s),c=r(37716),u=r(91841),p=r(57916),d=r(86640),g=r(98295),h=r(49983),m=r(51095),v=r(42542);function Z(e,t){1&e&&(c.TgZ(0,"h2"),c._uU(1,"Previous balance"),c.qZA())}function T(e,t){1&e&&(c.TgZ(0,"h2"),c._uU(1,"Current balance"),c.qZA())}function f(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.Oqu(e.closingBalance)}}function b(e,t){1&e&&(c.TgZ(0,"h2"),c._uU(1,"Current balance"),c.qZA())}function A(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.Oqu(e.closingBalance)}}function q(e,t){if(1&e&&(c.TgZ(0,"div",1),c.YNc(1,b,2,0,"h2",16),c.TgZ(2,"table",23),c.TgZ(3,"thead"),c.TgZ(4,"tr"),c.TgZ(5,"th",18),c._uU(6,"Material Name"),c.qZA(),c.TgZ(7,"th",18),c._uU(8,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"tbody",24),c.YNc(10,A,5,2,"tr",19),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.SavedResponse),c.xp6(9),c.Q6J("ngForOf",e.SavedResponse.data.material_balance)}}function x(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"mat-button-toggle-group",25),c.TgZ(1,"mat-button-toggle",26),c.NdJ("click",function(){return c.CHM(e),c.oxw().showDeveloperDiv=!0}),c._uU(2,"Show"),c.qZA(),c.TgZ(3,"mat-button-toggle",26),c.NdJ("click",function(){return c.CHM(e),c.oxw().showDeveloperDiv=!1}),c._uU(4,"Hide"),c.qZA(),c.qZA()}}function C(e,t){if(1&e&&(c.TgZ(0,"div",27),c.TgZ(1,"div",0),c.TgZ(2,"div",28),c.TgZ(3,"pre"),c._uU(4),c.ALo(5,"json"),c.qZA(),c.qZA(),c.TgZ(6,"div",28),c.TgZ(7,"pre"),c._uU(8),c.ALo(9,"json"),c.qZA(),c.qZA(),c.TgZ(10,"div",28),c.TgZ(11,"pre"),c._uU(12),c.ALo(13,"json"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(4),c.hij("                goldConversionForm = ",c.lcZ(5,3,e.goldConversionForm.value),"\n            "),c.xp6(4),c.hij("                extraCopperValue= ",c.lcZ(9,5,e.extraCopperValue),"\n            "),c.xp6(4),c.hij("                SavedResponse= ",c.lcZ(13,7,e.SavedResponse),"\n            ")}}const N=[{path:"",component:(()=>{class e{constructor(e,t,r){this.route=e,this.http=t,this.managerService=r,this.isProduction=n.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(e=>{this.materialBalance=e.fineToNinetyTwoResolver.materialBalance.data,this.user=e.fineToNinetyTwoResolver.user.data,this.karigars=e.fineToNinetyTwoResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(e=>{this.projectDetails=e}),this.goldConversionForm=new a.cw({employee_id:new a.NI(this.user.emp_id,[a.kI.required]),karigar_id:new a.NI(null,[a.kI.required]),fine_gold_id:new a.NI(36,[a.kI.required]),copper_id:new a.NI(37,[a.kI.required]),gini_id:new a.NI(48,[a.kI.required]),fine_gold_value:new a.NI(0,[a.kI.required]),copper_value:new a.NI({value:0,disables:!1},[a.kI.required]),gini_value:new a.NI({value:0,disabled:!1},[a.kI.required,a.kI.min(.001)])})}ngOnInit(){}onFineGoldChange(e,t){const r=this.projectDetails.fineToNinetyTwoRatio.fine,o=this.projectDetails.fineToNinetyTwoRatio.copper;this.extraCopperValue=.001*Number(e.value),this.expectedCopperValue=Number((e.value*(o/r)+this.extraCopperValue).toFixed(3)),this.goldConversionForm.patchValue({copper_value:this.expectedCopperValue.toFixed(3)}),this.expectedGiniValue=Number(e.value)+this.expectedCopperValue-this.extraCopperValue,this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue.toFixed(3)}),this.nittiTotal=Number((Number(e.value)+Number(t.value)).toFixed(3))}onCopperChange(e,t){this.expectedGiniValue=Number((Number(e.value)+Number(t.value)).toFixed(3)),this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue}),this.nittiTotal=Number((Number(e.value)+Number(t.value)).toFixed(3))}resetForm(){this.SavedResponse&&(this.materialBalance=this.SavedResponse.data.material_balance,this.SavedResponse=null),this.goldConversionForm.reset()}saveGoldConversion(){l().fire({title:"Fine to 92 Conversion",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{e.value?this.managerService.saveFineToNinetyTwo(this.goldConversionForm.value).subscribe(e=>{!0===e.status&&(l().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.SavedResponse=e,this.goldConversionForm.reset())},e=>{console.log(e),l().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})}):e.dismiss===l().DismissReason.cancel&&l().fire("Cancelled")})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(i.gz),c.Y36(u.eN),c.Y36(p.b))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-fine-to-ninety-two"]],decls:49,vars:13,consts:[[1,"d-flex","flex-row"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","fine_gold_value","placeholder","Fine Gold",1,"text-right",3,"keyup"],["fineGoldValue",""],["type","number","readonly","","matInput","","formControlName","copper_value","placeholder","Copper",1,"text-right",3,"keyup"],["copperValue",""],[1,"mt-3"],["type","number","readonly","","matInput","","formControlName","gini_value","placeholder","92 Gold",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[4,"ngIf"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-4",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"table","col-xl-12","col-lg-12","col-xs-12"],[2,"border","1px solid #10e523"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"p-2"]],template:function(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"form",2),c._UZ(3,"ng-select",3),c.TgZ(4,"div"),c.TgZ(5,"mat-form-field",4),c.TgZ(6,"mat-label"),c._uU(7,"Enter Fine Gold"),c.qZA(),c.TgZ(8,"input",5,6),c.NdJ("keyup",function(){c.CHM(e);const r=c.MAs(9),o=c.MAs(15);return t.onFineGoldChange(r,o)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"div"),c.TgZ(11,"mat-form-field",4),c.TgZ(12,"mat-label"),c._uU(13,"Enter Copper"),c.qZA(),c.TgZ(14,"input",7,8),c.NdJ("keyup",function(){c.CHM(e);const r=c.MAs(9),o=c.MAs(15);return t.onCopperChange(r,o)}),c.qZA(),c.qZA(),c.TgZ(16,"h3"),c._uU(17),c.ALo(18,"number"),c.qZA(),c.qZA(),c.TgZ(19,"div",9),c.TgZ(20,"mat-form-field",4),c.TgZ(21,"mat-label"),c._uU(22,"92 Gold Value"),c.qZA(),c._UZ(23,"input",10,8),c.qZA(),c.qZA(),c.TgZ(25,"div",11),c.TgZ(26,"div",12),c.TgZ(27,"div",13),c.TgZ(28,"button",14),c.NdJ("click",function(){return t.resetForm()}),c._uU(29,"Reset"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(30,"div",12),c.TgZ(31,"div",13),c.TgZ(32,"button",15),c.NdJ("click",function(){return t.saveGoldConversion()}),c._uU(33,"Save Record"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(34,"div",1),c.YNc(35,Z,2,0,"h2",16),c.YNc(36,T,2,0,"h2",16),c.TgZ(37,"table",17),c.TgZ(38,"thead"),c.TgZ(39,"tr"),c.TgZ(40,"th",18),c._uU(41,"Material Name"),c.qZA(),c.TgZ(42,"th",18),c._uU(43,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(44,"tbody"),c.YNc(45,f,5,2,"tr",19),c.qZA(),c.qZA(),c.qZA(),c.YNc(46,q,11,2,"div",20),c.qZA(),c.YNc(47,x,5,0,"mat-button-toggle-group",21),c.YNc(48,C,14,9,"div",22)}2&e&&(c.xp6(2),c.Q6J("formGroup",t.goldConversionForm),c.xp6(1),c.Q6J("items",t.karigars),c.xp6(14),c.hij("Nitti ",c.xi3(18,10,t.nittiTotal,"1.3-3"),""),c.xp6(15),c.Q6J("disabled",!t.goldConversionForm.valid||t.goldConversionForm.pristine),c.xp6(3),c.Q6J("ngIf",t.SavedResponse),c.xp6(1),c.Q6J("ngIf",!t.SavedResponse),c.xp6(9),c.Q6J("ngForOf",t.materialBalance),c.xp6(1),c.Q6J("ngIf",t.SavedResponse),c.xp6(1),c.Q6J("ngIf",!t.isProduction),c.xp6(1),c.Q6J("ngIf",!t.isProduction&&t.showDeveloperDiv))},directives:[a._Y,a.JL,a.sg,d.w9,a.JJ,a.u,g.KE,g.hX,a.wV,h.Nt,a.Fj,m.lW,o.O5,o.sg,v.A9,v.Yi],pipes:[o.JJ,o.Ts],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.Bz.forChild(N)],i.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,w,d.A0,g.lN,h.c,a.UX,m.ot,v.vV]]}),e})()},57916:function(e,t,r){r.d(t,{b:function(){return c}});var o=r(5304),i=r(68307),n=r(37716),a=r(5620),s=r(91841),l=r(84889);let c=(()=>{class e{constructor(e,t,r){this.commonService=e,this.http=t,this.errorService=r}saveFineToNinetyTwo(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveDalCreation(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}savePanCreation(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialTransfer(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialFromEmployee(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveCashTransactionBetweenEmployee(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}cashTransactionsByCurrentUser(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialFromOwnerToManager(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialFromManagerToOwner(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveNitricToFine(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}addTopUpGold(e,t){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+t,{}).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveGpTransactions(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,o.K)(this.errorService.serverError),(0,i.b)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(a.v),n.LFG(s.eN),n.LFG(l.T))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);