!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String(r)),i)}var o,r}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[489],{489:function(e,i,o){o.r(i),o.d(i,{AgentWiseStockModule:function(){return S}});var r=o(38583),a=o(63423),c=o(92340),u=o(3679),s=o(37716),g=o(37825),l=o(83188),d=o(5620),Z=o(93738),p=o(35618),f=o(86640),A=o(51095),v=o(95913),h=o(76627);function q(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td",16),s._uU(10),s.qZA(),s.TgZ(11,"td",16),s._uU(12),s.ALo(13,"number"),s.qZA(),s.TgZ(14,"td",16),s._uU(15),s.qZA(),s.TgZ(16,"td",16),s._uU(17),s.ALo(18,"date"),s.qZA(),s.qZA()),2&t){var n=e.$implicit,i=e.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(n.tag),s.xp6(2),s.Oqu(n.modelNo),s.xp6(2),s.Oqu(n.modelSize),s.xp6(2),s.Oqu(n.quantity),s.xp6(2),s.Oqu(s.xi3(13,8,n.gold,"1.3")),s.xp6(3),s.Oqu(n.labourCharge),s.xp6(2),s.Oqu(s.xi3(18,11,n.updatedAt,"dd/MM/yyyy HH:mm:ss"))}}function x(t,e){if(1&t&&(s.TgZ(0,"div",11),s.TgZ(1,"table",12),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th",13),s._uU(5,"SL"),s.qZA(),s.TgZ(6,"th",13),s._uU(7,"Tag"),s.qZA(),s.TgZ(8,"th",13),s._uU(9,"Model No."),s.qZA(),s.TgZ(10,"th",13),s._uU(11,"Model Size"),s.qZA(),s.TgZ(12,"th",13),s._uU(13,"Quantity"),s.qZA(),s.TgZ(14,"th",13),s._uU(15,"Gold"),s.qZA(),s.TgZ(16,"th",13),s._uU(17,"Labour Charge"),s.qZA(),s.TgZ(18,"th",13),s._uU(19,"Date"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"tbody"),s.YNc(21,q,19,14,"tr",14),s.qZA(),s.TgZ(22,"tfoot"),s.TgZ(23,"tr"),s.TgZ(24,"td",15),s._uU(25,"TOTAL"),s.qZA(),s.TgZ(26,"td",16),s._uU(27),s.qZA(),s.TgZ(28,"td",16),s._uU(29),s.ALo(30,"number"),s.qZA(),s.TgZ(31,"td",16),s._uU(32),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){var n=s.oxw();s.xp6(21),s.Q6J("ngForOf",n.stoockListByAgent),s.xp6(6),s.Oqu(n.totalQuantity),s.xp6(2),s.Oqu(s.xi3(30,4,n.totalGold,"1.3")),s.xp6(3),s.Oqu(n.totalLabourCharge)}}function m(t,e){if(1&t&&(s.TgZ(0,"div",17),s.TgZ(1,"div",18),s.TgZ(2,"div",19),s.TgZ(3,"div",20),s.TgZ(4,"pre"),s._uU(5),s.ALo(6,"json"),s.qZA(),s.qZA(),s._UZ(7,"div",21),s.TgZ(8,"div",20),s._uU(9,"3"),s.qZA(),s.TgZ(10,"div",20),s._uU(11,"4"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){var n=s.oxw();s.xp6(5),s.hij("                stoockListByAgent=",s.lcZ(6,1,n.stoockListByAgent),"\n                ")}}var T,y=[{path:"",component:(T=function(){function e(n,i,o){t(this,e),this.agentService=n,this.stockService=i,this.commonService=o,this.isProduction=c.N.production,this.fileName="ExcelSheet.xlsx",this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.totalGold=0,this.totalLabourCharge=0,this.totalQuantity=0,this.agentList=this.agentService.getAgents(),this.agentStockForm=new u.cw({agent_id:new u.NI(null)})}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.agentList=this.agentService.getAgents(),this.agentService.getAgentUpdateListener().subscribe(function(e){t.agentList=e})}},{key:"stockByAgent",value:function(t){var e=this;this.stockService.getStockByAgent(this.agentStockForm.value.agent_id).subscribe(function(t){e.stoockListByAgent=t.data,e.totalGold=e.stoockListByAgent.reduce(function(t,e){return t+e.gold},0),e.totalLabourCharge=e.stoockListByAgent.reduce(function(t,e){return t+e.labourCharge},0),e.totalQuantity=e.stoockListByAgent.reduce(function(t,e){return t+e.quantity},0)})}}]),e}(),T.\u0275fac=function(t){return new(t||T)(s.Y36(g.R),s.Y36(l.q),s.Y36(d.v))},T.\u0275cmp=s.Xpm({type:T,selectors:[["app-agent-wise-stock"]],decls:20,vars:5,consts:[["id","agent-wise-stock-div"],[3,"formGroup"],["fxFlex","30"],["bindLabel","agent_name","bindValue","agent_id","formControlName","agent_id","placeholder","Select Agent",1,"custom",3,"items","change"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","40",1,"child-1"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","stockListDiv","styleSheetFile","assets/print_css/agent_wise_stock/style1.css","ngxPrint","",3,"useExistingCss"],["mat-button","","color","primary",3,"click"],["id","stockListDiv","class","table-responsive",4,"ngIf"],["id","developer-div",4,"ngIf"],["id","stockListDiv",1,"table-responsive"],["id","printable-stock-table",1,"table","table-bodered","table-condensed"],[1,"text-center"],[4,"ngFor","ngForOf"],["colspan","4"],[1,"text-right"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"mat-card"),s.TgZ(2,"mat-card-content"),s.TgZ(3,"div"),s.TgZ(4,"form",1),s.TgZ(5,"div",2),s.TgZ(6,"ng-select",3),s.NdJ("change",function(t){return e.stockByAgent(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"div",4),s.TgZ(8,"div",5),s.TgZ(9,"div",6),s.TgZ(10,"button",7),s.TgZ(11,"mat-icon"),s._uU(12,"print"),s.qZA(),s.qZA(),s.TgZ(13,"button",8),s.NdJ("click",function(){return e.commonService.exportToExcel("printable-stock-table","stock")}),s.TgZ(14,"mat-icon"),s._uU(15,"cloud_download"),s.qZA(),s.qZA(),s.TgZ(16,"button",8),s.NdJ("click",function(){return e.commonService.arrayToExcel(e.agentList,"stock.xlsx")}),s._uU(17,"Save Agents to Excel"),s.qZA(),s.qZA(),s.YNc(18,x,33,7,"div",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(19,m,12,3,"div",10)),2&t&&(s.xp6(4),s.Q6J("formGroup",e.agentStockForm),s.xp6(2),s.Q6J("items",e.agentList),s.xp6(4),s.Q6J("useExistingCss",!0),s.xp6(8),s.Q6J("ngIf",e.stoockListByAgent),s.xp6(1),s.Q6J("ngIf",!e.isProduction))},directives:[Z.a8,Z.dn,u._Y,u.JL,u.sg,p.yH,f.w9,u.JJ,u.u,p.xw,A.lW,v.I,h.Hw,r.O5,r.sg,p.SQ,p.Wh],pipes:[r.JJ,r.uU,r.Ts],styles:["#agent-wise-stock-div[_ngcontent-%COMP%]{min-height:100vh;width:100vw;padding-left:35px;padding-right:65px;font-size:xx-small}#developer-div[_ngcontent-%COMP%]{padding-left:35px;padding-right:65px}"]}),T)}],b=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(y)],a.Bz]}),e}(),k=o(49983),_=o(39577),L=o(80291),S=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.ez,b,Z.QW,f.A0,p.ae,h.Ps,u.u5,u.UX,k.c,A.ot,_.uH,L.pm,v.K]]}),e}()}}])}();