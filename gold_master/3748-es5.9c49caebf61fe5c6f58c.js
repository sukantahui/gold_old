!function(){"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(i=a.key,o=void 0,"symbol"==typeof(o=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(i,"string"))?o:String(o)),a)}var i,o}function t(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[3748],{73748:function(n,a,i){i.r(a),i.d(a,{PanCreationModule:function(){return U}});var o=i(38583),r=i(63423),l=i(92340),u=i(3679),c=i(88259),s=i.n(c),p=i(37716),g=i(91841),v=i(57916),d=i(86640),Z=i(98295),m=i(49983),f=i(51095),h=i(42542),b=i(65939),A=i(33839);function q(e,n){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td",26),p._uU(4),p.ALo(5,"number"),p.qZA(),p.qZA()),2&e){var t=n.$implicit;p.xp6(2),p.Oqu(t.rawMaterialName),p.xp6(2),p.Oqu(p.xi3(5,2,t.closingBalance,"1.3"))}}function T(e,n){if(1&e&&(p.TgZ(0,"div",21),p.TgZ(1,"h3"),p._uU(2,"Material balance before conversion"),p.qZA(),p.TgZ(3,"table",22),p.TgZ(4,"thead"),p.TgZ(5,"tr"),p.TgZ(6,"th",23),p._uU(7,"Material Name"),p.qZA(),p.TgZ(8,"th",24),p._uU(9,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"tbody"),p.YNc(11,q,6,5,"tr",25),p.qZA(),p.qZA(),p.qZA()),2&e){var t=p.oxw();p.xp6(11),p.Q6J("ngForOf",t.managerMaterialBalance)}}function C(e,n){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td",26),p._uU(4),p.ALo(5,"number"),p.qZA(),p.qZA()),2&e){var t=n.$implicit;p.xp6(2),p.Oqu(t.rawMaterialName),p.xp6(2),p.Oqu(p.xi3(5,2,t.closingBalance,"1.3"))}}function _(e,n){if(1&e&&(p.TgZ(0,"div",21),p.TgZ(1,"h3"),p._uU(2,"Material balance after conversion"),p.qZA(),p.TgZ(3,"table",27),p.TgZ(4,"thead"),p.TgZ(5,"tr"),p.TgZ(6,"th",28),p._uU(7,"Material Name"),p.qZA(),p.TgZ(8,"th",23),p._uU(9,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"tbody"),p.YNc(11,C,6,5,"tr",25),p.qZA(),p.qZA(),p.qZA()),2&e){var t=p.oxw();p.xp6(11),p.Q6J("ngForOf",t.materialBalanceUpdated)}}function x(e,n){if(1&e){var t=p.EpF();p.TgZ(0,"mat-button-toggle-group",29),p.TgZ(1,"mat-button-toggle",30),p.NdJ("click",function(){return p.CHM(t),p.oxw().showDeveloperDiv=!0}),p._uU(2,"Show"),p.qZA(),p.TgZ(3,"mat-button-toggle",30),p.NdJ("click",function(){return p.CHM(t),p.oxw().showDeveloperDiv=!1}),p._uU(4,"Hide"),p.qZA(),p.qZA()}}function y(e,n){if(1&e&&(p.TgZ(0,"div",31),p.TgZ(1,"div",32),p.TgZ(2,"h2"),p._uU(3,"Developer Area"),p.qZA(),p.TgZ(4,"mat-tab-group",33),p.TgZ(5,"mat-tab",34),p.TgZ(6,"pre"),p._uU(7),p.ALo(8,"json"),p.qZA(),p.qZA(),p.TgZ(9,"mat-tab",35),p.TgZ(10,"pre"),p._uU(11),p.ALo(12,"json"),p.qZA(),p.qZA(),p.TgZ(13,"mat-tab",36),p.TgZ(14,"pre"),p._uU(15,"\n                "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var t=p.oxw();p.xp6(7),p.hij("                    materialBalance = ",p.lcZ(8,2,t.managerMaterialBalance),"\n                "),p.xp6(4),p.hij("                    panConversionForm = ",p.lcZ(12,4,t.panConversionForm.value),"\n                ")}}var k,w=[{path:"",component:(k=function(){function n(t,a,i){var o=this;e(this,n),this.route=t,this.http=a,this.managerService=i,this.isProduction=l.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(function(e){o.managerMaterialBalance=e.panCreationResolver.managerMaterialBalance.data,o.user=e.panCreationResolver.user,o.karigars=e.panCreationResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(function(e){o.projectDetails=e,o.panCreationRation=o.projectDetails.panCreationRation,console.log(o.projectDetails.panCreationRation)}),this.panConversionForm=new u.cw({karigar_id:new u.NI(76,[u.kI.required]),ninety_two_gini_value:new u.NI(0,[u.kI.required,u.kI.min(.001)]),zinc_value:new u.NI(0,[u.kI.required,u.kI.min(.001)]),dal_value:new u.NI(0,[u.kI.required,u.kI.min(.001)]),pan_value:new u.NI(0,[u.kI.required,u.kI.min(.001)])})}return t(n,[{key:"ngOnInit",value:function(){var e=this;this.panConversionForm.valueChanges.subscribe(function(n){e.giniPlusDal=(+n.ninety_two_gini_value||0)+(+n.dal_value||0)})}},{key:"onGiniChange",value:function(e){var n=+e.value||0,t=n*this.panCreationRation.dalToGini;this.panConversionForm.patchValue({dal_value:t.toFixed(3)});var a=(n+t)*this.panCreationRation.zincToDalAndGini;this.panConversionForm.patchValue({zinc_value:a.toFixed(3)}),this.panConversionForm.patchValue({pan_value:(n+t+a).toFixed(3)})}},{key:"onDalChange",value:function(e){var n,t=Number(null===(n=this.panConversionForm.get("ninety_two_gini_value"))||void 0===n?void 0:n.value)||0,a=+e.value||0,i=(t+a)*this.panCreationRation.zincToDalAndGini;this.panConversionForm.patchValue({zinc_value:i.toFixed(3)}),this.panConversionForm.patchValue({pan_value:(t+a+i).toFixed(3)})}},{key:"onZincChange",value:function(e){var n,t,a=Number(null===(n=this.panConversionForm.get("ninety_two_gini_value"))||void 0===n?void 0:n.value)||0,i=Number(null===(t=this.panConversionForm.get("dal_value"))||void 0===t?void 0:t.value)||0;this.panConversionForm.patchValue({pan_value:(a+i+(+e.value||0)).toFixed(3)})}},{key:"resetForm",value:function(){this.savedResponse&&(this.managerMaterialBalance=this.savedResponse.data.material_balance,this.savedResponse=null),this.panConversionForm.reset()}},{key:"savePanConversion",value:function(){var e=this;s().fire({title:"Pan Creation",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(n){!n.value||e.managerService.savePanCreation(e.panConversionForm.value).subscribe(function(n){!0===n.status&&(s().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.savedResponse=n,e.materialBalanceUpdated=n.data.material_balance,e.panConversionForm.markAsPristine())},function(e){s().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}]),n}(),k.\u0275fac=function(e){return new(e||k)(p.Y36(r.gz),p.Y36(g.eN),p.Y36(v.b))},k.\u0275cmp=p.Xpm({type:k,selectors:[["app-pan-creation"]],decls:47,vars:11,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","ninety_two_gini_value","placeholder","Gini",1,"text-right",3,"keyup"],["giniValue",""],["type","number","matInput","","formControlName","dal_value","placeholder","dal",1,"text-right",3,"keyup"],["dalValue",""],["type","number","matInput","","formControlName","zinc_value","placeholder","Zinc",1,"text-right",3,"keyup"],["zincValue",""],["type","number","matInput","","formControlName","pan_value","placeholder","Dal",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-dark","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col",2,"border-radius","20px"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,n){if(1&e){var t=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"PAN Conversion"),p.qZA(),p.TgZ(4,"form",2),p._UZ(5,"ng-select",3),p.TgZ(6,"div"),p.TgZ(7,"mat-form-field",4),p.TgZ(8,"mat-label"),p._uU(9,"Enter 92 Gini"),p.qZA(),p.TgZ(10,"input",5,6),p.NdJ("keyup",function(){p.CHM(t);var e=p.MAs(11);return n.onGiniChange(e)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"div"),p.TgZ(13,"mat-form-field",4),p.TgZ(14,"mat-label"),p._uU(15,"Enter Dal"),p.qZA(),p.TgZ(16,"input",7,8),p.NdJ("keyup",function(){p.CHM(t);var e=p.MAs(17);return n.onDalChange(e)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(18,"div"),p._uU(19),p.ALo(20,"noCommaNumber"),p.qZA(),p._UZ(21,"hr"),p.TgZ(22,"div"),p.TgZ(23,"mat-form-field",4),p.TgZ(24,"mat-label"),p._uU(25,"Zinc Value"),p.qZA(),p.TgZ(26,"input",9,10),p.NdJ("keyup",function(){p.CHM(t);var e=p.MAs(27);return n.onZincChange(e)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(28,"div"),p.TgZ(29,"mat-form-field",4),p.TgZ(30,"mat-label"),p._uU(31,"Pan Valuation"),p.qZA(),p._UZ(32,"input",11),p.qZA(),p.qZA(),p.TgZ(33,"div",12),p.TgZ(34,"div",13),p.TgZ(35,"div",14),p.TgZ(36,"button",15),p.NdJ("click",function(){return n.resetForm()}),p._uU(37,"Reset"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(38,"div",13),p.TgZ(39,"div",14),p.TgZ(40,"button",16),p.NdJ("click",function(){return n.savePanConversion()}),p._uU(41,"Save Record"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(42,"div",17),p.YNc(43,T,12,1,"div",18),p.YNc(44,_,12,1,"div",18),p.qZA(),p.qZA(),p.YNc(45,x,5,0,"mat-button-toggle-group",19),p.YNc(46,y,16,6,"div",20)}2&e&&(p.xp6(4),p.Q6J("formGroup",n.panConversionForm),p.xp6(1),p.Q6J("items",n.karigars),p.xp6(14),p.hij("Gini + dal = ",p.xi3(20,8,n.giniPlusDal,3),""),p.xp6(21),p.Q6J("disabled",!n.panConversionForm.valid||n.panConversionForm.pristine),p.xp6(3),p.Q6J("ngIf",n.managerMaterialBalance),p.xp6(1),p.Q6J("ngIf",n.savedResponse),p.xp6(1),p.Q6J("ngIf",!n.isProduction),p.xp6(1),p.Q6J("ngIf",n.showDeveloperDiv&&!n.isProduction))},directives:[u._Y,u.JL,u.sg,d.w9,u.JJ,u.u,Z.KE,Z.hX,u.wV,m.Nt,u.Fj,f.lW,o.O5,o.sg,h.A9,h.Yi,b.SP,b.uX],pipes:[A.S,o.JJ,o.Ts],styles:[""]}),k)}],N=function(){var n=t(function n(){e(this,n)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[r.Bz.forChild(w)],r.Bz]}),n}(),F=i(8515),U=function(){var n=t(function n(){e(this,n)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[o.ez,N,b.Nh,Z.lN,u.UX,m.c,h.vV,b.Nh,d.A0,f.ot,F.DalCreationModule]]}),n}()}}])}();