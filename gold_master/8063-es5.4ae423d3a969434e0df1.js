!function(){"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(r=a.key,o=void 0,"symbol"==typeof(o=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(r,"string"))?o:String(o)),a)}var r,o}function t(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8063],{8063:function(n,a,r){r.r(a),r.d(a,{MaterialToManagerModule:function(){return S}});var o=r(38583),i=r(63423),l=r(92340),u=r(88259),c=r.n(u),g=r(3679),s=r(37716),m=r(91841),Z=r(57916),d=r(86640),f=r(98295),p=r(49983),v=r(51095),h=r(42542),T=r(65939);function b(e,n){1&e&&(s.TgZ(0,"span"),s._uU(1,"\u09aa\u09b0\u09bf\u09ac\u09b0\u09cd\u09a4\u09a8\u09c7\u09b0 \u09aa\u09b0\u09c7"),s.qZA())}function A(e,n){1&e&&(s.TgZ(0,"span"),s._uU(1,"\u27a1"),s.qZA())}function q(e,n){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s.YNc(2,A,2,0,"span",19),s._uU(3),s.qZA(),s.TgZ(4,"td",22),s._uU(5),s.ALo(6,"number"),s.qZA(),s.qZA()),2&e){var t,a,r=n.$implicit,o=s.oxw(2);s.ekj("highlight",r.rmId===(null==(t=o.ownerToMangerForm.get("rm_id"))?null:t.value)),s.xp6(2),s.Q6J("ngIf",r.rmId===(null==(a=o.ownerToMangerForm.get("rm_id"))?null:a.value)),s.xp6(1),s.hij(" ",r.rawMaterialName," "),s.xp6(2),s.Oqu(s.xi3(6,5,r.closingBalance,"1.3-3"))}}function w(e,n){if(1&e&&(s.TgZ(0,"div",16),s.TgZ(1,"table",17),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th",18),s._uU(5,"Manager Balance "),s.YNc(6,b,2,0,"span",19),s.qZA(),s.qZA(),s.TgZ(7,"tr"),s.TgZ(8,"th",20),s._uU(9,"Material Name"),s.qZA(),s.TgZ(10,"th",20),s._uU(11,"Value"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"tbody"),s.YNc(13,q,7,8,"tr",21),s.qZA(),s.qZA(),s.qZA()),2&e){var t=s.oxw();s.xp6(6),s.Q6J("ngIf",t.savedResponse),s.xp6(7),s.Q6J("ngForOf",t.managerMaterialBalanceUpdated)}}function x(e,n){1&e&&(s.TgZ(0,"span"),s._uU(1,"\u098f\u0996\u09a8\u0995\u09be\u09b0"),s.qZA())}function M(e,n){1&e&&(s.TgZ(0,"span"),s._uU(1,"\u0986\u0997\u09c7\u09b0"),s.qZA())}function _(e,n){1&e&&(s.TgZ(0,"span"),s._uU(1,"\u27a1"),s.qZA())}function U(e,n){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s.YNc(2,_,2,0,"span",19),s._uU(3),s.qZA(),s.TgZ(4,"td",22),s._uU(5),s.ALo(6,"number"),s.qZA(),s.qZA()),2&e){var t,a,r=s.oxw().$implicit,o=s.oxw(2);s.ekj("highlight",r.rmId===(null==(t=o.ownerToMangerForm.get("rm_id"))?null:t.value)),s.xp6(2),s.Q6J("ngIf",r.rmId===(null==(a=o.ownerToMangerForm.get("rm_id"))?null:a.value)),s.xp6(1),s.hij(" ",r.rawMaterialName," "),s.xp6(2),s.Oqu(s.xi3(6,5,r.closingBalance,"1.3-3"))}}function y(e,n){if(1&e&&(s.ynx(0),s.YNc(1,U,7,8,"tr",25),s.BQk()),2&e){var t,a=n.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("ngIf",0!==a.closingBalance||a.rmId===(null==(t=r.ownerToMangerForm.get("rm_id"))?null:t.value))}}function N(e,n){if(1&e&&(s.TgZ(0,"div",16),s.TgZ(1,"table",23),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th",18),s._uU(5,"Manager Balance "),s.YNc(6,x,2,0,"span",19),s.YNc(7,M,2,0,"span",19),s.qZA(),s.qZA(),s.TgZ(8,"tr"),s.TgZ(9,"th",20),s._uU(10,"Material Name"),s.qZA(),s.TgZ(11,"th",20),s._uU(12,"Value"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"tbody"),s.YNc(14,y,2,1,"ng-container",24),s.qZA(),s.qZA(),s.qZA()),2&e){var t=s.oxw();s.xp6(6),s.Q6J("ngIf",!t.savedResponse),s.xp6(1),s.Q6J("ngIf",t.savedResponse),s.xp6(7),s.Q6J("ngForOf",t.managerMaterialBalance)}}function F(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"mat-button-toggle-group",26),s.TgZ(1,"mat-button-toggle",27),s.NdJ("click",function(){return s.CHM(t),s.oxw().showDeveloperDiv=!0}),s._uU(2,"Show"),s.qZA(),s.TgZ(3,"mat-button-toggle",27),s.NdJ("click",function(){return s.CHM(t),s.oxw().showDeveloperDiv=!1}),s._uU(4,"Hide"),s.qZA(),s.qZA()}}function I(e,n){if(1&e&&(s.TgZ(0,"div",28),s.TgZ(1,"div",29),s.TgZ(2,"h2"),s._uU(3,"Developer Area"),s.qZA(),s.TgZ(4,"mat-tab-group",30),s.TgZ(5,"mat-tab",31),s.TgZ(6,"pre"),s._uU(7),s.ALo(8,"json"),s.qZA(),s.qZA(),s.TgZ(9,"mat-tab",32),s.TgZ(10,"pre"),s._uU(11),s.ALo(12,"json"),s.qZA(),s.qZA(),s.TgZ(13,"mat-tab",33),s.TgZ(14,"pre"),s._uU(15,"\n                "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){var t=s.oxw();s.xp6(7),s.hij("                    updatedMaterialBalance = ",s.lcZ(8,2,t.managerMaterialBalance),"\n                "),s.xp6(4),s.hij("                    ownerToMangerForm=",s.lcZ(12,4,t.ownerToMangerForm.value),"\n                ")}}var B,k=[{path:"",component:(B=function(){function n(t,a,r){var o=this;e(this,n),this.route=t,this.http=a,this.managerService=r,this.isProduction=l.N.production,this.showDeveloperDiv=!0,this.route.data.subscribe(function(e){o.materials=e.materialResolver.rawMaterials.data,o.managerMaterialBalance=e.materialResolver.managerMaterialBalance.data}),this.ownerToMangerForm=new g.cw({rm_id:new g.NI(null,[g.kI.required]),value:new g.NI({value:0,disabled:!1},[g.kI.required,g.kI.min(.001)])})}return t(n,[{key:"ngOnInit",value:function(){}},{key:"resetForm",value:function(){this.ownerToMangerForm.reset({rm_id:null,value:{value:0,disabled:!1}}),this.ownerToMangerForm.enable(),this.managerMaterialBalance=this.managerMaterialBalanceUpdated,this.savedResponse=null}},{key:"saveTransfer",value:function(){var e=this;c().fire({title:"From owner to Manager",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Transfer",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(n){!n.value||e.managerService.saveMaterialFromOwnerToManager(e.ownerToMangerForm.value).subscribe(function(n){!0===n.status&&(c().fire({timer:2e3,title:"Saved",text:"Transferred successfully to Manager",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.savedResponse=n,e.managerMaterialBalanceUpdated=n.data.manager_all_material_balance,e.ownerToMangerForm.disable())},function(e){c().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}]),n}(),B.\u0275fac=function(e){return new(e||B)(s.Y36(i.gz),s.Y36(m.eN),s.Y36(Z.b))},B.\u0275cmp=s.Xpm({type:B,selectors:[["app-material-to-manager"]],decls:29,vars:7,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],[1,"example-full-width"],["type","number","min","0.001","step","1.000","matInput","","formControlName","value","placeholder","Material",1,"text-right"],["silverValue",""],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["colspan","2"],[4,"ngIf"],["scope","col"],[3,"highlight",4,"ngFor","ngForOf"],[1,"text-right"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],[4,"ngFor","ngForOf"],[3,"highlight",4,"ngIf"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h2"),s._uU(3,"Sending from Owner to Manager"),s.qZA(),s.TgZ(4,"h5"),s._uU(5,"\u09b6\u09c1\u09a7\u09c1\u09ae\u09be\u09a4\u09cd\u09b0 \u09ae\u09be\u09b2\u09bf\u0995 \u09ae\u09cd\u09af\u09be\u09a8\u09c7\u099c\u09be\u09b0\u0995\u09c7 \u09af\u09c7 \u0995\u09cb\u09a8 \u09ae\u09c7\u099f\u09be\u09b2 \u09a6\u09c7\u0993\u09df\u09be\u09b0 \u099c\u09be\u09df\u0997\u09be"),s.qZA(),s._UZ(6,"hr"),s.TgZ(7,"form",2),s._UZ(8,"ng-select",3),s.TgZ(9,"div"),s.TgZ(10,"mat-form-field",4),s.TgZ(11,"mat-label"),s._uU(12,"Enter Quantity"),s.qZA(),s._UZ(13,"input",5,6),s.qZA(),s.qZA(),s.TgZ(15,"div",7),s.TgZ(16,"div",8),s.TgZ(17,"div",9),s.TgZ(18,"button",10),s.NdJ("click",function(){return n.resetForm()}),s._uU(19,"Reset"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",8),s.TgZ(21,"div",9),s.TgZ(22,"button",11),s.NdJ("click",function(){return n.saveTransfer()}),s._uU(23,"Save Record"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"div",12),s.YNc(25,w,14,2,"div",13),s.YNc(26,N,15,3,"div",13),s.qZA(),s.qZA(),s.YNc(27,F,5,0,"mat-button-toggle-group",14),s.YNc(28,I,16,6,"div",15)),2&e&&(s.xp6(7),s.Q6J("formGroup",n.ownerToMangerForm),s.xp6(1),s.Q6J("items",n.materials),s.xp6(14),s.Q6J("disabled",!n.ownerToMangerForm.valid||n.ownerToMangerForm.pristine),s.xp6(3),s.Q6J("ngIf",n.savedResponse),s.xp6(1),s.Q6J("ngIf",n.managerMaterialBalance),s.xp6(1),s.Q6J("ngIf",!n.isProduction),s.xp6(1),s.Q6J("ngIf",n.showDeveloperDiv&&!n.isProduction))},directives:[g._Y,g.JL,g.sg,d.w9,g.JJ,g.u,f.KE,f.hX,g.qQ,g.wV,p.Nt,g.Fj,v.lW,o.O5,o.sg,h.A9,h.Yi,T.SP,T.uX],pipes:[o.JJ,o.Ts],styles:[".highlight[_ngcontent-%COMP%]{background-color:#e4e5d7!important}.highlight[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#cf0f2a!important}"]}),B)}],J=function(){var n=t(function n(){e(this,n)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[i.Bz.forChild(k)],i.Bz]}),n}(),S=function(){var n=t(function n(){e(this,n)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[o.ez,J,T.Nh,h.vV,g.UX,d.A0,f.lN,p.c,v.ot]]}),n}()}}])}();