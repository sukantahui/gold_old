!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?r:String(r)),o)}var i,r}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8408],{58408:function(e,o,i){i.r(o),i.d(o,{PrintJobForWonerModule:function(){return j}});var r=i(38583),u=i(63423),a=i(92340),l=i(3679),Z=i(37716),g=i(82820),s=i(5620),d=i(91841),c=i(95913),p=i(76627);function b(t,e){if(1&t&&(Z.TgZ(0,"div",13),Z.TgZ(1,"h5"),Z._uU(2,"Job Details"),Z.qZA(),Z.TgZ(3,"pre"),Z._uU(4),Z.ALo(5,"json"),Z.qZA(),Z.qZA()),2&t){var n=Z.oxw();Z.xp6(4),Z.Oqu(Z.lcZ(5,1,n.jobData))}}function q(t,e){if(1&t&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td",21),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.qZA()),2&t){var n=e.$implicit;Z.xp6(2),Z.Oqu(n.transaction_text),Z.xp6(2),Z.Oqu(n.comment),Z.xp6(2),Z.Oqu(n.gold_value),Z.xp6(2),Z.Oqu(n.timestamp)}}function A(t,e){if(1&t&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td",21),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.qZA()),2&t){var n=e.$implicit;Z.xp6(2),Z.Oqu(n.transaction_text),Z.xp6(2),Z.Oqu(n.comment),Z.xp6(2),Z.Oqu(n.gold_value),Z.xp6(2),Z.Oqu(n.timestamp)}}function T(t,e){if(1&t&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td",21),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.qZA()),2&t){var n=e.$implicit;Z.xp6(2),Z.Oqu(n.transaction_text),Z.xp6(2),Z.Oqu(n.comment),Z.xp6(2),Z.Oqu(n.gold_value),Z.xp6(2),Z.Oqu(n.timestamp)}}function m(t,e){if(1&t&&(Z.TgZ(0,"div",14),Z.TgZ(1,"h2"),Z._uU(2),Z.qZA(),Z.TgZ(3,"h3"),Z._uU(4),Z.qZA(),Z.TgZ(5,"table",15),Z.TgZ(6,"thead"),Z.TgZ(7,"tr"),Z.TgZ(8,"th"),Z._uU(9,"Transaction"),Z.qZA(),Z.TgZ(10,"th"),Z._uU(11,"Comment"),Z.qZA(),Z.TgZ(12,"th"),Z._uU(13,"Value (gms)"),Z.qZA(),Z.TgZ(14,"th"),Z._uU(15,"Timestamp"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(16,"tbody"),Z.YNc(17,q,9,4,"tr",16),Z.TgZ(18,"tr",17),Z.TgZ(19,"td",18),Z._uU(20,"Gold Used"),Z.qZA(),Z.TgZ(21,"td",19),Z._uU(22),Z.ALo(23,"number"),Z.qZA(),Z.qZA(),Z.YNc(24,A,9,4,"tr",16),Z.TgZ(25,"tr",17),Z.TgZ(26,"td",18),Z._uU(27,"Pan Used"),Z.qZA(),Z.TgZ(28,"td",19),Z._uU(29),Z.ALo(30,"number"),Z.qZA(),Z.qZA(),Z.YNc(31,T,9,4,"tr",16),Z.TgZ(32,"tr",17),Z.TgZ(33,"td",20),Z._uU(34,"Nitric Used"),Z.qZA(),Z.TgZ(35,"td",19),Z._uU(36),Z.ALo(37,"number"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(38,"h3"),Z._uU(39,"Final Calculation"),Z.qZA(),Z.TgZ(40,"table",15),Z.TgZ(41,"thead"),Z.TgZ(42,"tr"),Z.TgZ(43,"td"),Z._uU(44,"Sl"),Z.qZA(),Z.TgZ(45,"td"),Z._uU(46,"Subject"),Z.qZA(),Z.TgZ(47,"td"),Z._uU(48,"Value"),Z.qZA(),Z.TgZ(49,"td"),Z._uU(50,"Job%"),Z.qZA(),Z.TgZ(51,"td"),Z._uU(52,"Bill%"),Z.qZA(),Z.TgZ(53,"td"),Z._uU(54,"Bill Value"),Z.qZA(),Z.TgZ(55,"td"),Z._uU(56,"Fine 92%"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(57,"tbody"),Z.TgZ(58,"tr"),Z.TgZ(59,"th"),Z._uU(60,"1"),Z.qZA(),Z.TgZ(61,"td"),Z._uU(62,"Gold Used"),Z.qZA(),Z.TgZ(63,"td"),Z._uU(64),Z.ALo(65,"number"),Z.qZA(),Z.TgZ(66,"td"),Z._uU(67,"100%"),Z.qZA(),Z.TgZ(68,"td"),Z._uU(69,"100%"),Z.qZA(),Z.TgZ(70,"td"),Z._uU(71),Z.ALo(72,"number"),Z.qZA(),Z.TgZ(73,"td",21),Z._uU(74),Z.ALo(75,"number"),Z.qZA(),Z.qZA(),Z.TgZ(76,"tr"),Z.TgZ(77,"th"),Z._uU(78,"2"),Z.qZA(),Z.TgZ(79,"td"),Z._uU(80,"Pan Used"),Z.qZA(),Z.TgZ(81,"td"),Z._uU(82),Z.ALo(83,"number"),Z.qZA(),Z.TgZ(84,"td"),Z._uU(85,"100%"),Z.qZA(),Z.TgZ(86,"td"),Z._uU(87,"40%"),Z.qZA(),Z.TgZ(88,"td"),Z._uU(89),Z.ALo(90,"number"),Z.qZA(),Z.TgZ(91,"td",21),Z._uU(92),Z.ALo(93,"number"),Z.qZA(),Z.qZA(),Z.TgZ(94,"tr"),Z.TgZ(95,"th"),Z._uU(96,"3"),Z.qZA(),Z.TgZ(97,"td"),Z._uU(98,"Nitric Used"),Z.qZA(),Z.TgZ(99,"td"),Z._uU(100),Z.ALo(101,"number"),Z.qZA(),Z.TgZ(102,"td"),Z._uU(103,"93%"),Z.qZA(),Z.TgZ(104,"td"),Z._uU(105,"100%"),Z.qZA(),Z.TgZ(106,"td"),Z._uU(107),Z.ALo(108,"number"),Z.qZA(),Z.TgZ(109,"td",21),Z._uU(110),Z.ALo(111,"number"),Z.qZA(),Z.qZA(),Z.TgZ(112,"tr"),Z.TgZ(113,"th"),Z._uU(114,"4"),Z.qZA(),Z.TgZ(115,"td"),Z._uU(116,"P Loss"),Z.qZA(),Z.TgZ(117,"td",22),Z._uU(118),Z.ALo(119,"number"),Z.qZA(),Z.TgZ(120,"td"),Z._uU(121),Z.ALo(122,"number"),Z.qZA(),Z.TgZ(123,"td",21),Z._uU(124),Z.ALo(125,"number"),Z.qZA(),Z.qZA(),Z.TgZ(126,"tr"),Z.TgZ(127,"th"),Z._uU(128,"5"),Z.qZA(),Z.TgZ(129,"td"),Z._uU(130,"MV"),Z.qZA(),Z.TgZ(131,"td",22),Z._uU(132),Z.ALo(133,"number"),Z.qZA(),Z.TgZ(134,"td"),Z._uU(135),Z.ALo(136,"number"),Z.qZA(),Z.TgZ(137,"td",21),Z._uU(138),Z.ALo(139,"number"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(140,"tfoot"),Z.TgZ(141,"tr",17),Z.TgZ(142,"th",23),Z._uU(143,"Final Bill Calculated"),Z.qZA(),Z.TgZ(144,"th"),Z._uU(145),Z.ALo(146,"number"),Z.qZA(),Z.TgZ(147,"th",21),Z._uU(148),Z.ALo(149,"number"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&t){var n=Z.oxw();Z.xp6(2),Z.hij("JOB Details for ID: ",n.jobDetails.job.job_id,""),Z.xp6(2),Z.hij("Bill No . ",n.jobDetails.bill_no,""),Z.xp6(13),Z.Q6J("ngForOf",n.jobDetails.gold),Z.xp6(5),Z.hij(" ",Z.xi3(23,27,n.totalGoldUse,"1.3-3"),""),Z.xp6(2),Z.Q6J("ngForOf",n.jobDetails.pan),Z.xp6(5),Z.hij(" ",Z.xi3(30,30,n.totalPanUse,"1.3-3"),""),Z.xp6(2),Z.Q6J("ngForOf",n.jobDetails.nitric),Z.xp6(5),Z.hij(" ",Z.xi3(37,33,n.totalNitricUse,"1.3-3"),""),Z.xp6(28),Z.Oqu(Z.xi3(65,36,n.totalGoldUse,"1.3-3")),Z.xp6(7),Z.Oqu(Z.xi3(72,39,n.totalGoldUse,"1.3-3")),Z.xp6(3),Z.Oqu(Z.xi3(75,42,.92*n.totalGoldUse,"1.3-3")),Z.xp6(8),Z.Oqu(Z.xi3(83,45,n.totalPanUse,"1.3-3")),Z.xp6(7),Z.Oqu(Z.xi3(90,48,n.totalPanUse*n.jobDetails.rm_bangle_pan.bill_percentage,"1.3-3")),Z.xp6(3),Z.Oqu(Z.xi3(93,51,n.totalPanUse*n.jobDetails.rm_bangle_pan.bill_percentage*.92,"1.3-3")),Z.xp6(8),Z.Oqu(Z.xi3(101,54,n.totalNitricUse,"1.3-3")),Z.xp6(7),Z.Oqu(Z.xi3(108,57,n.totalNitricUse*n.jobDetails.rm_nitric.job_percentage,"1.3-3")),Z.xp6(3),Z.Oqu(Z.xi3(111,60,n.totalNitricUse*n.jobDetails.rm_nitric.job_percentage*.92,"1.3-3")),Z.xp6(8),Z.AsE("",Z.xi3(119,63,n.jobDetails.job.p_loss,"1.3-3")," X ",n.jobDetails.job.pieces," pcs "),Z.xp6(3),Z.Oqu(Z.xi3(122,66,n.totalPLoss,"1.3-3")),Z.xp6(3),Z.Oqu(Z.xi3(125,69,.92*n.totalPLoss,"1.3-3")),Z.xp6(8),Z.AsE("",Z.xi3(133,72,n.jobDetails.job.markup_value,"1.3-3")," X ",n.jobDetails.job.pieces," pcs "),Z.xp6(3),Z.Oqu(Z.xi3(136,75,n.totalMV,"1.3-3")),Z.xp6(3),Z.Oqu(Z.xi3(139,78,.92*n.totalMV,"1.3-3")),Z.xp6(7),Z.Oqu(Z.xi3(146,81,n.finalGini,"1.3-3")),Z.xp6(3),Z.Oqu(Z.xi3(149,84,.92*n.finalGini,"1.3-3"))}}function _(t,e){if(1&t&&(Z.TgZ(0,"div",24),Z.TgZ(1,"div",25),Z.TgZ(2,"div",26),Z.TgZ(3,"div",27),Z.TgZ(4,"div",28),Z.TgZ(5,"pre"),Z._uU(6),Z.ALo(7,"json"),Z.qZA(),Z.qZA(),Z.qZA(),Z._UZ(8,"div",29),Z.qZA(),Z.qZA(),Z.qZA()),2&t){var n=Z.oxw();Z.xp6(6),Z.hij("                        jobDetails=",Z.lcZ(7,1,n.jobDetails),"\n                    ")}}var x,f=[{path:"",component:(x=function(){function e(n,o,i,r){t(this,e),this.reportService=n,this.commonService=o,this.fb=i,this.http=r,this.isProduction=a.N.production,this.totalGoldUse=0,this.totalPanUse=0,this.totalNitricUse=0,this.totalPLoss=0,this.totalMV=0,this.finalGini=0,this.printDivStyle="\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 12px;\n  }\n  th, td {\n    padding: 8px;\n    border: 1px solid black;\n  }\n  th {\n    text-align: left;\n  }\n  .text-end, .text-right {\n    text-align: right !important;\n  }\n  .text-center {\n    text-align: center !important;\n  }\n  .fw-bold {\n    font-weight: bold !important;\n  }\n",this.searchForm=this.fb.group({jobNumber:["",l.kI.required]})}return n(e,[{key:"ngOnInit",value:function(){}},{key:"onSearch",value:function(){var t=this;this.reportService.getJobDetailsforOwner(this.searchForm.value.jobNumber).subscribe({next:function(e){t.jobDetails=e.data,t.totalGoldUse=t.jobDetails.gold.map(function(t){return t.gold_value}).reduce(function(t,e){return t+e},0),t.totalPanUse=t.jobDetails.pan.map(function(t){return t.gold_value}).reduce(function(t,e){return t+e},0),t.totalNitricUse=t.jobDetails.nitric.map(function(t){return t.gold_value}).reduce(function(t,e){return t+e},0),t.totalPLoss=t.jobDetails.job.p_loss*t.jobDetails.job.pieces,t.totalMV=t.jobDetails.job.markup_value*t.jobDetails.job.pieces,t.finalGini=t.totalGoldUse+t.totalPanUse*t.jobDetails.rm_bangle_pan.bill_percentage+.93*t.totalNitricUse+t.totalPLoss+t.totalMV},error:function(t){console.log(t),alert("Error: "+t.error.message)}})}}]),e}(),x.\u0275fac=function(t){return new(t||x)(Z.Y36(g.r),Z.Y36(s.v),Z.Y36(l.qu),Z.Y36(d.eN))},x.\u0275cmp=Z.Xpm({type:x,selectors:[["app-print-job-for-woner"]],decls:17,vars:6,consts:[[1,"d-flex","flex-row","mb-3","ms-4",2,"min-height","100vh","overflow","hidden"],["id","job-search",1,"ms-2",2,"width","16.66%"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","jobNumber",1,"form-label"],["id","jobNumber","type","text","formControlName","jobNumber","placeholder","e.g. J12345",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","mt-3",4,"ngIf"],[2,"width","83.33%"],[2,"text-align","center"],["mat-button","","color","primary","printSectionId","print-job-details","ngxPrint","",3,"printStyle"],["id","print-job-details",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"mt-3"],["id","print-job-details"],["border","1","cellpadding","8","cellspacing","0"],[4,"ngFor","ngForOf"],[2,"border-top","1px solid black","border-bottom","1px solid black"],["colspan","2",1,"text-center","fw-bold"],[1,"text-end","fw-bold"],["colspan","2",1,"text-end","fw-bold"],[1,"text-end"],["colspan","3"],["colspan","5"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],[1,"p-3"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(t,e){1&t&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"form",2),Z.NdJ("ngSubmit",function(){return e.onSearch()}),Z.TgZ(3,"div",3),Z.TgZ(4,"label",4),Z._uU(5,"Enter Job Number:"),Z.qZA(),Z._UZ(6,"input",5),Z.qZA(),Z.TgZ(7,"button",6),Z._uU(8," Search "),Z.qZA(),Z.qZA(),Z.YNc(9,b,6,3,"div",7),Z.qZA(),Z.TgZ(10,"div",8),Z.TgZ(11,"div",9),Z.TgZ(12,"button",10),Z.TgZ(13,"mat-icon"),Z._uU(14,"print"),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(15,m,150,87,"div",11),Z.qZA(),Z.qZA(),Z.YNc(16,_,9,3,"div",12)),2&t&&(Z.xp6(2),Z.Q6J("formGroup",e.searchForm),Z.xp6(5),Z.Q6J("disabled",e.searchForm.invalid),Z.xp6(2),Z.Q6J("ngIf",e.jobData),Z.xp6(3),Z.Q6J("printStyle",e.printDivStyle),Z.xp6(3),Z.Q6J("ngIf",e.jobDetails),Z.xp6(1),Z.Q6J("ngIf",!e.isProduction))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,r.O5,c.I,p.Hw,r.sg],pipes:[r.Ts,r.JJ],styles:["","table[_ngcontent-%COMP%] {\n                width: 100%;\n                border-collapse: collapse;\n                font-size: 12px;\n            }\n            th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n                padding: 8px;\n                border: 1px solid black;\n            }\n            th[_ngcontent-%COMP%] {\n                text-align: left;\n            }\n            .text-end[_ngcontent-%COMP%], .text-right[_ngcontent-%COMP%] {\n                text-align: right !important;\n            }\n            .text-center[_ngcontent-%COMP%] {\n                text-align: center !important;\n            }\n            .fw-bold[_ngcontent-%COMP%] {\n                font-weight: bold !important;\n            }"]}),x)}],U=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[u.Bz.forChild(f)],u.Bz]}),e}(),h=i(80291),j=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[r.ez,U,l.UX,h.pm,c.K,p.Ps]]}),e}()}}])}();