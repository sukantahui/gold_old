!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[886],{84886:function(o,a,r){r.r(a),r.d(a,{DateFormats:function(){return F},GRI_DATE_FORMATS:function(){return N},ProductSaleModule:function(){return J}});var n=r(16274),i=r(65543),l=r(24766),u=r(93324),s=r(42741),p=r(75563),c=r(56880),d=r(40688),Z=r(10823),g=r(19018),f=r(44113),m=r(33103),v=r(49296),q=r(41388);function A(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"div",28),s.TgZ(1,"span",29),s._UZ(2,"i",30),s.TgZ(3,"input",31),s.NdJ("input",function(e){return s.CHM(o),s.oxw(),s.MAs(2).filterGlobal(e.target.value,"contains")}),s.qZA(),s.qZA(),s.qZA()}}function h(e,t){1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2,"SL"),s.qZA(),s.TgZ(3,"th",32),s._uU(4,"Model "),s._UZ(5,"p-sortIcon",33),s.qZA(),s.TgZ(6,"th",34),s._uU(7,"Qty "),s._UZ(8,"p-sortIcon",35),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Action"),s.qZA(),s.qZA())}function T(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s.TgZ(8,"p-button",36),s.NdJ("click",function(){var e=s.CHM(o).$implicit;return s.oxw(2).showSaleReportByModel(e.model_no)}),s.qZA(),s.qZA(),s.qZA()}if(2&e){var a=t.$implicit,r=t.rowIndex;s.xp6(2),s.Oqu(r+1),s.xp6(2),s.Oqu(a.model_no),s.xp6(2),s.Oqu(a.sale_qty)}}var _=function(){return[10,25,50]},S=function(){return["model_no","sale_qty"]};function b(e,t){if(1&e&&(s.TgZ(0,"div",22),s.TgZ(1,"p-table",23,24),s.YNc(3,A,4,0,"ng-template",25),s.YNc(4,h,11,0,"ng-template",26),s.YNc(5,T,9,3,"ng-template",27),s.qZA(),s.qZA()),2&e){var o=s.oxw();s.xp6(1),s.Q6J("value",o.modelWiseSales)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",s.DdM(6,_))("paginator",!0)("globalFilterFields",s.DdM(7,S))}}function x(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"div",28),s.TgZ(1,"h4"),s._uU(2),s.qZA(),s.TgZ(3,"span",29),s._UZ(4,"i",30),s.TgZ(5,"input",31),s.NdJ("input",function(e){return s.CHM(o),s.oxw(),s.MAs(2).filterGlobal(e.target.value,"contains")}),s.qZA(),s.qZA(),s.qZA()}if(2&e){var a=s.oxw(2);s.xp6(2),s.hij("Selected Model: ",a.selectedModel,"")}}function w(e,t){1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2,"SL"),s.qZA(),s.TgZ(3,"th",39),s._uU(4,"Date "),s._UZ(5,"p-sortIcon",40),s.qZA(),s.TgZ(6,"th",41),s._uU(7,"Cust ID "),s._UZ(8,"p-sortIcon",42),s.qZA(),s.TgZ(9,"th",43),s._uU(10,"Customer "),s._UZ(11,"p-sortIcon",44),s.qZA(),s.TgZ(12,"th",45),s._uU(13,"Agent "),s._UZ(14,"p-sortIcon",46),s.qZA(),s.TgZ(15,"th",47),s._uU(16,"Bill No. "),s._UZ(17,"p-sortIcon",48),s.qZA(),s.TgZ(18,"th",34),s._uU(19,"Sale "),s._UZ(20,"p-sortIcon",35),s.qZA(),s.qZA())}function y(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.qZA()),2&e){var o=t.$implicit,a=t.rowIndex;s.xp6(2),s.Oqu(a+1),s.xp6(2),s.Oqu(o.bill_date),s.xp6(2),s.Oqu(o.cust_id),s.xp6(2),s.Oqu(o.cust_name),s.xp6(2),s.Oqu(o.agent),s.xp6(2),s.Oqu(o.bill_no),s.xp6(2),s.Oqu(o.sale_qty)}}var D=function(){return[20,30,50]},M=function(){return["cust_id","cust_name","agent","bill_date"]};function U(e,t){if(1&e&&(s.TgZ(0,"div",22),s.TgZ(1,"p-table",37,38),s.YNc(3,x,6,1,"ng-template",25),s.YNc(4,w,21,0,"ng-template",26),s.YNc(5,y,15,7,"ng-template",27),s.qZA(),s.qZA()),2&e){var o=s.oxw();s.xp6(1),s.Q6J("value",o.sales)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",s.DdM(7,D))("paginator",!0)("globalFilterFields",s.DdM(8,M))("responsive",!0)}}function I(e,t){if(1&e&&(s.TgZ(0,"div",49),s.TgZ(1,"div",50),s.TgZ(2,"div",51),s.TgZ(3,"div",52),s.TgZ(4,"pre"),s._uU(5),s.ALo(6,"json"),s.qZA(),s.qZA(),s.TgZ(7,"div",53),s.TgZ(8,"pre"),s._uU(9,"\n                    "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){var o=s.oxw();s.xp6(5),s.hij("                        sales=",s.lcZ(6,1,o.sales),"\n                    ")}}var L,Y=[{path:"",component:(L=function(){function o(t,a,r){e(this,o),this.reportService=t,this.commonService=a,this.adapter=r,this.isProduction=l.N.production,this.isLoading=!1,this.isLoadingSale=!1,this.sales=[],this.adapter.setLocale("in");var n=new Date,i=new Date;this.reportForm=new u.cw({startDate:new u.NI(n),startDateSql:new u.NI(null),endDate:new u.NI(i),endDateSql:new u.NI(null),reportLimit:new u.NI(50)})}var a,r,n;return a=o,(r=[{key:"ngOnInit",value:function(){}},{key:"loadSaleReport",value:function(e,t){var o=this;this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(e)}),this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(t)}),this.isLoading=!0,this.reportService.getModelWiseSaleReport(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,this.reportForm.value.reportLimit).subscribe(function(e){o.modelWiseSales=e.data,o.isLoading=!1})}},{key:"setStartDateSQL",value:function(e){this.reportForm.patchValue({startDateSql:this.commonService.getSQLDate2(e)})}},{key:"setEndDateSQL",value:function(e){this.reportForm.patchValue({endDateSql:this.commonService.getSQLDate2(e)})}},{key:"showSaleReportByModel",value:function(e){var t=this;this.selectedModel=e,this.reportService.getSaleByModel(this.reportForm.value.startDateSql,this.reportForm.value.endDateSql,e).subscribe(function(e){console.log(e.data),t.sales=e.data})}},{key:"onRowSelect",value:function(e){console.log("test")}}])&&t(a.prototype,r),n&&t(a,n),o}(),L.\u0275fac=function(e){return new(e||L)(s.Y36(p.r),s.Y36(c.v),s.Y36(d._A))},L.\u0275cmp=s.Xpm({type:L,selectors:[["app-product-sale"]],decls:35,vars:14,consts:[[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-10",2,"background-color","#e4e5d7","border-radius","10px","margin-bottom","5px"],[3,"formGroup"],[1,"form-row"],[1,"col"],["appearance","outline",1,"p-2"],["matInput","","formControlName","startDate",3,"matDatepicker","dateInput"],["ref1",""],["matSuffix","",3,"for"],["startView","year",3,"opened"],["matDatepicker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateInput"],["ref2",""],["matDatepicker2",""],["type","number","matInput","","name","value","placeholder","Limit","formControlName","reportLimit",1,"form-control"],["limit",""],["pButton","","type","button","label","Show Record","icon","pi pi-check",3,"loading","click"],[1,"table-div","col-6"],["class","p-2","style","border: 1px solid #454141; border-radius: 10px;",4,"ngIf"],[1,"col-6"],["id","developer-div",4,"ngIf"],[1,"p-2",2,"border","1px solid #454141","border-radius","10px"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","model_no"],["field","model_no"],["pSortableColumn","sale_qty"],["field","sale_qty"],["label","Show","icon","pi pi-search","styleClass","p-button-link",3,"click"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields","responsive"],["dt2",""],["pSortableColumn","bill_date"],["field","bill_date"],["pSortableColumn","cust_id"],["field","cust_id"],["pSortableColumn","cust_name"],["field","cust_name"],["pSortableColumn","agent"],["field","agent"],["pSortableColumn","bill_no"],["field","bill_no"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center",1,"col"],["fxFlex","2 1 auto","fxLayoutAlign","center center",1,"col"]],template:function(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"form",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"mat-form-field",6),s.TgZ(7,"mat-label"),s._uU(8,"Start Date"),s.qZA(),s.TgZ(9,"input",7,8),s.NdJ("dateInput",function(){s.CHM(o);var e=s.MAs(10);return t.setStartDateSQL(e.value)}),s.qZA(),s._UZ(11,"mat-datepicker-toggle",9),s._UZ(12,"mat-datepicker",10,11),s.qZA(),s.TgZ(14,"mat-form-field",6),s.TgZ(15,"mat-label"),s._uU(16,"End Date"),s.qZA(),s.TgZ(17,"input",12,13),s.NdJ("dateInput",function(){s.CHM(o);var e=s.MAs(18);return t.setEndDateSQL(e.value)}),s.qZA(),s._UZ(19,"mat-datepicker-toggle",9),s._UZ(20,"mat-datepicker",10,14),s.qZA(),s.qZA(),s.TgZ(22,"div",5),s.TgZ(23,"mat-form-field"),s._UZ(24,"input",15,16),s.qZA(),s.TgZ(26,"div"),s._uU(27),s.qZA(),s.TgZ(28,"button",17),s.NdJ("click",function(){s.CHM(o);var e=s.MAs(10),a=s.MAs(18);return t.loadSaleReport(e.value,a.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(29,"div",1),s.TgZ(30,"div",18),s.YNc(31,b,6,8,"div",19),s.qZA(),s.TgZ(32,"div",20),s.YNc(33,U,6,9,"div",19),s.qZA(),s.qZA(),s.qZA(),s.YNc(34,I,10,3,"div",21)}if(2&e){var a=s.MAs(10),r=s.MAs(13),n=s.MAs(18),i=s.MAs(21),l=s.MAs(25);s.xp6(3),s.Q6J("formGroup",t.reportForm),s.xp6(6),s.Q6J("matDatepicker",r),s.xp6(2),s.Q6J("for",r),s.xp6(1),s.Q6J("opened",!0),s.xp6(5),s.Q6J("matDatepicker",i),s.xp6(2),s.Q6J("for",i),s.xp6(1),s.Q6J("opened",!1),s.xp6(7),s.lnq("Show me first ",l.value," Model Sale from ",a.value," to ",n.value,""),s.xp6(1),s.Q6J("loading",t.isLoading),s.xp6(3),s.Q6J("ngIf",t.modelWiseSales),s.xp6(2),s.Q6J("ngIf",t.sales.length>0),s.xp6(1),s.Q6J("ngIf",!t.isProduction)}},directives:[u._Y,u.JL,u.sg,Z.KE,Z.hX,g.Nt,u.Fj,f.hl,u.JJ,u.u,f.nW,Z.R9,f.Mq,u.wV,m.Hq,n.O5,v.iA,q.jx,v.lQ,v.fz,m.zx],pipes:[n.Ts],styles:[""]}),L)}],C=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.Bz.forChild(Y)],i.Bz]}),t}(),k=r(80814),F={parse:{dateInput:["YYYY-MM-DD"]},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},N=Object.assign(Object.assign({},d.Dl),{display:Object.assign(Object.assign({},d.Dl.display),{dateInput:{year:"numeric",month:"short",day:"numeric"}})}),J=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[],imports:[[n.ez,C,f.FA,g.c,d.XK,u.UX,m.hJ,v.U$,k.L$]]}),t}()}}])}();