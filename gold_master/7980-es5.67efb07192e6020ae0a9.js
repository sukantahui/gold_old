!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[7980],{87980:function(t,n,o){o.r(n),o.d(n,{FineToNinetyTwoModule:function(){return _}});var i=o(38583),a=o(63423),u=o(92340),s=o(3679),c=o(88259),l=o.n(c),p=o(37716),v=o(91841),d=o(57916),g=o(86640),f=o(98295),m=o(49983),h=o(51095),Z=o(42542);function T(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Previous balance"),p.qZA())}function b(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Current balance"),p.qZA())}function A(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&e){var r=t.$implicit;p.xp6(2),p.Oqu(r.rawMaterialName),p.xp6(2),p.Oqu(r.closingBalance)}}function y(e,t){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Current balance"),p.qZA())}function q(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&e){var r=t.$implicit;p.xp6(2),p.Oqu(r.rawMaterialName),p.xp6(2),p.Oqu(r.closingBalance)}}function w(e,t){if(1&e&&(p.TgZ(0,"div",1),p.YNc(1,y,2,0,"h2",16),p.TgZ(2,"table",23),p.TgZ(3,"thead"),p.TgZ(4,"tr"),p.TgZ(5,"th",18),p._uU(6,"Material Name"),p.qZA(),p.TgZ(7,"th",18),p._uU(8,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"tbody",24),p.YNc(10,q,5,2,"tr",19),p.qZA(),p.qZA(),p.qZA()),2&e){var r=p.oxw();p.xp6(1),p.Q6J("ngIf",r.SavedResponse),p.xp6(9),p.Q6J("ngForOf",r.SavedResponse.data.material_balance)}}function C(e,t){if(1&e){var r=p.EpF();p.TgZ(0,"mat-button-toggle-group",25),p.TgZ(1,"mat-button-toggle",26),p.NdJ("click",function(){return p.CHM(r),p.oxw().showDeveloperDiv=!0}),p._uU(2,"Show"),p.qZA(),p.TgZ(3,"mat-button-toggle",26),p.NdJ("click",function(){return p.CHM(r),p.oxw().showDeveloperDiv=!1}),p._uU(4,"Hide"),p.qZA(),p.qZA()}}function x(e,t){if(1&e&&(p.TgZ(0,"div",27),p.TgZ(1,"div",0),p.TgZ(2,"div",28),p.TgZ(3,"pre"),p._uU(4),p.ALo(5,"json"),p.qZA(),p.qZA(),p.TgZ(6,"div",28),p.TgZ(7,"pre"),p._uU(8),p.ALo(9,"json"),p.qZA(),p.qZA(),p.TgZ(10,"div",28),p.TgZ(11,"pre"),p._uU(12),p.ALo(13,"json"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var r=p.oxw();p.xp6(4),p.hij("                goldConversionForm = ",p.lcZ(5,3,r.goldConversionForm.value),"\n            "),p.xp6(4),p.hij("                extraCopperValue= ",p.lcZ(9,5,r.extraCopperValue),"\n            "),p.xp6(4),p.hij("                SavedResponse= ",p.lcZ(13,7,r.SavedResponse),"\n            ")}}var k,N=[{path:"",component:(k=function(){function t(r,n,o){var i=this;e(this,t),this.route=r,this.http=n,this.managerService=o,this.isProduction=u.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(function(e){i.materialBalance=e.fineToNinetyTwoResolver.materialBalance.data,i.user=e.fineToNinetyTwoResolver.user.data,i.karigars=e.fineToNinetyTwoResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(function(e){i.projectDetails=e}),this.goldConversionForm=new s.cw({employee_id:new s.NI(this.user.emp_id,[s.kI.required]),karigar_id:new s.NI(null,[s.kI.required]),fine_gold_id:new s.NI(36,[s.kI.required]),copper_id:new s.NI(37,[s.kI.required]),gini_id:new s.NI(48,[s.kI.required]),fine_gold_value:new s.NI(0,[s.kI.required]),copper_value:new s.NI({value:0,disables:!1},[s.kI.required]),gini_value:new s.NI({value:0,disabled:!1},[s.kI.required,s.kI.min(.001)])})}return r(t,[{key:"ngOnInit",value:function(){}},{key:"onFineGoldChange",value:function(e,t){var r=this.projectDetails.fineToNinetyTwoRatio.fine,n=this.projectDetails.fineToNinetyTwoRatio.copper;this.extraCopperValue=.001*Number(e.value),this.expectedCopperValue=Number((e.value*(n/r)+this.extraCopperValue).toFixed(3)),this.goldConversionForm.patchValue({copper_value:this.expectedCopperValue.toFixed(3)}),this.expectedGiniValue=Number(e.value)+this.expectedCopperValue-this.extraCopperValue,this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue.toFixed(3)})}},{key:"onCopperChange",value:function(e,t){this.expectedGiniValue=Number((Number(e.value)+Number(t.value)).toFixed(3)),this.goldConversionForm.patchValue({gini_value:this.expectedGiniValue})}},{key:"resetForm",value:function(){this.SavedResponse&&(this.materialBalance=this.SavedResponse.data.material_balance,this.SavedResponse=null),this.goldConversionForm.reset()}},{key:"saveGoldConversion",value:function(){var e=this;l().fire({title:"Fine to 92 Conversion",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(t){t.value?e.managerService.saveFineToNinetyTwo(e.goldConversionForm.value).subscribe(function(t){!0===t.status&&(l().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.SavedResponse=t,e.goldConversionForm.reset())},function(e){console.log(e),l().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})}):t.dismiss===l().DismissReason.cancel&&l().fire("Cancelled")})}}]),t}(),k.\u0275fac=function(e){return new(e||k)(p.Y36(a.gz),p.Y36(v.eN),p.Y36(d.b))},k.\u0275cmp=p.Xpm({type:k,selectors:[["app-fine-to-ninety-two"]],decls:46,vars:9,consts:[[1,"d-flex","flex-row"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","fine_gold_value","placeholder","Fine Gold",1,"text-right",3,"keyup"],["fineGoldValue",""],["type","number","readonly","","matInput","","formControlName","copper_value","placeholder","Copper",1,"text-right",3,"keyup"],["copperValue",""],[1,"mt-3"],["type","number","readonly","","matInput","","formControlName","gini_value","placeholder","92 Gold",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[4,"ngIf"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-4",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"table","col-xl-12","col-lg-12","col-xs-12"],[2,"border","1px solid #10e523"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"p-2"]],template:function(e,t){if(1&e){var r=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"form",2),p._UZ(3,"ng-select",3),p.TgZ(4,"div"),p.TgZ(5,"mat-form-field",4),p.TgZ(6,"mat-label"),p._uU(7,"Enter Fine Gold"),p.qZA(),p.TgZ(8,"input",5,6),p.NdJ("keyup",function(){p.CHM(r);var e=p.MAs(9),n=p.MAs(15);return t.onFineGoldChange(e,n)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div"),p.TgZ(11,"mat-form-field",4),p.TgZ(12,"mat-label"),p._uU(13,"Enter Copper"),p.qZA(),p.TgZ(14,"input",7,8),p.NdJ("keyup",function(){p.CHM(r);var e=p.MAs(9),n=p.MAs(15);return t.onCopperChange(e,n)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div",9),p.TgZ(17,"mat-form-field",4),p.TgZ(18,"mat-label"),p._uU(19,"92 Gold Value"),p.qZA(),p._UZ(20,"input",10,8),p.qZA(),p.qZA(),p.TgZ(22,"div",11),p.TgZ(23,"div",12),p.TgZ(24,"div",13),p.TgZ(25,"button",14),p.NdJ("click",function(){return t.resetForm()}),p._uU(26,"Reset"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(27,"div",12),p.TgZ(28,"div",13),p.TgZ(29,"button",15),p.NdJ("click",function(){return t.saveGoldConversion()}),p._uU(30,"Save Record"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(31,"div",1),p.YNc(32,T,2,0,"h2",16),p.YNc(33,b,2,0,"h2",16),p.TgZ(34,"table",17),p.TgZ(35,"thead"),p.TgZ(36,"tr"),p.TgZ(37,"th",18),p._uU(38,"Material Name"),p.qZA(),p.TgZ(39,"th",18),p._uU(40,"Value"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"tbody"),p.YNc(42,A,5,2,"tr",19),p.qZA(),p.qZA(),p.qZA(),p.YNc(43,w,11,2,"div",20),p.qZA(),p.YNc(44,C,5,0,"mat-button-toggle-group",21),p.YNc(45,x,14,9,"div",22)}2&e&&(p.xp6(2),p.Q6J("formGroup",t.goldConversionForm),p.xp6(1),p.Q6J("items",t.karigars),p.xp6(26),p.Q6J("disabled",!t.goldConversionForm.valid||t.goldConversionForm.pristine),p.xp6(3),p.Q6J("ngIf",t.SavedResponse),p.xp6(1),p.Q6J("ngIf",!t.SavedResponse),p.xp6(9),p.Q6J("ngForOf",t.materialBalance),p.xp6(1),p.Q6J("ngIf",t.SavedResponse),p.xp6(1),p.Q6J("ngIf",!t.isProduction),p.xp6(1),p.Q6J("ngIf",!t.isProduction&&t.showDeveloperDiv))},directives:[s._Y,s.JL,s.sg,g.w9,s.JJ,s.u,f.KE,f.hX,s.wV,m.Nt,s.Fj,h.lW,i.O5,i.sg,Z.A9,Z.Yi],pipes:[i.Ts],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),k)}],S=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[a.Bz.forChild(N)],a.Bz]}),t}(),_=function(){var t=r(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.ez,S,g.A0,f.lN,m.c,s.UX,h.ot,Z.vV]]}),t}()},57916:function(t,n,o){o.d(n,{b:function(){return v}});var i,a=o(5304),u=o(68307),s=o(37716),c=o(5620),l=o(91841),p=o(84889),v=((i=function(){function t(r,n,o){e(this,t),this.commonService=r,this.http=n,this.errorService=o}return r(t,[{key:"saveFineToNinetyTwo",value:function(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveDalCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"savePanCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialTransfer",value:function(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialFromEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveCashTransactionBetweenEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"cashTransactionsByCurrentUser",value:function(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialFromOwnerToManager",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveMaterialFromManagerToOwner",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveNitricToFine",value:function(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"addTopUpGold",value:function(e,t){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+t,{}).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}},{key:"saveGpTransactions",value:function(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,a.K)(this.errorService.serverError),(0,u.b)(function(e){}))}}]),t}()).\u0275fac=function(e){return new(e||i)(s.LFG(c.v),s.LFG(l.eN),s.LFG(p.T))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)}}])}();