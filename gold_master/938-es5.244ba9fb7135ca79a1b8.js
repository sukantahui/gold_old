!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[938],{3938:function(e,a,r){r.r(a),r.d(a,{SalaryAdjustmentModule:function(){return T}});var o=r(38583),u=r(63423),i=r(92340),l=r(88259),c=r.n(l),d=r(37716),s=r(22761),g=r(95913),Z=r(76627),p=r(3679);function y(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"th",22),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.qZA()),2&t){var n=e.$implicit,a=e.index;d.xp6(2),d.Oqu(a+1),d.xp6(2),d.Oqu(n.salaryHolderName),d.xp6(2),d.Oqu(n.calculatedSalary)}}function f(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",22),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d.TgZ(8,"input",23),d.NdJ("ngModelChange",function(t){return d.CHM(n).$implicit.hourDeduction=t})("change",function(){return d.CHM(n),d.oxw().onHourDeductionChange()}),d.qZA(),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d.TgZ(12,"input",24),d.NdJ("ngModelChange",function(t){return d.CHM(n).$implicit.salaryDeductionPercentage=t})("change",function(){var t=d.CHM(n).$implicit;return d.oxw().onMonthlyDeductionPercentageChange(t)}),d.qZA(),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.TgZ(15,"td"),d.TgZ(16,"input",24),d.NdJ("ngModelChange",function(t){return d.CHM(n).$implicit.amountAdded=t})("change",function(){var t=d.CHM(n).$implicit;return d.oxw().onAmountAddedChange(t)}),d.qZA(),d.qZA(),d.TgZ(17,"td"),d._uU(18),d.qZA(),d.qZA()}if(2&t){var a=e.$implicit,r=e.index;d.xp6(2),d.Oqu(r+1),d.xp6(2),d.Oqu(a.salaryHolderName),d.xp6(2),d.Oqu(a.salary),d.xp6(2),d.Q6J("ngModel",a.hourDeduction),d.xp6(2),d.Oqu(a.hourDeductionAmount),d.xp6(2),d.Q6J("ngModel",a.salaryDeductionPercentage),d.xp6(2),d.Oqu(a.deduction),d.xp6(2),d.Q6J("ngModel",a.amountAdded),d.xp6(2),d.Oqu(a.calculatedSalary)}}function h(t,e){if(1&t&&(d.TgZ(0,"div",25),d.TgZ(1,"div",26),d.TgZ(2,"div",27),d.TgZ(3,"div",28),d.TgZ(4,"pre"),d._uU(5),d.ALo(6,"json"),d.qZA(),d.qZA(),d._UZ(7,"div",29),d.qZA(),d.qZA(),d.qZA()),2&t){var n=d.oxw();d.xp6(5),d.hij("                    salaryHolders=",d.lcZ(6,1,n.salaryHolders),"\n                ")}}var m,A=[{path:"",component:(m=function(){function e(n,a){var r=this;t(this,e),this.route=n,this.salaryService=a,this.isProduction=i.N.production,this.sumOfCalculatedSalary=0,this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.route.data.subscribe(function(t){r.salaryHolders=t.salaryAdjustmentResolver.salaryHolders.data,r.sumOfCalculatedSalary=r.salaryHolders.map(function(t){return t.calculatedSalary}).reduce(function(t,e){return t+e})})}return n(e,[{key:"ngOnInit",value:function(){}},{key:"onHourDeductionChange",value:function(){this.salaryHolders.map(function(t){t.hourDeductionAmount=t.hourDeduction*t.hourlyRate,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(function(t){return t.calculatedSalary}).reduce(function(t,e){return t+e})}},{key:"onDeductionPercentageChange",value:function(t){var e=Number(t);this.salaryHolders.map(function(t){t.salaryDeductionPercentage=e,t.deduction=t.salary*e/100,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded}),this.sumOfCalculatedSalary=this.salaryHolders.map(function(t){return t.calculatedSalary}).reduce(function(t,e){return t+e})}},{key:"onMonthlyDeductionPercentageChange",value:function(t){t.deduction=t.salary*t.salaryDeductionPercentage/100,t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(function(t){return t.calculatedSalary}).reduce(function(t,e){return t+e})}},{key:"onAmountAddedChange",value:function(t){t.calculatedSalary=t.salary-t.deduction-t.hourDeductionAmount+t.amountAdded,this.sumOfCalculatedSalary=this.salaryHolders.map(function(t){return t.calculatedSalary}).reduce(function(t,e){return t+e})}},{key:"saveSalary",value:function(){this.salaryService.saveSalaryHolderSalary(this.salaryHolders).subscribe(function(t){!0===t.status?c().fire({title:"Done",text:"Salary saved successfully",icon:"success"}):c().fire({title:"Failed",text:"Unable to save",icon:"error"})})}}]),e}(),m.\u0275fac=function(t){return new(t||m)(d.Y36(u.gz),d.Y36(s.M))},m.\u0275cmp=d.Xpm({type:m,selectors:[["app-salary-adjustment"]],decls:68,vars:6,consts:[[1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-4",2,"background-color","rgb(199, 192, 192)"],["id","printSalaryList"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","2"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printSalaryList","ngxPrint","",3,"printStyle","useExistingCss"],[1,"bloc_2","p-2","col-xl-8",2,"background-color","antiquewhite"],[1,"form-inline"],[1,"form-group"],[1,"mr-3"],["type","number","aria-describedby","deductionPercentageHelp","placeholder","Deduction Percentage",1,"form-control"],["deductionPercentage",""],["id","deductionPercentageHelp",1,"form-text","text-muted"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div","class","d-flex flex-column","style","min-height: 100vh; margin-bottom: 50px;",4,"ngIf"],["scope","row"],["type","number","placeholder","HOUR",1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","placeholder","Percentage",1,"form-control",3,"ngModel","ngModelChange","change"],["id","developer-div",1,"d-flex","flex-column",2,"min-height","100vh","margin-bottom","50px"],[1,"outerContainer",2,"margin-top","50px","border","1px solid black"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"I am Header, i will stay here"),d.qZA(),d.TgZ(3,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"div",5),d.TgZ(7,"table",6),d.TgZ(8,"thead"),d.TgZ(9,"tr"),d.TgZ(10,"th",7),d._uU(11,"#"),d.qZA(),d.TgZ(12,"th",7),d._uU(13,"Name"),d.qZA(),d.TgZ(14,"th",7),d._uU(15,"Final Salary"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"tbody"),d.YNc(17,y,7,3,"tr",8),d.qZA(),d.TgZ(18,"thead"),d.TgZ(19,"tr"),d.TgZ(20,"td",9),d._uU(21,"Total Salary"),d.qZA(),d.TgZ(22,"td"),d._uU(23),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"div",10),d.TgZ(25,"button",11),d.TgZ(26,"mat-icon"),d._uU(27,"print"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(28,"div",12),d.TgZ(29,"form",13),d.TgZ(30,"div",14),d.TgZ(31,"label",15),d._uU(32,"Salary Deduction in percentage "),d.qZA(),d._UZ(33,"input",16,17),d.TgZ(35,"small",18),d._uU(36,"%"),d.qZA(),d.qZA(),d.TgZ(37,"button",19),d.NdJ("click",function(){d.CHM(n);var t=d.MAs(34);return e.onDeductionPercentageChange(t.value)}),d._uU(38,"Calculate"),d.qZA(),d.qZA(),d.TgZ(39,"table",6),d.TgZ(40,"thead"),d.TgZ(41,"tr"),d.TgZ(42,"th",7),d._uU(43,"#"),d.qZA(),d.TgZ(44,"th",7),d._uU(45,"Name"),d.qZA(),d.TgZ(46,"th",7),d._uU(47,"Salary"),d.qZA(),d.TgZ(48,"th",7),d._uU(49,"Hour(-)"),d.qZA(),d.TgZ(50,"th",7),d._uU(51,"Hour Deduction"),d.qZA(),d.TgZ(52,"th",7),d._uU(53,"Monthly Deduction%"),d.qZA(),d.TgZ(54,"th",7),d._uU(55,"Monthly Deduction"),d.qZA(),d.TgZ(56,"th",7),d._uU(57,"Extra Pay"),d.qZA(),d.TgZ(58,"th",7),d._uU(59,"Final Salary"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(60,"tbody"),d.YNc(61,f,19,9,"tr",8),d.qZA(),d.qZA(),d.TgZ(62,"div"),d.TgZ(63,"button",19),d.NdJ("click",function(){return e.saveSalary()}),d._uU(64,"Save Salary"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(65,"div",20),d._uU(66,"I am footer, i will stay here"),d.qZA(),d.qZA(),d.YNc(67,h,8,3,"div",21)}2&t&&(d.xp6(17),d.Q6J("ngForOf",e.salaryHolders),d.xp6(6),d.Oqu(e.sumOfCalculatedSalary),d.xp6(2),d.Q6J("printStyle",e.printDivStyle)("useExistingCss",!0),d.xp6(36),d.Q6J("ngForOf",e.salaryHolders),d.xp6(6),d.Q6J("ngIf",!e.isProduction))},directives:[o.sg,g.I,Z.Hw,p._Y,p.JL,p.F,o.O5,p.wV,p.Fj,p.JJ,p.On],pipes:[o.Ts],styles:["[_nghost-%COMP%]     .p-cell-editing{padding-top:0!important;padding-bottom:0!important}"]}),m)}],q=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),e}(),T=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[o.ez,q,p.u5,Z.Ps,g.K]]}),e}()}}])}();