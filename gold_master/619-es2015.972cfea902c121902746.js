"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[619],{35619:function(e,r,a){a.r(r),a.d(r,{SalaryHolderSalaryPaymentModule:function(){return L}});var t=a(16274),n=a(65543),o=a(24766),l=a(93324),u=a(3420),i=a.n(u),s=a(42741),d=a(61782),c=a(9881),Z=a(80814),y=a(81608),g=a(21499);const m=function(){return{rowStyle:!0}};function h(e,r){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"h3"),s._uU(2),s.qZA(),s.TgZ(3,"h4"),s._uU(4),s.qZA(),s.TgZ(5,"h5"),s._uU(6),s.qZA(),s.TgZ(7,"table"),s.TgZ(8,"tbody"),s.TgZ(9,"tr"),s._UZ(10,"td"),s.TgZ(11,"td"),s._uU(12,"Base Salary"),s.qZA(),s.TgZ(13,"td",24),s._uU(14),s.qZA(),s.qZA(),s.TgZ(15,"tr"),s.TgZ(16,"td"),s._uU(17,"Less: "),s.qZA(),s.TgZ(18,"td"),s._uU(19,"Monthly Deduction"),s.qZA(),s.TgZ(20,"td",24),s._uU(21),s.qZA(),s.qZA(),s.TgZ(22,"tr"),s.TgZ(23,"td"),s._uU(24,"Less: "),s.qZA(),s.TgZ(25,"td"),s._uU(26,"Hourly Deduction"),s.qZA(),s.TgZ(27,"td",24),s._uU(28),s.qZA(),s.qZA(),s.TgZ(29,"tr"),s.TgZ(30,"td"),s._uU(31,"Add: "),s.qZA(),s.TgZ(32,"td"),s._uU(33,"Extra Pay"),s.qZA(),s.TgZ(34,"td",24),s._uU(35),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"tfoot"),s.TgZ(37,"tr"),s.TgZ(38,"th",25),s._uU(39,"Calculated Salary"),s.qZA(),s.TgZ(40,"th"),s._uU(41),s.qZA(),s.qZA(),s.TgZ(42,"tr"),s.TgZ(43,"th"),s._uU(44,"Less:"),s.qZA(),s.TgZ(45,"th"),s._uU(46,"Salary Paid"),s.qZA(),s.TgZ(47,"th",24),s._uU(48),s.qZA(),s.qZA(),s.TgZ(49,"tr",26),s.TgZ(50,"th",25),s._uU(51,"Salary Due"),s.qZA(),s.TgZ(52,"th",24),s._uU(53),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.Oqu(e.currentSalary.salaryHolderName),s.xp6(2),s.AsE("",e.currentSalary.monthName,", ",e.currentSalary.yearNumber,""),s.xp6(2),s.hij("Opening Advance: ",e.currentSalary.openingAdvance,""),s.xp6(8),s.Oqu(e.currentSalary.baseSalary),s.xp6(7),s.Oqu(e.currentSalary.monthlyDeductionAmount),s.xp6(7),s.Oqu(e.currentSalary.hourlyDeductionAmount),s.xp6(7),s.Oqu(e.currentSalary.extraPay),s.xp6(6),s.Oqu(e.currentSalary.calculatedSalary),s.xp6(7),s.Oqu(e.currentSalary.salaryPaid),s.xp6(1),s.Q6J("ngClass",s.DdM(12,m)),s.xp6(4),s.Oqu(e.currentSalary.calculatedSalary-e.currentSalary.salaryPaid)}}const A=function(){return{"background-color":"#09FF22"}},q=function(){return{}};function p(e,r){if(1&e&&(s.TgZ(0,"tr",29),s.TgZ(1,"th",30),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",24),s._uU(6),s.qZA(),s.TgZ(7,"td",24),s._uU(8),s.qZA(),s.TgZ(9,"td",24),s._uU(10),s.qZA(),s.qZA()),2&e){const e=r.$implicit,a=r.index,t=s.oxw(2);s.Q6J("ngStyle",e.salaryHolderId===t.selectedSalaryHolderId?s.DdM(6,A):s.DdM(7,q)),s.xp6(2),s.Oqu(a+1),s.xp6(2),s.Oqu(e.salaryHolderName),s.xp6(2),s.Oqu(e.baseSalary),s.xp6(2),s.Oqu(e.calculatedSalary),s.xp6(2),s.Oqu(e.salaryPaid)}}function S(e,r){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"table",27),s.TgZ(2,"thead"),s.TgZ(3,"th"),s._uU(4,"SL"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Name"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Base Salary"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Calculated Salary"),s.qZA(),s.TgZ(11,"th"),s._uU(12,"Salary Paid"),s.qZA(),s.qZA(),s.TgZ(13,"tbody"),s.YNc(14,p,11,8,"tr",28),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(14),s.Q6J("ngForOf",e.currentSalaryList)}}function f(e,r){if(1&e&&(s.TgZ(0,"div",31),s.TgZ(1,"div",32),s.TgZ(2,"div",33),s.TgZ(3,"div",34),s.TgZ(4,"pre"),s._uU(5),s.ALo(6,"json"),s.qZA(),s.qZA(),s._UZ(7,"div",35),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(5),s.hij("                    salaryHolderSalaryPaymentForm = ",s.lcZ(6,1,e.salaryHolderSalaryPaymentForm.value),"\n                ")}}const T=[{path:"",component:(()=>{class e{constructor(e,r,a){this.route=e,this.salaryService=r,this.downloads=a,this.isProduction=o.N.production,this.selectedSalaryHolderId=0,this.route.data.subscribe(e=>{this.salaryHolders=e.salaryHolderSalaryPaymentResolver.salaryHolders.data});const t=(new Date).getMonth(),n=(new Date).getFullYear();this.yearNumber=n,this.monthNumber=t,this.salaryHolderSalaryPaymentForm=new l.cw({yearNumber:new l.NI(n),monthNumber:new l.NI(t),salaryHolderId:new l.NI(null),salaryPaid:new l.NI(0),advanceAdjusted:new l.NI(0)})}ngOnInit(){}onSalaryHolderSelect(e){}saveSalaryPayment(){this.salaryService.saveSalaryHolderPayment(this.salaryHolderSalaryPaymentForm.value).subscribe(e=>{if(this.currentSalary=e.data,!0===e.status){const e=this.currentSalaryList.findIndex(e=>e.salaryHolderId===this.selectedSalaryHolderId);console.log(e),this.currentSalaryList[e].salaryPaid=this.currentSalaryList[e].salaryPaid+this.salaryHolderSalaryPaymentForm.get("salaryPaid").value,i().fire({title:"Done",text:"Salary Paid successfully",icon:"success"})}else i().fire({title:"Failed",text:"Unable to save",icon:"error"})},e=>{console.log(e),i().fire({title:"Error",text:"Unable to save",icon:"error"})})}showCurrentSalary(){this.selectedSalaryHolderId=this.salaryHolderSalaryPaymentForm.get("salaryHolderId").value,this.salaryService.getSalaryByIdMonthAndYear(this.salaryHolderSalaryPaymentForm.value).subscribe(e=>{!0===e.status?this.currentSalary=e.data:i().fire({title:"Failed",text:"Unable to get data",icon:"error"})},e=>{console.log(e),i().fire({title:"Error",text:"Select proper data first",icon:"error"})})}onYearChange(e){this.salaryHolderSalaryPaymentForm.get("yearNumber").setValue(e,{emitEvent:!1})}onMonthChange(e){this.salaryHolderSalaryPaymentForm.get("monthNumber").setValue(e,{emitEvent:!1})}showAllSalaries(){this.salaryService.getSalaryByMonthAndYear(this.yearNumber,this.monthNumber).subscribe(e=>{!0===e.status?this.currentSalaryList=e.data:i().fire({title:"Failed",text:"Unable to get data",icon:"error"})},e=>{console.log(e),i().fire({title:"Error",text:"Select proper data first",icon:"error"})})}}return e.\u0275fac=function(r){return new(r||e)(s.Y36(n.gz),s.Y36(d.M),s.Y36(c.K))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-salary-holder-salary-payment"]],decls:48,vars:13,consts:[[1,"d-flex","flex-column",2,"min-height","100vh"],[1,"p-2","text-center",2,"background-color","rgb(77, 68, 68)"],[1,"p-2"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-center","flex-row"],[1,"form-group","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","amount","mode","decimal","value","2022","thousandSeparator"," ","inputId","amount",3,"ngModel","showButtons","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"container-fluid","rounded","d-flex","flex-xl-row","justify-content-xl-between","flex-column"],[1,"p-2","col-xl-4",2,"background-color","rgb(199, 192, 192)"],["id","customer-form",3,"formGroup"],[1,"mb-3"],["for","person-name",1,"form-label"],[1,"bi","bi-file-person"],["fxLayoutGap","30px",2,"padding-top","10px"],["id","person-name","bindLabel","salaryHolderName","bindValue","id","formControlName","salaryHolderId","placeholder","Select Salary Holder",1,"custom",3,"items","change"],["for","amount",1,"col-sm-2","col-form-label"],["id","amount","formControlName","salaryPaid","mode","decimal","thousandSeparator"," ","inputId","amount",3,"showButtons"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bloc_2","p-2","col-xl-8",2,"background-color","antiquewhite"],[4,"ngIf"],[1,"mt-auto","p-2","text-center",2,"background-color","rgb(77, 68, 68)"],["id","developer-div",4,"ngIf"],[1,"text-right"],["colspan","2"],[3,"ngClass"],[1,"table","table-striped"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["scope","row"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2,"I am Header, i will stay here"),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"label",5),s._uU(7,"Year "),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"p-inputNumber",7),s.NdJ("ngModelChange",function(e){return r.yearNumber=e})("ngModelChange",function(e){return r.onYearChange(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",4),s.TgZ(11,"label",5),s._uU(12,"Month "),s.qZA(),s.TgZ(13,"div",6),s.TgZ(14,"p-inputNumber",7),s.NdJ("ngModelChange",function(e){return r.monthNumber=e})("ngModelChange",function(e){return r.onMonthChange(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",4),s.TgZ(16,"button",8),s.NdJ("click",function(){return r.showAllSalaries()}),s._uU(17,"Show Current Salary"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",9),s.TgZ(19,"div",10),s.TgZ(20,"form",11),s.TgZ(21,"div",12),s.TgZ(22,"label",13),s._uU(23,"Salary Holder"),s.qZA(),s._UZ(24,"span",14),s.TgZ(25,"div",15),s.TgZ(26,"ng-select",16),s.NdJ("change",function(){return r.showCurrentSalary()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",4),s.TgZ(28,"label",17),s._uU(29,"Amount "),s.qZA(),s.TgZ(30,"div",6),s._UZ(31,"p-inputNumber",18),s.qZA(),s.qZA(),s.TgZ(32,"button",8),s.NdJ("click",function(){return r.showCurrentSalary()}),s._uU(33,"Show Current Salary"),s.qZA(),s.TgZ(34,"button",19),s.NdJ("click",function(){return r.saveSalaryPayment()}),s._uU(35,"Save Salary"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"div",20),s.TgZ(37,"div",9),s.TgZ(38,"div",10),s.YNc(39,h,54,13,"div",21),s.qZA(),s.TgZ(40,"div",20),s.YNc(41,S,15,1,"div",21),s.TgZ(42,"pre"),s._uU(43),s.ALo(44,"json"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(45,"div",22),s._uU(46,"I am footer, i will stay here"),s.qZA(),s.qZA(),s.YNc(47,f,8,3,"div",23)),2&e&&(s.xp6(9),s.Q6J("ngModel",r.yearNumber)("showButtons",!0),s.xp6(5),s.Q6J("ngModel",r.monthNumber)("showButtons",!0),s.xp6(6),s.Q6J("formGroup",r.salaryHolderSalaryPaymentForm),s.xp6(6),s.Q6J("items",r.salaryHolders),s.xp6(5),s.Q6J("showButtons",!0),s.xp6(8),s.Q6J("ngIf",r.currentSalary),s.xp6(2),s.Q6J("ngIf",r.currentSalaryList),s.xp6(2),s.hij("                            ",s.lcZ(44,11,r.currentSalaryList),"\n                        "),s.xp6(4),s.Q6J("ngIf",!r.isProduction))},directives:[Z.Rn,l.JJ,l.On,l._Y,l.JL,l.sg,y.SQ,g.w9,l.u,t.O5,t.mk,t.sg,t.PC,y.xw,y.Wh,y.yH],pipes:[t.Ts],styles:[".selectedRow[_ngcontent-%COMP%]{background-color:#e8c91c}.rowStyle[_ngcontent-%COMP%]{background-color:#f8d8b0}"]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.Bz.forChild(T)],n.Bz]}),e})();var x=a(39009),v=a(44113),U=a(10823),_=a(19018),w=a(31749),N=a(67617),P=a(62397),H=a(70846),C=a(73454),I=a(19275),J=a(52514);let L=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[t.ez,b,y.ae,x.QW,x.QW,v.FA,U.lN,l.u5,l.UX,_.c,w.Ps,N.ot,y.ae,w.Ps,P.JX,H.rP,C.pm,I.K,J.xu,g.A0,Z.L$]]}),e})()}}]);