!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[9879],{19879:function(n,a,r){r.r(a),r.d(a,{AgentSalaryModule:function(){return Q}});var o=r(16274),i=r(65543),u=r(24766),c=r(93324),g=r(42741),l=r(75239),s=r(39009),Z=r(81608),p=r(80814),d=r(33103),m=r(67617),h=r(19275),A=r(31749);function y(t,e){if(1&t&&(g.ynx(0),g.TgZ(1,"th",25),g._uU(2),g.qZA(),g.TgZ(3,"td",26),g._uU(4),g.qZA(),g.TgZ(5,"td",26),g._uU(6),g.qZA(),g.TgZ(7,"td",19),g._uU(8),g.ALo(9,"number"),g.qZA(),g.TgZ(10,"td",19),g._uU(11),g.ALo(12,"number"),g.qZA(),g.TgZ(13,"td",19),g._uU(14),g.qZA(),g.TgZ(15,"td",19),g._uU(16),g.ALo(17,"number"),g.qZA(),g.TgZ(18,"td",19),g._uU(19),g.qZA(),g.TgZ(20,"td",19),g._uU(21),g.ALo(22,"currency"),g.qZA(),g.BQk()),2&t){var n=g.oxw(),a=n.index,r=n.$implicit;g.xp6(2),g.Oqu(a+1),g.xp6(2),g.Oqu(r.agent_id),g.xp6(2),g.Oqu(r.agent_name),g.xp6(2),g.Oqu(g.xi3(9,9,r.qty,"1.0")),g.xp6(3),g.Oqu(g.xi3(12,12,r.return_qty,"1.0")),g.xp6(3),g.Oqu(r.salary),g.xp6(2),g.Oqu(g.xi3(17,15,r.ta,"1.0")),g.xp6(3),g.Oqu(r.commission),g.xp6(2),g.Oqu(g.gM2(22,18,r.total_income,"INR","symbol-narrow","4.0-2"))}}function f(t,e){1&t&&(g.TgZ(0,"tr"),g.YNc(1,y,23,23,"ng-container",24),g.qZA()),2&t&&(g.xp6(1),g.Q6J("ngIf",!0))}function q(t,e){if(1&t&&(g.TgZ(0,"div",27),g.TgZ(1,"div",28),g.TgZ(2,"div",29),g.TgZ(3,"div",30),g.TgZ(4,"pre"),g._uU(5),g.ALo(6,"json"),g.qZA(),g.qZA(),g._UZ(7,"div",31),g.TgZ(8,"div",30),g.TgZ(9,"pre"),g._uU(10),g.ALo(11,"json"),g.qZA(),g.qZA(),g._UZ(12,"div",30),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(5),g.hij("                    selectedAgentIndex = ",g.lcZ(6,2,n.agentSalarySearchForm.value),"\n                "),g.xp6(5),g.hij("                    agentSalaries = ",g.lcZ(11,4,n.agentSalaries),"\n                ")}}var x,T=[{path:"",component:(x=function(){function n(e){t(this,n),this.agentService=e,this.isProduction=u.N.production,this.year=2022,this.month=1,this.isLoading=!1,this.months=["No Month","January","February","March","April","May","June","July","August","September","October","November","December"],this.grossTotalReturnQuantity=0,this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.agentSalarySearchForm=new c.cw({year:new c.NI(2022),month:new c.NI(5)})}var a,r,o;return a=n,(r=[{key:"ngOnInit",value:function(){}},{key:"getReport",value:function(){var t=this;this.agentService.getAgentSalaryByYearAndMonth(this.agentSalarySearchForm.get("year").value,this.agentSalarySearchForm.get("month").value).subscribe(function(e){t.agentSalaries=e.data,t.grossTotalIncome=t.agentSalaries.filter(function(t){return t.total_income>"0"}).reduce(function(t,e){return t+e.total_income},0),t.grossTotalQuantity=t.agentSalaries.filter(function(t){return t.qty>"0"}).reduce(function(t,e){return t+e.qty},0),t.grossTotalReturnQuantity=t.agentSalaries.filter(function(t){return t.return_qty>"0"}).reduce(function(t,e){return t+e.return_qty},0)})}},{key:"saveAgentSalary",value:function(){this.agentService.saveAgentSalaryByYearAndMonth(this.agentSalarySearchForm.get("year").value,this.agentSalarySearchForm.get("month").value).subscribe(function(t){console.log(t)})}}])&&e(a.prototype,r),o&&e(a,o),n}(),x.\u0275fac=function(t){return new(t||x)(g.Y36(l.R))},x.\u0275cmp=g.Xpm({type:x,selectors:[["app-agent-salary"]],decls:70,vars:23,consts:[["id","agent-wise-sale-report-div"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[3,"formGroup"],["fxLayoutGap","30px",2,"padding-top","10px"],["for","year"],["formControlName","year","mode","decimal","thousandSeparator"," ","inputId","year",3,"showButtons","min","max"],["for","month"],["formControlName","month","mode","decimal","thousandSeparator"," ","inputId","month",3,"showButtons","min","max"],["label","Search","id","search","icon","pi pi-search",3,"loading","click"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printAgentSalaryReportDiv","ngxPrint","",3,"printStyle","useExistingCss"],["id","printAgentSalaryReportDiv"],[1,"text-center"],[1,"no-print"],[1,"table","table-bordered","table-responsive"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-center"],[1,"text-right"],["colspan","1",1,"text-right"],["colspan","3",1,"text-right"],["label","Save Agent Commission for current Month","id","search","icon","pi pi-search",3,"loading","click"],["id","developer-div",4,"ngIf"],[4,"ngIf"],["scope","row"],[1,"text-left"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"mat-card",1),g.TgZ(2,"mat-card-header"),g._UZ(3,"div",2),g.TgZ(4,"mat-card-title"),g._uU(5,"Agent Wise Sale Report"),g.qZA(),g.qZA(),g.TgZ(6,"mat-card-content"),g.TgZ(7,"div",3),g.TgZ(8,"form",4),g.TgZ(9,"div",3),g.TgZ(10,"div",5),g.TgZ(11,"label",6),g._uU(12,"Year"),g.qZA(),g._UZ(13,"p-inputNumber",7),g.qZA(),g.TgZ(14,"div",5),g.TgZ(15,"label",8),g._uU(16,"Month"),g.qZA(),g._UZ(17,"p-inputNumber",9),g.qZA(),g.TgZ(18,"div",5),g.TgZ(19,"p-button",10),g.NdJ("click",function(){return e.getReport()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"mat-card",1),g.TgZ(21,"div",11),g.TgZ(22,"button",12),g.TgZ(23,"mat-icon"),g._uU(24,"print"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"div",13),g.TgZ(26,"mat-card-header"),g._UZ(27,"div",2),g.TgZ(28,"mat-card-title",14),g._uU(29),g.qZA(),g.qZA(),g.TgZ(30,"mat-card-content"),g._UZ(31,"div",15),g.TgZ(32,"table",16),g.TgZ(33,"thead"),g.TgZ(34,"tr"),g.TgZ(35,"th",14),g._uU(36,"SL"),g.qZA(),g.TgZ(37,"th",14),g._uU(38,"Agent ID"),g.qZA(),g.TgZ(39,"th",14),g._uU(40,"Name"),g.qZA(),g.TgZ(41,"th",14),g._uU(42,"Sale Qty"),g.qZA(),g.TgZ(43,"th",14),g._uU(44,"Return Qty"),g.qZA(),g.TgZ(45,"th",14),g._uU(46,"Salary"),g.qZA(),g.TgZ(47,"th",14),g._uU(48,"TA"),g.qZA(),g.TgZ(49,"th",14),g._uU(50,"Commission"),g.qZA(),g.TgZ(51,"th",14),g._uU(52,"Total Income"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(53,"tbody"),g.YNc(54,f,2,1,"tr",17),g.qZA(),g.TgZ(55,"tfoot"),g.TgZ(56,"tr"),g.TgZ(57,"th",18),g._uU(58,"Total"),g.qZA(),g.TgZ(59,"th",19),g._uU(60),g.qZA(),g.TgZ(61,"th",20),g._uU(62),g.qZA(),g._UZ(63,"th",21),g.TgZ(64,"th",19),g._uU(65),g.ALo(66,"currency"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(67,"div",5),g.TgZ(68,"p-button",22),g.NdJ("click",function(){return e.saveAgentSalary()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(69,q,13,6,"div",23)),2&t&&(g.xp6(8),g.Q6J("formGroup",e.agentSalarySearchForm),g.xp6(5),g.Q6J("showButtons",!0)("min",2022)("max",2032),g.xp6(4),g.Q6J("showButtons",!0)("min",1)("max",12),g.xp6(2),g.Q6J("loading",e.isLoading),g.xp6(3),g.Q6J("printStyle",e.printDivStyle)("useExistingCss",!0),g.xp6(7),g.AsE("Agent Salary Report: ",e.months[e.agentSalarySearchForm.get("month").value],", ",e.agentSalarySearchForm.get("year").value," "),g.xp6(25),g.Q6J("ngForOf",e.agentSalaries),g.xp6(6),g.Oqu(e.grossTotalQuantity),g.xp6(2),g.Oqu(e.grossTotalReturnQuantity),g.xp6(3),g.Oqu(g.gM2(66,18,e.grossTotalIncome,"INR","symbol-narrow","4.0-2")),g.xp6(3),g.Q6J("loading",e.isLoading),g.xp6(1),g.Q6J("ngIf",!e.isProduction))},directives:[s.a8,s.dk,s.kc,s.n5,s.dn,Z.xw,Z.Wh,Z.SQ,c._Y,c.JL,c.sg,p.Rn,c.JJ,c.u,d.zx,m.lW,h.I,A.Hw,o.sg,o.O5,Z.yH],pipes:[o.H9,o.JJ,o.Ts],styles:[""]}),x)}],v=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.Bz.forChild(T)],i.Bz]}),e}(),S=r(44113),_=r(10823),b=r(19018),U=r(62397),w=r(70846),L=r(73454),J=r(52514),Q=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[o.ez,v,Z.ae,s.QW,s.QW,S.FA,_.lN,c.u5,c.UX,b.c,A.Ps,m.ot,d.hJ,Z.ae,A.Ps,U.JX,w.rP,L.pm,h.K,J.xu,p.L$]]}),e}()}}])}();