!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(a=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"))?o:String(o)),r)}var a,o}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2313],{82313:function(e,r,a){a.r(r),a.d(r,{AgentSalaryModule:function(){return Q}});var o=a(38583),i=a(63423),u=a(92340),c=a(3679),l=a(37716),g=a(37825),s=a(93738),Z=a(35618),p=a(70705),d=a(4207),m=a(51095),h=a(95913),y=a(76627);function f(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"th",24),l._uU(2),l.qZA(),l.TgZ(3,"td",25),l._uU(4),l.qZA(),l.TgZ(5,"td",25),l._uU(6),l.qZA(),l.TgZ(7,"td",19),l._uU(8),l.ALo(9,"number"),l.qZA(),l.TgZ(10,"td",19),l._uU(11),l.ALo(12,"number"),l.qZA(),l.TgZ(13,"td",19),l._uU(14),l.ALo(15,"number"),l.qZA(),l.TgZ(16,"td",19),l._uU(17),l.ALo(18,"currency"),l.qZA(),l.BQk()),2&t){var n=l.oxw(),r=n.index,a=n.$implicit;l.xp6(2),l.Oqu(r+1),l.xp6(2),l.Oqu(a.agent_id),l.xp6(2),l.Oqu(a.agent_name),l.xp6(2),l.Oqu(l.xi3(9,7,a.qty,"1.0")),l.xp6(3),l.Oqu(l.xi3(12,10,a.return_qty,"1.0")),l.xp6(3),l.Oqu(l.xi3(15,13,a.qty-a.return_qty,"1.0")),l.xp6(3),l.Oqu(l.gM2(18,16,a.total_income,"INR","symbol-narrow","4.0-2"))}}function A(t,e){1&t&&(l.TgZ(0,"tr"),l.YNc(1,f,19,21,"ng-container",23),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!0))}function q(t,e){if(1&t&&(l.TgZ(0,"div",26),l.TgZ(1,"div",27),l.TgZ(2,"div",28),l.TgZ(3,"div",29),l.TgZ(4,"pre"),l._uU(5),l.ALo(6,"json"),l.qZA(),l.qZA(),l._UZ(7,"div",30),l.TgZ(8,"div",29),l.TgZ(9,"pre"),l._uU(10),l.ALo(11,"json"),l.qZA(),l.qZA(),l._UZ(12,"div",29),l.qZA(),l.qZA(),l.qZA()),2&t){var n=l.oxw();l.xp6(5),l.hij("                    selectedAgentIndex = ",l.lcZ(6,2,n.agentSalarySearchForm.value),"\n                "),l.xp6(5),l.hij("                    agentSalaries = ",l.lcZ(11,4,n.agentSalaries),"\n                ")}}var v,T=[{path:"",component:(v=function(){function e(n){t(this,e),this.agentService=n,this.isProduction=u.N.production,this.year=2022,this.month=1,this.isLoading=!1,this.months=["No Month","January","February","March","April","May","June","July","August","September","October","November","December"],this.grossTotalReturnQuantity=0,this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}};var r=new Date,a=r.getMonth(),o=r.getFullYear();this.agentSalarySearchForm=new c.cw({year:new c.NI(o),month:new c.NI(a)})}return n(e,[{key:"ngOnInit",value:function(){}},{key:"getReport",value:function(){var t=this;this.agentService.getAgentSalaryByYearAndMonth(this.agentSalarySearchForm.get("year").value,this.agentSalarySearchForm.get("month").value).subscribe(function(e){t.agentSalaries=e.data,t.grossTotalIncome=t.agentSalaries.filter(function(t){return t.total_income>"0"}).reduce(function(t,e){return t+e.total_income},0),t.grossTotalQuantity=t.agentSalaries.filter(function(t){return t.qty>"0"}).reduce(function(t,e){return t+e.qty},0),t.grossTotalReturnQuantity=t.agentSalaries.filter(function(t){return t.return_qty>"0"}).reduce(function(t,e){return t+e.return_qty},0)})}},{key:"saveAgentSalary",value:function(){this.agentService.saveAgentSalaryByYearAndMonth(this.agentSalarySearchForm.get("year").value,this.agentSalarySearchForm.get("month").value).subscribe(function(t){console.log(t)})}}]),e}(),v.\u0275fac=function(t){return new(t||v)(l.Y36(g.R))},v.\u0275cmp=l.Xpm({type:v,selectors:[["app-agent-salary"]],decls:67,vars:24,consts:[["id","agent-wise-sale-report-div"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[3,"formGroup"],["fxLayoutGap","30px",2,"padding-top","10px"],["for","year"],["formControlName","year","mode","decimal","thousandSeparator"," ","inputId","year",3,"showButtons","min","max"],["for","month"],["formControlName","month","mode","decimal","thousandSeparator"," ","inputId","month",3,"showButtons","min","max"],["label","Search","id","search","icon","pi pi-search",3,"loading","click"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printAgentSalaryReportDiv","ngxPrint","",3,"printStyle","useExistingCss"],["id","printAgentSalaryReportDiv"],[1,"text-center"],[1,"no-print"],[1,"table","table-bordered","table-responsive"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-center"],[1,"text-right"],["colspan","1",1,"text-right"],["label","Save Agent Commission for current Month","id","search","icon","pi pi-search",3,"loading","click"],["id","developer-div",4,"ngIf"],[4,"ngIf"],["scope","row"],[1,"text-left"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"mat-card",1),l.TgZ(2,"mat-card-header"),l._UZ(3,"div",2),l.TgZ(4,"mat-card-title"),l._uU(5,"Agent Wise Sale Report"),l.qZA(),l.qZA(),l.TgZ(6,"mat-card-content"),l.TgZ(7,"div",3),l.TgZ(8,"form",4),l.TgZ(9,"div",3),l.TgZ(10,"div",5),l.TgZ(11,"label",6),l._uU(12,"Year"),l.qZA(),l._UZ(13,"p-inputNumber",7),l.qZA(),l.TgZ(14,"div",5),l.TgZ(15,"label",8),l._uU(16,"Month"),l.qZA(),l._UZ(17,"p-inputNumber",9),l.qZA(),l.TgZ(18,"div",5),l.TgZ(19,"p-button",10),l.NdJ("click",function(){return e.getReport()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"mat-card",1),l.TgZ(21,"div",11),l.TgZ(22,"button",12),l.TgZ(23,"mat-icon"),l._uU(24,"print"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(25,"div",13),l.TgZ(26,"mat-card-header"),l._UZ(27,"div",2),l.TgZ(28,"mat-card-title",14),l._uU(29),l.qZA(),l.qZA(),l.TgZ(30,"mat-card-content"),l._UZ(31,"div",15),l.TgZ(32,"table",16),l.TgZ(33,"thead"),l.TgZ(34,"tr"),l.TgZ(35,"th",14),l._uU(36,"SL"),l.qZA(),l.TgZ(37,"th",14),l._uU(38,"Agent ID"),l.qZA(),l.TgZ(39,"th",14),l._uU(40,"Name"),l.qZA(),l.TgZ(41,"th",14),l._uU(42,"Sale Qty"),l.qZA(),l.TgZ(43,"th",14),l._uU(44,"Return Qty"),l.qZA(),l.TgZ(45,"th",14),l._uU(46,"Actual Qty"),l.qZA(),l.TgZ(47,"th",14),l._uU(48,"Total Income"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(49,"tbody"),l.YNc(50,A,2,1,"tr",17),l.qZA(),l.TgZ(51,"tfoot"),l.TgZ(52,"tr"),l.TgZ(53,"th",18),l._uU(54,"Total"),l.qZA(),l.TgZ(55,"th",19),l._uU(56),l.qZA(),l.TgZ(57,"th",20),l._uU(58),l.qZA(),l.TgZ(59,"th",20),l._uU(60),l.qZA(),l.TgZ(61,"th",19),l._uU(62),l.ALo(63,"currency"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(64,"div",5),l.TgZ(65,"p-button",21),l.NdJ("click",function(){return e.saveAgentSalary()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(66,q,13,6,"div",22)),2&t&&(l.xp6(8),l.Q6J("formGroup",e.agentSalarySearchForm),l.xp6(5),l.Q6J("showButtons",!0)("min",2022)("max",2032),l.xp6(4),l.Q6J("showButtons",!0)("min",1)("max",12),l.xp6(2),l.Q6J("loading",e.isLoading),l.xp6(3),l.Q6J("printStyle",e.printDivStyle)("useExistingCss",!0),l.xp6(7),l.AsE("Agent Salary Report: ",e.months[e.agentSalarySearchForm.get("month").value],", ",e.agentSalarySearchForm.get("year").value," "),l.xp6(21),l.Q6J("ngForOf",e.agentSalaries),l.xp6(6),l.Oqu(e.grossTotalQuantity),l.xp6(2),l.Oqu(e.grossTotalReturnQuantity),l.xp6(2),l.hij(" ",e.grossTotalQuantity-e.grossTotalReturnQuantity," "),l.xp6(2),l.Oqu(l.gM2(63,19,e.grossTotalIncome,"INR","symbol-narrow","4.0-2")),l.xp6(3),l.Q6J("loading",e.isLoading),l.xp6(1),l.Q6J("ngIf",!e.isProduction))},directives:[s.a8,s.dk,s.kc,s.n5,s.dn,Z.xw,Z.Wh,Z.SQ,c._Y,c.JL,c.sg,p.Rn,c.JJ,c.u,d.zx,m.lW,h.I,y.Hw,o.sg,o.O5,Z.yH],pipes:[o.H9,o.JJ,o.Ts],styles:[""]}),v)}],x=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.Bz.forChild(T)],i.Bz]}),e}(),S=a(43220),b=a(98295),_=a(49983),U=a(11494),w=a(45396),L=a(80291),J=a(65072),Q=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,x,Z.ae,s.QW,s.QW,S.FA,b.lN,c.u5,c.UX,_.c,y.Ps,m.ot,d.hJ,Z.ae,y.Ps,U.JX,w.rP,L.pm,h.K,J.xu,p.L$]]}),e}()}}])}();