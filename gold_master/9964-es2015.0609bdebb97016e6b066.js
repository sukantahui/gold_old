"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[9964],{19964:function(e,r,t){t.r(r),t.d(r,{MaterialFromManagerModule:function(){return _}});var o=t(38583),a=t(63423),n=t(3679),i=t(92340),s=t(88259),c=t.n(s),l=t(37716),g=t(91841),m=t(57916),u=t(86640),p=t(98295),h=t(49983),d=t(51095),v=t(42542),Z=t(65939);function f(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1,"\u27a1"),l.qZA())}function T(e,r){if(1&e){const e=l.EpF();l.TgZ(0,"tr",20),l.NdJ("click",function(){const r=l.CHM(e).$implicit;return l.oxw(2).selectMaterial(r)}),l.TgZ(1,"td"),l.YNc(2,f,2,0,"span",21),l._uU(3),l.qZA(),l.TgZ(4,"td",22),l._uU(5),l.ALo(6,"number"),l.qZA(),l.qZA()}if(2&e){const e=r.$implicit,t=l.oxw(2);let o,a;l.ekj("highlight",e.rmId===(null==(o=t.ownerFromMangerForm.get("rm_id"))?null:o.value)),l.xp6(2),l.Q6J("ngIf",e.rmId===(null==(a=t.ownerFromMangerForm.get("rm_id"))?null:a.value)),l.xp6(1),l.hij(" ",e.rawMaterialName," "),l.xp6(2),l.Oqu(l.xi3(6,5,e.closingBalance,"1.3-3"))}}function A(e,r){if(1&e&&(l.TgZ(0,"div",16),l.TgZ(1,"table",17),l.TgZ(2,"thead"),l.TgZ(3,"tr"),l.TgZ(4,"th",18),l._uU(5,"Material Name"),l.qZA(),l.TgZ(6,"th",18),l._uU(7,"Value"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"tbody"),l.YNc(9,T,7,8,"tr",19),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(9),l.Q6J("ngForOf",e.managerMaterialBalance)}}function b(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1,"\u27a1"),l.qZA())}function w(e,r){if(1&e){const e=l.EpF();l.TgZ(0,"tr",20),l.NdJ("click",function(){const r=l.CHM(e).$implicit;return l.oxw(2).selectMaterial(r)}),l.TgZ(1,"td"),l.YNc(2,b,2,0,"span",21),l._uU(3),l.qZA(),l.TgZ(4,"td",22),l._uU(5),l.ALo(6,"number"),l.qZA(),l.qZA()}if(2&e){const e=r.$implicit,t=l.oxw(2);let o,a;l.ekj("highlight",e.rmId===(null==(o=t.ownerFromMangerForm.get("rm_id"))?null:o.value)),l.xp6(2),l.Q6J("ngIf",e.rmId===(null==(a=t.ownerFromMangerForm.get("rm_id"))?null:a.value)),l.xp6(1),l.hij(" ",e.rawMaterialName," "),l.xp6(2),l.Oqu(l.xi3(6,5,e.closingBalance,"1.3-3"))}}function q(e,r){if(1&e&&(l.TgZ(0,"div",16),l.TgZ(1,"table",23),l.TgZ(2,"thead"),l.TgZ(3,"tr"),l.TgZ(4,"th",18),l._uU(5,"Material Name"),l.qZA(),l.TgZ(6,"th",18),l._uU(7,"Value"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"tbody"),l.YNc(9,w,7,8,"tr",19),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(9),l.Q6J("ngForOf",e.managerMaterialBalanceUpdated)}}function F(e,r){if(1&e){const e=l.EpF();l.TgZ(0,"mat-button-toggle-group",24),l.TgZ(1,"mat-button-toggle",20),l.NdJ("click",function(){return l.CHM(e),l.oxw().showDeveloperDiv=!0}),l._uU(2,"Show"),l.qZA(),l.TgZ(3,"mat-button-toggle",20),l.NdJ("click",function(){return l.CHM(e),l.oxw().showDeveloperDiv=!1}),l._uU(4,"Hide"),l.qZA(),l.qZA()}}function M(e,r){if(1&e&&(l.TgZ(0,"div",25),l.TgZ(1,"div",26),l.TgZ(2,"h2"),l._uU(3,"Developer Area"),l.qZA(),l.TgZ(4,"mat-tab-group",27),l.TgZ(5,"mat-tab",28),l.TgZ(6,"pre"),l._uU(7),l.ALo(8,"json"),l.qZA(),l.qZA(),l.TgZ(9,"mat-tab",29),l.TgZ(10,"pre"),l._uU(11),l.ALo(12,"json"),l.qZA(),l.qZA(),l.TgZ(13,"mat-tab",30),l.TgZ(14,"pre"),l._uU(15),l.ALo(16,"json"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(7),l.hij("                    ownerFromMangerForm = ",l.lcZ(8,3,e.ownerFromMangerForm.value),"\n                "),l.xp6(4),l.hij("                    savedResponse=",l.lcZ(12,5,e.savedResponse),"\n                "),l.xp6(4),l.hij("                    materialBalance=",l.lcZ(16,7,e.materialBalance),"\n                ")}}const x=[{path:"",component:(()=>{class e{constructor(e,r,t){this.route=e,this.http=r,this.managerService=t,this.isProduction=i.N.production,this.showDeveloperDiv=!0,this.route.data.subscribe(e=>{this.materials=e.materialResolver.rawMaterials.data,this.managerMaterialBalance=e.materialResolver.managerMaterialBalance.data}),this.ownerFromMangerForm=new n.cw({rm_id:new n.NI(36,[n.kI.required]),value:new n.NI({value:0,disabled:!1},[n.kI.required,n.kI.min(.001)])})}ngOnInit(){}saveTransfer(){c().fire({title:"Withdraw from Manager",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Withdraw",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.saveMaterialFromManagerToOwner(this.ownerFromMangerForm.value).subscribe(e=>{!0===e.status&&(c().fire({timer:2e3,title:"Saved",text:"Withdrawn successfully to Manager",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e,this.managerMaterialBalanceUpdated=e.data.manager_all_material_balance,this.ownerFromMangerForm.markAsPristine())},e=>{c().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}resetForm(){this.savedResponse&&(this.materialBalance=this.savedResponse.data.material_balance,this.savedResponse=null),this.ownerFromMangerForm.reset()}selectMaterial(e){console.log(e),this.ownerFromMangerForm.patchValue({rm_id:e.rmId})}}return e.\u0275fac=function(r){return new(r||e)(l.Y36(a.gz),l.Y36(g.eN),l.Y36(m.b))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-material-from-manager"]],decls:29,vars:7,consts:[[1,"d-flex","flex-row","gradient-bg",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","value","placeholder","Material",1,"text-right"],["silverValue",""],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[3,"highlight","click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],[1,"text-right"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["name","fontStyle","aria-label","Font Style"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2"),l._uU(3,"Withdrawing from Manager"),l.qZA(),l.TgZ(4,"h5"),l._uU(5,"\u09ae\u09cd\u09af\u09be\u09a8\u09c7\u099c\u09be\u09b0\u09c7\u09b0 \u0995\u09be\u099b \u09a5\u09c7\u0995\u09c7 \u09ae\u09c7\u099f\u09be\u09b2 \u09a4\u09c1\u09b2\u09c7 \u09a8\u09c7\u0993\u09df\u09be\u09b0 \u09aa\u09a6\u09cd\u09a7\u09a4\u09bf"),l.qZA(),l._UZ(6,"hr"),l.TgZ(7,"form",2),l._UZ(8,"ng-select",3),l.TgZ(9,"div"),l.TgZ(10,"mat-form-field",4),l.TgZ(11,"mat-label"),l._uU(12,"Enter Quantity"),l.qZA(),l._UZ(13,"input",5,6),l.qZA(),l.qZA(),l.TgZ(15,"div",7),l.TgZ(16,"div",8),l.TgZ(17,"div",9),l.TgZ(18,"button",10),l.NdJ("click",function(){return r.resetForm()}),l._uU(19,"Reset"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",8),l.TgZ(21,"div",9),l.TgZ(22,"button",11),l.NdJ("click",function(){return r.saveTransfer()}),l._uU(23,"Save Record"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(24,"div",12),l.YNc(25,A,10,1,"div",13),l.YNc(26,q,10,1,"div",13),l.qZA(),l.qZA(),l.YNc(27,F,5,0,"mat-button-toggle-group",14),l.YNc(28,M,17,9,"div",15)),2&e&&(l.xp6(7),l.Q6J("formGroup",r.ownerFromMangerForm),l.xp6(1),l.Q6J("items",r.materials),l.xp6(14),l.Q6J("disabled",!r.ownerFromMangerForm.valid||r.ownerFromMangerForm.pristine),l.xp6(3),l.Q6J("ngIf",r.managerMaterialBalance),l.xp6(1),l.Q6J("ngIf",r.savedResponse),l.xp6(1),l.Q6J("ngIf",!r.isProduction),l.xp6(1),l.Q6J("ngIf",r.showDeveloperDiv&&!r.isProduction))},directives:[n._Y,n.JL,n.sg,u.w9,n.JJ,n.u,p.KE,p.hX,n.wV,h.Nt,n.Fj,d.lW,o.O5,o.sg,v.A9,v.Yi,Z.SP,Z.uX],pipes:[o.JJ,o.Ts],styles:[".highlight[_ngcontent-%COMP%]{background-color:#e4e5d7!important}.highlight[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#cf0f2a!important}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#aaf5f9 0%,#fdf7cc 100%)}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(x)],a.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,S,Z.Nh,v.vV,n.UX,u.A0,p.lN,h.c,d.ot]]}),e})()},57916:function(e,r,t){t.d(r,{b:function(){return l}});var o=t(5304),a=t(68307),n=t(37716),i=t(5620),s=t(91841),c=t(84889);let l=(()=>{class e{constructor(e,r,t){this.commonService=e,this.http=r,this.errorService=t}saveFineToNinetyTwo(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveDalCreation(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}savePanCreation(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveMaterialTransfer(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveMaterialFromEmployee(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveCashTransactionBetweenEmployee(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}cashTransactionsByCurrentUser(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveMaterialFromOwnerToManager(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveMaterialFromManagerToOwner(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveNitricToFine(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}addTopUpGold(e,r){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+r,{}).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}saveGpTransactions(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,o.K)(this.errorService.serverError),(0,a.b)(e=>{}))}}return e.\u0275fac=function(r){return new(r||e)(n.LFG(i.v),n.LFG(s.eN),n.LFG(c.T))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);