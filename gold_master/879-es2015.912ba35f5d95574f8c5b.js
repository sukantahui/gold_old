"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[879],{19879:function(t,e,a){a.r(e),a.d(e,{AgentSalaryModule:function(){return w}});var r=a(16274),n=a(65543),o=a(24766),i=a(93324),s=a(42741),g=a(75239),u=a(39009),l=a(81608),c=a(80814),Z=a(33103),d=a(67617),p=a(19275),h=a(31749);function m(t,e){if(1&t&&(s.ynx(0),s.TgZ(1,"th",25),s._uU(2),s.qZA(),s.TgZ(3,"td",26),s._uU(4),s.qZA(),s.TgZ(5,"td",26),s._uU(6),s.qZA(),s.TgZ(7,"td",19),s._uU(8),s.ALo(9,"number"),s.qZA(),s.TgZ(10,"td",19),s._uU(11),s.ALo(12,"number"),s.qZA(),s.TgZ(13,"td",19),s._uU(14),s.qZA(),s.TgZ(15,"td",19),s._uU(16),s.ALo(17,"number"),s.qZA(),s.TgZ(18,"td",19),s._uU(19),s.qZA(),s.TgZ(20,"td",19),s._uU(21),s.ALo(22,"currency"),s.qZA(),s.BQk()),2&t){const t=s.oxw(),e=t.index,a=t.$implicit;s.xp6(2),s.Oqu(e+1),s.xp6(2),s.Oqu(a.agent_id),s.xp6(2),s.Oqu(a.agent_name),s.xp6(2),s.Oqu(s.xi3(9,9,a.qty,"1.0")),s.xp6(3),s.Oqu(s.xi3(12,12,a.return_qty,"1.0")),s.xp6(3),s.Oqu(a.salary),s.xp6(2),s.Oqu(s.xi3(17,15,a.ta,"1.0")),s.xp6(3),s.Oqu(a.commission),s.xp6(2),s.Oqu(s.gM2(22,18,a.total_income,"INR","symbol-narrow","4.0-2"))}}function A(t,e){1&t&&(s.TgZ(0,"tr"),s.YNc(1,m,23,23,"ng-container",24),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",!0))}function q(t,e){if(1&t&&(s.TgZ(0,"div",27),s.TgZ(1,"div",28),s.TgZ(2,"div",29),s.TgZ(3,"div",30),s.TgZ(4,"pre"),s._uU(5),s.ALo(6,"json"),s.qZA(),s.qZA(),s._UZ(7,"div",31),s.TgZ(8,"div",30),s.TgZ(9,"pre"),s._uU(10),s.ALo(11,"json"),s.qZA(),s.qZA(),s._UZ(12,"div",30),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.hij("                    selectedAgentIndex = ",s.lcZ(6,2,t.agentSalarySearchForm.value),"\n                "),s.xp6(5),s.hij("                    agentSalaries = ",s.lcZ(11,4,t.agentSalaries),"\n                ")}}const y=[{path:"",component:(()=>{class t{constructor(t){this.agentService=t,this.isProduction=o.N.production,this.year=2022,this.month=1,this.isLoading=!1,this.months=["No Month","January","February","March","April","May","June","July","August","September","October","November","December"],this.grossTotalReturnQuantity=0,this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}},this.agentSalarySearchForm=new i.cw({year:new i.NI(2022),month:new i.NI(5)})}ngOnInit(){}getReport(){this.agentService.getAgentSalaryByYearAndMonth(this.agentSalarySearchForm.get("year").value,this.agentSalarySearchForm.get("month").value).subscribe(t=>{this.agentSalaries=t.data,this.grossTotalIncome=this.agentSalaries.filter(t=>t.total_income>"0").reduce((t,e)=>t+e.total_income,0),this.grossTotalQuantity=this.agentSalaries.filter(t=>t.qty>"0").reduce((t,e)=>t+e.qty,0),this.grossTotalReturnQuantity=this.agentSalaries.filter(t=>t.return_qty>"0").reduce((t,e)=>t+e.return_qty,0)})}saveAgentSalary(){this.agentService.saveAgentSalaryByYearAndMonth(this.agentSalarySearchForm.get("year").value,this.agentSalarySearchForm.get("month").value).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(g.R))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-agent-salary"]],decls:70,vars:23,consts:[["id","agent-wise-sale-report-div"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[3,"formGroup"],["fxLayoutGap","30px",2,"padding-top","10px"],["for","year"],["formControlName","year","mode","decimal","thousandSeparator"," ","inputId","year",3,"showButtons","min","max"],["for","month"],["formControlName","month","mode","decimal","thousandSeparator"," ","inputId","month",3,"showButtons","min","max"],["label","Search","id","search","icon","pi pi-search",3,"loading","click"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printAgentSalaryReportDiv","ngxPrint","",3,"printStyle","useExistingCss"],["id","printAgentSalaryReportDiv"],[1,"text-center"],[1,"no-print"],[1,"table","table-bordered","table-responsive"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-center"],[1,"text-right"],["colspan","1",1,"text-right"],["colspan","3",1,"text-right"],["label","Save Agent Commission for current Month","id","search","icon","pi pi-search",3,"loading","click"],["id","developer-div",4,"ngIf"],[4,"ngIf"],["scope","row"],[1,"text-left"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"mat-card",1),s.TgZ(2,"mat-card-header"),s._UZ(3,"div",2),s.TgZ(4,"mat-card-title"),s._uU(5,"Agent Wise Sale Report"),s.qZA(),s.qZA(),s.TgZ(6,"mat-card-content"),s.TgZ(7,"div",3),s.TgZ(8,"form",4),s.TgZ(9,"div",3),s.TgZ(10,"div",5),s.TgZ(11,"label",6),s._uU(12,"Year"),s.qZA(),s._UZ(13,"p-inputNumber",7),s.qZA(),s.TgZ(14,"div",5),s.TgZ(15,"label",8),s._uU(16,"Month"),s.qZA(),s._UZ(17,"p-inputNumber",9),s.qZA(),s.TgZ(18,"div",5),s.TgZ(19,"p-button",10),s.NdJ("click",function(){return e.getReport()}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"mat-card",1),s.TgZ(21,"div",11),s.TgZ(22,"button",12),s.TgZ(23,"mat-icon"),s._uU(24,"print"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"div",13),s.TgZ(26,"mat-card-header"),s._UZ(27,"div",2),s.TgZ(28,"mat-card-title",14),s._uU(29),s.qZA(),s.qZA(),s.TgZ(30,"mat-card-content"),s._UZ(31,"div",15),s.TgZ(32,"table",16),s.TgZ(33,"thead"),s.TgZ(34,"tr"),s.TgZ(35,"th",14),s._uU(36,"SL"),s.qZA(),s.TgZ(37,"th",14),s._uU(38,"Agent ID"),s.qZA(),s.TgZ(39,"th",14),s._uU(40,"Name"),s.qZA(),s.TgZ(41,"th",14),s._uU(42,"Sale Qty"),s.qZA(),s.TgZ(43,"th",14),s._uU(44,"Return Qty"),s.qZA(),s.TgZ(45,"th",14),s._uU(46,"Salary"),s.qZA(),s.TgZ(47,"th",14),s._uU(48,"TA"),s.qZA(),s.TgZ(49,"th",14),s._uU(50,"Commission"),s.qZA(),s.TgZ(51,"th",14),s._uU(52,"Total Income"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(53,"tbody"),s.YNc(54,A,2,1,"tr",17),s.qZA(),s.TgZ(55,"tfoot"),s.TgZ(56,"tr"),s.TgZ(57,"th",18),s._uU(58,"Total"),s.qZA(),s.TgZ(59,"th",19),s._uU(60),s.qZA(),s.TgZ(61,"th",20),s._uU(62),s.qZA(),s._UZ(63,"th",21),s.TgZ(64,"th",19),s._uU(65),s.ALo(66,"currency"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(67,"div",5),s.TgZ(68,"p-button",22),s.NdJ("click",function(){return e.saveAgentSalary()}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(69,q,13,6,"div",23)),2&t&&(s.xp6(8),s.Q6J("formGroup",e.agentSalarySearchForm),s.xp6(5),s.Q6J("showButtons",!0)("min",2022)("max",2032),s.xp6(4),s.Q6J("showButtons",!0)("min",1)("max",12),s.xp6(2),s.Q6J("loading",e.isLoading),s.xp6(3),s.Q6J("printStyle",e.printDivStyle)("useExistingCss",!0),s.xp6(7),s.AsE("Agent Salary Report: ",e.months[e.agentSalarySearchForm.get("month").value],", ",e.agentSalarySearchForm.get("year").value," "),s.xp6(25),s.Q6J("ngForOf",e.agentSalaries),s.xp6(6),s.Oqu(e.grossTotalQuantity),s.xp6(2),s.Oqu(e.grossTotalReturnQuantity),s.xp6(3),s.Oqu(s.gM2(66,18,e.grossTotalIncome,"INR","symbol-narrow","4.0-2")),s.xp6(3),s.Q6J("loading",e.isLoading),s.xp6(1),s.Q6J("ngIf",!e.isProduction))},directives:[u.a8,u.dk,u.kc,u.n5,u.dn,l.xw,l.Wh,l.SQ,i._Y,i.JL,i.sg,c.Rn,i.JJ,i.u,Z.zx,d.lW,p.I,h.Hw,r.sg,r.O5,l.yH],pipes:[r.H9,r.JJ,r.Ts],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.Bz.forChild(y)],n.Bz]}),t})();var T=a(44113),S=a(10823),f=a(19018),v=a(62397),_=a(70846),b=a(73454),U=a(52514);let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.ez,x,l.ae,u.QW,u.QW,T.FA,S.lN,i.u5,i.UX,f.c,h.Ps,d.ot,Z.hJ,l.ae,h.Ps,v.JX,_.rP,b.pm,p.K,U.xu,c.L$]]}),t})()}}]);