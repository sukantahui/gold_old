"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[373],{10373:function(e,r,t){t.r(r),t.d(r,{SendRawMaterialToEmployeeModule:function(){return I}});var a=t(38583),i=t(63423),o=t(92340),n=t(3679),s=t(88259),l=t.n(s),c=t(37716),p=t(91841),m=t(82820),u=t(57916),g=t(5620),d=t(86640),h=t(98295),v=t(49983),Z=t(51095),T=t(42542),f=t(65939);function b(e,r){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",19),c._uU(4),c.qZA(),c.qZA()),2&e){const e=r.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.Oqu(e.closingBalance)}}function A(e,r){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",19),c._uU(4),c.qZA(),c.qZA()),2&e){const e=r.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.Oqu(e.closingBalance)}}function q(e,r){if(1&e&&(c.TgZ(0,"div",11),c.TgZ(1,"table",12),c.TgZ(2,"thead"),c.TgZ(3,"tr"),c.TgZ(4,"td",13),c._uU(5,"Updated Value"),c.qZA(),c.qZA(),c.TgZ(6,"tr"),c.TgZ(7,"th",14),c._uU(8,"Material Name"),c.qZA(),c.TgZ(9,"th",14),c._uU(10,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"tbody"),c.YNc(12,A,5,2,"tr",15),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(12),c.Q6J("ngForOf",e.savedResponse.data.sender_all_material_balance)}}function S(e,r){if(1&e){const e=c.EpF();c.TgZ(0,"mat-button-toggle-group",20),c.TgZ(1,"mat-button-toggle",21),c.NdJ("click",function(){return c.CHM(e),c.oxw().showDeveloperDiv=!0}),c._uU(2,"Show"),c.qZA(),c.TgZ(3,"mat-button-toggle",21),c.NdJ("click",function(){return c.CHM(e),c.oxw().showDeveloperDiv=!1}),c._uU(4,"Hide"),c.qZA(),c.qZA()}}function w(e,r){if(1&e&&(c.TgZ(0,"pre"),c._uU(1),c.ALo(2,"json"),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij("                    savedResponse = ",c.lcZ(2,1,e.savedResponse.data.sender_all_material_balance),"\n                ")}}function y(e,r){if(1&e&&(c.TgZ(0,"div",22),c.TgZ(1,"div",23),c.TgZ(2,"h2"),c._uU(3,"Developer Area"),c.qZA(),c.TgZ(4,"mat-tab-group",24),c.TgZ(5,"mat-tab",25),c.TgZ(6,"pre"),c._uU(7),c.ALo(8,"json"),c.qZA(),c.qZA(),c.TgZ(9,"mat-tab",26),c.YNc(10,w,3,3,"pre",27),c.qZA(),c.TgZ(11,"mat-tab",28),c.TgZ(12,"pre"),c._uU(13),c.ALo(14,"json"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(7),c.hij("                    materialSendingForm = ",c.lcZ(8,3,e.materialSendingForm.value),"\n                "),c.xp6(3),c.Q6J("ngIf",e.savedResponse),c.xp6(3),c.hij("                    materialBalances = ",c.lcZ(14,5,e.materialBalances),"\n                ")}}const x=[{path:"",component:(()=>{class e{constructor(e,r,t,a,i){this.route=e,this.http=r,this.reportService=t,this.managerService=a,this.commonservice=i,this.isProduction=o.N.production,this.materialBalances=[],this.receverMaterialBalance=[],this.route.data.subscribe(e=>{this.user=e.materialResolver.user.data,console.log(this.user),this.resolverValues=e.materialResolver,this.employees=e.materialResolver.employees.data,this.projectDetails=e.materialResolver.projectDetails,this.rawMaterials=e.materialResolver.rawMaterials.data,this.materialBalances=e.materialResolver.materialBalances.data,this.selectableEmployees=this.employees.filter(e=>this.projectDetails.managerToEmployeeMaterial.employees.find(r=>r===e.employeeId)),this.selectableMaterials=this.rawMaterials.filter(e=>this.projectDetails.managerToEmployeeMaterial.materialsToSend.find(r=>r===e.rmID))}),this.materialSendingForm=new n.cw({outward_employee_id:new n.NI(this.user.employeeId,[n.kI.required]),inward_employee_id:new n.NI(null,[n.kI.required]),rm_id:new n.NI(null,[n.kI.required]),value:new n.NI(0,[n.kI.required])})}ngOnInit(){}saveMaterialTransfer(){l().fire({title:"Send Material",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.saveMaterialTransfer(this.materialSendingForm.value).subscribe(e=>{!0===e.status&&(l().fire({timer:2e3,title:"Saved",text:"Transferred successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e)},e=>{l().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}onEmployeeChange(e){const r=this.materialSendingForm.get("inward_employee_id").value;r&&this.reportService.getMaterialBalanceByEmployee(r).subscribe(e=>{this.receverMaterialBalance=e.data})}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(i.gz),c.Y36(p.eN),c.Y36(m.r),c.Y36(u.b),c.Y36(g.v))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-send-raw-material-to-employee"]],decls:31,vars:8,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","employeeName","bindValue","employeeId","formControlName","inward_employee_id","placeholder","Select Employee",1,"custom",3,"items","click"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","value","placeholder","Material value",1,"text-right"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],[1,"p-2","col-6"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["colspan","2"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"text-right"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],[4,"ngIf"],["label","Sec 3"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"form",2),c.TgZ(3,"ng-select",3),c.NdJ("click",function(e){return r.onEmployeeChange(e)}),c.qZA(),c._UZ(4,"ng-select",4),c.TgZ(5,"div"),c.TgZ(6,"mat-form-field",5),c.TgZ(7,"mat-label"),c._uU(8,"Enter Material Value"),c.qZA(),c._UZ(9,"input",6),c.qZA(),c.qZA(),c.TgZ(10,"div",7),c.TgZ(11,"div",8),c.TgZ(12,"button",9),c.NdJ("click",function(){return r.saveMaterialTransfer()}),c._uU(13,"Save Record"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",10),c.TgZ(15,"div",11),c.TgZ(16,"table",12),c.TgZ(17,"thead"),c.TgZ(18,"tr"),c.TgZ(19,"td",13),c._uU(20,"Previous Value"),c.qZA(),c.qZA(),c.TgZ(21,"tr"),c.TgZ(22,"th",14),c._uU(23,"Material Name"),c.qZA(),c.TgZ(24,"th",14),c._uU(25,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"tbody"),c.YNc(27,b,5,2,"tr",15),c.qZA(),c.qZA(),c.qZA(),c.YNc(28,q,13,1,"div",16),c.qZA(),c.qZA(),c.YNc(29,S,5,0,"mat-button-toggle-group",17),c.YNc(30,y,15,7,"div",18)),2&e&&(c.xp6(2),c.Q6J("formGroup",r.materialSendingForm),c.xp6(1),c.Q6J("items",r.selectableEmployees),c.xp6(1),c.Q6J("items",r.selectableMaterials),c.xp6(8),c.Q6J("disabled",!r.materialSendingForm.valid||r.materialSendingForm.pristine),c.xp6(15),c.Q6J("ngForOf",r.materialBalances),c.xp6(1),c.Q6J("ngIf",r.savedResponse),c.xp6(1),c.Q6J("ngIf",!r.isProduction),c.xp6(1),c.Q6J("ngIf",r.showDeveloperDiv&&!r.isProduction))},directives:[n._Y,n.JL,n.sg,d.w9,n.JJ,n.u,h.KE,h.hX,n.wV,v.Nt,n.Fj,Z.lW,a.sg,a.O5,T.A9,T.Yi,f.SP,f.uX],pipes:[a.Ts],styles:[""]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.Bz.forChild(x)],i.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.ez,_,f.Nh,T.vV,n.UX,d.A0,h.lN,v.c,Z.ot]]}),e})()},57916:function(e,r,t){t.d(r,{b:function(){return c}});var a=t(5304),i=t(68307),o=t(37716),n=t(5620),s=t(91841),l=t(84889);let c=(()=>{class e{constructor(e,r,t){this.commonService=e,this.http=r,this.errorService=t}saveFineToNinetyTwo(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveDalCreation(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}savePanCreation(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialTransfer(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialFromEmployee(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveCashTransactionBetweenEmployee(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}cashTransactionsByCurrentUser(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialFromOwnerToManager(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveMaterialFromManagerToOwner(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveNitricToFine(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}addTopUpGold(e,r){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+r,{}).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}saveGpTransactions(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,a.K)(this.errorService.serverError),(0,i.b)(e=>{}))}}return e.\u0275fac=function(r){return new(r||e)(o.LFG(n.v),o.LFG(s.eN),o.LFG(l.T))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);