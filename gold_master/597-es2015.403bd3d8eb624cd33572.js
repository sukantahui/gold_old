"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[597],{6597:function(t,e,o){o.r(e),o.d(e,{StatusReportModule:function(){return D}});var r=o(8583),a=o(4655),i=o(3679),n=o(7716),d=o(5304),l=o(8307),s=o(5620),c=o(1841),g=o(4889),p=o(5662);let u=(()=>{class t{constructor(t,e,o,r){this.commonService=t,this.http=e,this.errorService=o,this.logger=r}getMaterialReceivedByDate(t,e,o,r){return this.http.get(this.commonService.getAPI()+"/dev/materialReceivedTransactions/total/"+t+"/"+e+"/"+o+"/"+r+"/1").pipe((0,d.K)(this.errorService.serverError),(0,l.b)(t=>{}))}getGoldSendToJobByDateAndEmployee(t,e,o,r){return this.http.get(this.commonService.getAPI()+"/dev/goldSendToJobs/total/"+t+"/"+e+"/"+o+"/"+r).pipe((0,d.K)(this.errorService.serverError),(0,l.b)(t=>{}))}getGoldReceivedFromJobByDateAndEmployee(t,e,o,r){return this.http.get(this.commonService.getAPI()+"/dev/goldReceivedFromJobs/total/"+t+"/"+e+"/"+o+"/"+r).pipe((0,d.K)(this.errorService.serverError),(0,l.b)(t=>{}))}getNitricReceivedFromJobByDateAndEmployee(t,e,o,r){return this.http.get(this.commonService.getAPI()+"/dev/nitricReceivedFromJobs/total/"+t+"/"+e+"/"+o+"/"+r).pipe((0,d.K)(this.errorService.serverError),(0,l.b)(t=>{}))}getBillTotalByDate(t,e){return this.http.get(this.commonService.getAPI()+"/dev/billTotal/total/"+t+"/"+e).pipe((0,d.K)(this.errorService.serverError),(0,l.b)(t=>{}))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(s.v),n.LFG(c.eN),n.LFG(g.T),n.LFG(p.R0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=o(3738),h=o(5618),m=o(8295),v=o(9983),A=o(3220),T=o(6627),y=o(1095);function q(t,e){if(1&t&&(n.TgZ(0,"div",16),n.TgZ(1,"div",17),n.TgZ(2,"div",18),n.TgZ(3,"table",19),n.TgZ(4,"thead"),n.TgZ(5,"tr"),n.TgZ(6,"th",20),n._uU(7),n.ALo(8,"date"),n.ALo(9,"date"),n.qZA(),n.TgZ(10,"th"),n._uU(11),n.qZA(),n.qZA(),n.TgZ(12,"tr"),n.TgZ(13,"th"),n._uU(14,"Particulars"),n.qZA(),n.TgZ(15,"th"),n._uU(16,"Value"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"tbody"),n.TgZ(18,"tr"),n.TgZ(19,"th",21),n._uU(20,"JOB Details"),n.qZA(),n.qZA(),n.TgZ(21,"tr"),n.TgZ(22,"th"),n._uU(23,"Send to Job"),n.qZA(),n.TgZ(24,"td",22),n._uU(25),n.qZA(),n.qZA(),n.TgZ(26,"tr"),n.TgZ(27,"th"),n._uU(28,"Mathakata"),n.qZA(),n.TgZ(29,"td",22),n._uU(30),n.qZA(),n.qZA(),n.TgZ(31,"tr"),n.TgZ(32,"th"),n._uU(33,"Nitric"),n.qZA(),n.TgZ(34,"td",22),n._uU(35),n.qZA(),n.qZA(),n.TgZ(36,"tr"),n.TgZ(37,"th",21),n._uU(38,"Bill Details"),n.qZA(),n.qZA(),n.TgZ(39,"tr"),n.TgZ(40,"th"),n._uU(41,"P Loss"),n.qZA(),n.TgZ(42,"td",22),n._uU(43),n.qZA(),n.qZA(),n.TgZ(44,"tr"),n.TgZ(45,"th"),n._uU(46,"Labour Charge"),n.qZA(),n.TgZ(47,"td",22),n._uU(48),n.ALo(49,"currency"),n.qZA(),n.qZA(),n.TgZ(50,"tr"),n.TgZ(51,"th"),n._uU(52,"Guinea Gold"),n.qZA(),n.TgZ(53,"td",22),n._uU(54),n.qZA(),n.qZA(),n.TgZ(55,"tr"),n.TgZ(56,"th"),n._uU(57,"Fine Gold"),n.qZA(),n.TgZ(58,"td",22),n._uU(59),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(60,"div",23),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(7),n.AsE("Gold Received Between ",n.xi3(8,10,t.startDate,"dd/MM/yyyy")," and ",n.xi3(9,13,t.endDate,"dd/MM/yyyy"),""),n.xp6(4),n.hij("",t.totalGoldReceived," gm."),n.xp6(14),n.hij("",t.totalGoldSendToJob," gm."),n.xp6(5),n.hij("",t.totalGoldReceivedFromJob," gm."),n.xp6(5),n.hij("",t.totalNitricReceivedFromJob," gm."),n.xp6(8),n.hij("",t.billTotal.ploss," gm."),n.xp6(5),n.Oqu(n.Dn7(49,16,t.billTotal.lc,"INR",!0)),n.xp6(6),n.Oqu(t.billTotal.guinea_gold),n.xp6(5),n.Oqu(t.billTotal.fine_gold)}}function f(t,e){if(1&t&&(n.TgZ(0,"div",24),n.TgZ(1,"pre"),n._uU(2),n.ALo(3,"json"),n.qZA(),n.TgZ(4,"pre"),n._uU(5),n.ALo(6,"json"),n.ALo(7,"json"),n.qZA(),n.TgZ(8,"pre"),n._uU(9),n.ALo(10,"json"),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(2),n.hij("        statusReportForm = ",n.lcZ(3,4,t.statusReportForm.value),"\n    "),n.xp6(3),n.AsE("        startDate = ",n.lcZ(6,6,t.startDate),"\n        endDate = ",n.lcZ(7,8,t.endDate),"\n    "),n.xp6(4),n.hij("        totalGoldReceived = ",n.lcZ(10,10,t.totalGoldReceived),"\n    ")}}const b=[{path:"",component:(()=>{class t{constructor(t){this.statusReportService=t,this.reportCount=0,this.billTotal={ploss:0,lc:0,mv:0,fine_gold:0,guinea_gold:0};const e=new Date,o=(0,r.p6)(e,"yyyy-MM-dd","en");this.startDate=(0,r.p6)(e,"yyyy-MM-dd","en"),this.endDate=(0,r.p6)(e,"yyyy-MM-dd","en"),this.statusReportForm=new i.cw({start_date:new i.NI(o),end_date:new i.NI(o)})}ngOnInit(){}dateInputEvent(t){}startDateChangeEvent(t){this.startDate=(0,r.p6)(new Date(t.value),"yyyy-MM-dd","en")}endDateChangeEvent(t){this.endDate=(0,r.p6)(new Date(t.value),"yyyy-MM-dd","en")}getReport(){this.statusReportService.getMaterialReceivedByDate(this.startDate,this.endDate,48,70).subscribe(t=>{this.totalGoldReceived=t.data,this.reportCount++,console.log("Total Received Gold",t)},t=>{console.log(t)}),this.statusReportService.getGoldSendToJobByDateAndEmployee(this.startDate,this.endDate,48,70).subscribe(t=>{this.totalGoldSendToJob=t.data,this.reportCount++,console.log("Total Gold Send to job",t)},t=>{console.log(t)}),this.statusReportService.getGoldReceivedFromJobByDateAndEmployee(this.startDate,this.endDate,48,70).subscribe(t=>{this.totalGoldReceivedFromJob=t.data,this.reportCount++,console.log("Total Gold Received from job",t)},t=>{console.log(t)}),this.statusReportService.getNitricReceivedFromJobByDateAndEmployee(this.startDate,this.endDate,45,70).subscribe(t=>{this.totalNitricReceivedFromJob=t.data,this.reportCount++,console.log("Nitric Received from Job",t)},t=>{console.log(t)}),this.statusReportService.getBillTotalByDate(this.startDate,this.endDate).subscribe(t=>{this.billTotal=t.data,this.reportCount++,console.log("Bill Total",t)},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-status-report"]],decls:33,vars:7,consts:[["id","status-report-div"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[3,"formGroup"],["fxFlex","30",1,"example-full-width"],["matInput","","formControlName","start_date","placeholder","dd/mm/yyyy",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["startDatePicker",""],["matInput","","formControlName","end_date","placeholder","dd/mm/yyyy",3,"matDatepicker","dateInput","dateChange"],["endDatePicker",""],["fxFlex","30",1,"example-button-row"],["mat-button","","color","primary",3,"click"],["id","report-area",4,"ngIf"],["id","developer-div",4,"ngIf"],["id","report-area"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight","col-8"],[1,"table"],["colspan","3"],["colspan","2",1,"text-center"],[1,"text-right"],[1,"d-flex","col-4","flex-row","bd-highlight","mb-3"],["id","developer-div"]],template:function(t,e){if(1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"mat-card",1),n.TgZ(2,"mat-card-header"),n._UZ(3,"div",2),n.TgZ(4,"mat-card-title"),n._uU(5,"Working Status Report"),n.qZA(),n.qZA(),n.TgZ(6,"mat-card-content"),n.TgZ(7,"div",3),n.TgZ(8,"form",4),n.TgZ(9,"div",3),n.TgZ(10,"mat-form-field",5),n.TgZ(11,"mat-label"),n._uU(12,"Start date (dd/mm/yyyy)"),n.qZA(),n.TgZ(13,"input",6),n.NdJ("dateChange",function(t){return e.startDateChangeEvent(t)}),n.qZA(),n.TgZ(14,"mat-datepicker-toggle",7),n.TgZ(15,"mat-icon",8),n._uU(16,"keyboard_arrow_down"),n.qZA(),n.qZA(),n._UZ(17,"mat-datepicker",null,9),n.qZA(),n.TgZ(19,"mat-form-field",5),n.TgZ(20,"mat-label"),n._uU(21,"End date (dd/mm/yyyy)"),n.qZA(),n.TgZ(22,"input",10),n.NdJ("dateInput",function(t){return e.dateInputEvent(t)})("dateChange",function(t){return e.endDateChangeEvent(t)}),n.qZA(),n.TgZ(23,"mat-datepicker-toggle",7),n.TgZ(24,"mat-icon",8),n._uU(25,"keyboard_arrow_down"),n.qZA(),n.qZA(),n._UZ(26,"mat-datepicker",null,11),n.qZA(),n.TgZ(28,"div",12),n.TgZ(29,"button",13),n.NdJ("click",function(){return e.getReport()}),n._uU(30,"Search"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(31,q,61,20,"div",14),n.qZA(),n.YNc(32,f,11,12,"div",15)),2&t){const t=n.MAs(18),o=n.MAs(27);n.xp6(8),n.Q6J("formGroup",e.statusReportForm),n.xp6(5),n.Q6J("matDatepicker",t),n.xp6(1),n.Q6J("for",t),n.xp6(8),n.Q6J("matDatepicker",o),n.xp6(1),n.Q6J("for",o),n.xp6(8),n.Q6J("ngIf",e.reportCount>0),n.xp6(1),n.Q6J("ngIf",!1)}},directives:[Z.a8,Z.dk,Z.kc,Z.n5,Z.dn,h.xw,h.Wh,h.SQ,i._Y,i.JL,i.sg,m.KE,h.yH,m.hX,v.Nt,i.Fj,A.hl,i.JJ,i.u,A.nW,m.R9,T.Hw,A.Q0,A.Mq,y.lW,r.O5],pipes:[r.uU,r.H9,r.Ts],styles:["#status-report-div[_ngcontent-%COMP%]{min-height:100vh;width:100vw;padding-left:35px;padding-right:65px}#developer-div[_ngcontent-%COMP%]{padding-left:35px;padding-right:65px}"]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[a.Bz.forChild(b)],a.Bz]}),t})();var _=o(2458);let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:_.Ad,useValue:"en-GB"}],imports:[[r.ez,x,Z.QW,A.FA,m.lN,i.u5,i.UX,_.XK,v.c,T.Ps,y.ot,h.ae]]}),t})()}}]);