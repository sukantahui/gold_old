!function(){"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,"symbol"==typeof(a=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(o,"string"))?a:String(a)),n)}var o,a}function t(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8063],{8063:function(r,n,o){o.r(n),o.d(n,{MaterialToManagerModule:function(){return P}});var a=o(38583),i=o(63423),l=o(92340),c=o(88259),u=o.n(c),s=o(3679),g=o(37716),m=o(91841),p=o(57916),f=o(86640),v=o(98295),h=o(49983),d=o(51095),Z=o(42542),T=o(65939);function b(e,r){1&e&&(g.TgZ(0,"mat-error"),g._uU(1," Material is required "),g.qZA())}function A(e,r){1&e&&(g.TgZ(0,"mat-error"),g._uU(1," Quantity is required "),g.qZA())}function w(e,r){1&e&&(g.TgZ(0,"mat-error"),g._uU(1," Must be at least 0.001 "),g.qZA())}function q(e,r){1&e&&(g.TgZ(0,"span"),g._uU(1,"\u09aa\u09b0\u09bf\u09ac\u09b0\u09cd\u09a4\u09a8\u09c7\u09b0 \u09aa\u09b0\u09c7"),g.qZA())}function M(e,r){1&e&&(g.TgZ(0,"span"),g._uU(1,"\u27a1"),g.qZA())}function x(e,r){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g.YNc(2,M,2,0,"span",4),g._uU(3),g.qZA(),g.TgZ(4,"td",22),g._uU(5),g.ALo(6,"number"),g.qZA(),g.qZA()),2&e){var t,n,o=r.$implicit,a=g.oxw(2);g.ekj("highlight",o.rmId===(null==(t=a.ownerToMangerForm.get("rm_id"))?null:t.value)),g.xp6(2),g.Q6J("ngIf",o.rmId===(null==(n=a.ownerToMangerForm.get("rm_id"))?null:n.value)),g.xp6(1),g.hij(" ",o.rawMaterialName," "),g.xp6(2),g.Oqu(g.xi3(6,5,o.closingBalance,"1.3-3"))}}function y(e,r){if(1&e&&(g.TgZ(0,"div",17),g.TgZ(1,"table",18),g.TgZ(2,"thead"),g.TgZ(3,"tr"),g.TgZ(4,"th",19),g._uU(5,"Manager Balance "),g.YNc(6,q,2,0,"span",4),g.qZA(),g.qZA(),g.TgZ(7,"tr"),g.TgZ(8,"th",20),g._uU(9,"Material Name"),g.qZA(),g.TgZ(10,"th",20),g._uU(11,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"tbody"),g.YNc(13,x,7,8,"tr",21),g.qZA(),g.qZA(),g.qZA()),2&e){var t=g.oxw();g.xp6(6),g.Q6J("ngIf",t.savedResponse),g.xp6(7),g.Q6J("ngForOf",t.managerMaterialBalanceUpdated)}}function _(e,r){1&e&&(g.TgZ(0,"span"),g._uU(1,"\u098f\u0996\u09a8\u0995\u09be\u09b0"),g.qZA())}function F(e,r){1&e&&(g.TgZ(0,"span"),g._uU(1,"\u0986\u0997\u09c7\u09b0"),g.qZA())}function S(e,r){1&e&&(g.TgZ(0,"span"),g._uU(1,"\u27a1"),g.qZA())}function I(e,r){if(1&e){var t=g.EpF();g.TgZ(0,"tr",26),g.NdJ("click",function(){g.CHM(t);var e=g.oxw().$implicit;return g.oxw(2).selectMaterial(e)}),g.TgZ(1,"td"),g.YNc(2,S,2,0,"span",4),g._uU(3),g.qZA(),g.TgZ(4,"td",22),g._uU(5),g.ALo(6,"number"),g.qZA(),g.qZA()}if(2&e){var n,o,a=g.oxw().$implicit,i=g.oxw(2);g.ekj("highlight",a.rmId===(null==(n=i.ownerToMangerForm.get("rm_id"))?null:n.value)),g.xp6(2),g.Q6J("ngIf",a.rmId===(null==(o=i.ownerToMangerForm.get("rm_id"))?null:o.value)),g.xp6(1),g.hij(" ",a.rawMaterialName," "),g.xp6(2),g.Oqu(g.xi3(6,5,a.closingBalance,"1.3-3"))}}function k(e,r){if(1&e&&(g.ynx(0),g.YNc(1,I,7,8,"tr",25),g.BQk()),2&e){var t,n=r.$implicit,o=g.oxw(2);g.xp6(1),g.Q6J("ngIf",0!==n.closingBalance||n.rmId===(null==(t=o.ownerToMangerForm.get("rm_id"))?null:t.value))}}function N(e,r){if(1&e&&(g.TgZ(0,"div",17),g.TgZ(1,"table",23),g.TgZ(2,"thead"),g.TgZ(3,"tr"),g.TgZ(4,"th",19),g._uU(5,"Manager Balance "),g.YNc(6,_,2,0,"span",4),g.YNc(7,F,2,0,"span",4),g.qZA(),g.qZA(),g.TgZ(8,"tr"),g.TgZ(9,"th",20),g._uU(10,"Material Name"),g.qZA(),g.TgZ(11,"th",20),g._uU(12,"Value"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"tbody"),g.YNc(14,k,2,1,"ng-container",24),g.qZA(),g.qZA(),g.qZA()),2&e){var t=g.oxw();g.xp6(6),g.Q6J("ngIf",!t.savedResponse),g.xp6(1),g.Q6J("ngIf",t.savedResponse),g.xp6(7),g.Q6J("ngForOf",t.managerMaterialBalance)}}function U(e,r){if(1&e){var t=g.EpF();g.TgZ(0,"mat-button-toggle-group",27),g.TgZ(1,"mat-button-toggle",26),g.NdJ("click",function(){return g.CHM(t),g.oxw().showDeveloperDiv=!0}),g._uU(2,"Show"),g.qZA(),g.TgZ(3,"mat-button-toggle",26),g.NdJ("click",function(){return g.CHM(t),g.oxw().showDeveloperDiv=!1}),g._uU(4,"Hide"),g.qZA(),g.qZA()}}function B(e,r){if(1&e&&(g.TgZ(0,"div",28),g.TgZ(1,"div",29),g.TgZ(2,"h2"),g._uU(3,"Developer Area"),g.qZA(),g.TgZ(4,"mat-tab-group",30),g.TgZ(5,"mat-tab",31),g.TgZ(6,"pre"),g._uU(7),g.ALo(8,"json"),g.qZA(),g.qZA(),g.TgZ(9,"mat-tab",32),g.TgZ(10,"pre"),g._uU(11),g.ALo(12,"json"),g.qZA(),g.qZA(),g.TgZ(13,"mat-tab",33),g.TgZ(14,"pre"),g._uU(15,"\n                "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var t=g.oxw();g.xp6(7),g.hij("                    updatedMaterialBalance = ",g.lcZ(8,2,t.managerMaterialBalance),"\n                "),g.xp6(4),g.hij("                    ownerToMangerForm=",g.lcZ(12,4,t.ownerToMangerForm.value),"\n                ")}}var J,C=[{path:"",component:(J=function(){function r(t,n,o){var a=this;e(this,r),this.route=t,this.http=n,this.managerService=o,this.isProduction=l.N.production,this.showDeveloperDiv=!0,this.route.data.subscribe(function(e){a.materials=e.materialResolver.rawMaterials.data,a.managerMaterialBalance=e.materialResolver.managerMaterialBalance.data}),this.ownerToMangerForm=new s.cw({rm_id:new s.NI(null,[s.kI.required]),value:new s.NI({value:0,disabled:!1},[s.kI.required,s.kI.min(.001)])})}return t(r,[{key:"ngOnInit",value:function(){}},{key:"resetForm",value:function(){this.ownerToMangerForm.reset({rm_id:null,value:{value:0,disabled:!1}}),this.ownerToMangerForm.enable(),this.managerMaterialBalance=this.managerMaterialBalanceUpdated,this.savedResponse=null}},{key:"saveTransfer",value:function(){var e=this;u().fire({title:"From owner to Manager",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Transfer",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(function(r){if(r.value){if(e.ownerToMangerForm.invalid)return void e.ownerToMangerForm.markAllAsTouched();e.managerService.saveMaterialFromOwnerToManager(e.ownerToMangerForm.value).subscribe(function(r){!0===r.status&&(u().fire({timer:2e3,title:"Saved",text:"Transferred successfully to Manager",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),e.savedResponse=r,e.managerMaterialBalanceUpdated=r.data.manager_all_material_balance,e.ownerToMangerForm.disable())},function(e){u().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})}})}},{key:"selectMaterial",value:function(e){this.ownerToMangerForm.patchValue({rm_id:e.rmId})}}]),r}(),J.\u0275fac=function(e){return new(e||J)(g.Y36(i.gz),g.Y36(m.eN),g.Y36(p.b))},J.\u0275cmp=g.Xpm({type:J,selectors:[["app-material-to-manager"]],decls:32,vars:10,consts:[[1,"d-flex","flex-row","gradient-bg",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],[4,"ngIf"],[1,"example-full-width"],["type","number","min","0.001","step","1.000","matInput","","formControlName","value","placeholder","Material",1,"text-right"],["silverValue",""],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex"],["class","p-2 col-6",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"p-2","col-6"],[1,"table","table-success","table-striped","col-xl-12","col-lg-12","col-xs-12"],["colspan","2"],["scope","col"],[3,"highlight",4,"ngFor","ngForOf"],[1,"text-right"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],[4,"ngFor","ngForOf"],[3,"highlight","click",4,"ngIf"],[3,"click"],["name","fontStyle","aria-label","Font Style"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,r){var t,n,o;1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2"),g._uU(3,"Sending from Owner to Manager"),g.qZA(),g.TgZ(4,"h5"),g._uU(5,"\u09b6\u09c1\u09a7\u09c1\u09ae\u09be\u09a4\u09cd\u09b0 \u09ae\u09be\u09b2\u09bf\u0995 \u09ae\u09cd\u09af\u09be\u09a8\u09c7\u099c\u09be\u09b0\u0995\u09c7 \u09af\u09c7 \u0995\u09cb\u09a8 \u09ae\u09c7\u099f\u09be\u09b2 \u09a6\u09c7\u0993\u09df\u09be\u09b0 \u099c\u09be\u09df\u0997\u09be"),g.qZA(),g._UZ(6,"hr"),g.TgZ(7,"form",2),g._UZ(8,"ng-select",3),g.YNc(9,b,2,0,"mat-error",4),g.TgZ(10,"div"),g.TgZ(11,"mat-form-field",5),g.TgZ(12,"mat-label"),g._uU(13,"Enter Quantity"),g.qZA(),g._UZ(14,"input",6,7),g.qZA(),g.YNc(16,A,2,0,"mat-error",4),g.YNc(17,w,2,0,"mat-error",4),g.qZA(),g.TgZ(18,"div",8),g.TgZ(19,"div",9),g.TgZ(20,"div",10),g.TgZ(21,"button",11),g.NdJ("click",function(){return r.resetForm()}),g._uU(22,"Reset"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(23,"div",9),g.TgZ(24,"div",10),g.TgZ(25,"button",12),g.NdJ("click",function(){return r.saveTransfer()}),g._uU(26,"Save Record"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",13),g.YNc(28,y,14,2,"div",14),g.YNc(29,N,15,3,"div",14),g.qZA(),g.qZA(),g.YNc(30,U,5,0,"mat-button-toggle-group",15),g.YNc(31,B,16,6,"div",16)),2&e&&(g.xp6(7),g.Q6J("formGroup",r.ownerToMangerForm),g.xp6(1),g.Q6J("items",r.materials),g.xp6(1),g.Q6J("ngIf",null==(t=r.ownerToMangerForm.get("rm_id"))?null:t.hasError("required")),g.xp6(7),g.Q6J("ngIf",null==(n=r.ownerToMangerForm.get("value"))?null:n.hasError("required")),g.xp6(1),g.Q6J("ngIf",null==(o=r.ownerToMangerForm.get("value"))?null:o.hasError("min")),g.xp6(8),g.Q6J("disabled",!r.ownerToMangerForm.valid||r.ownerToMangerForm.pristine),g.xp6(3),g.Q6J("ngIf",r.savedResponse),g.xp6(1),g.Q6J("ngIf",r.managerMaterialBalance),g.xp6(1),g.Q6J("ngIf",!r.isProduction),g.xp6(1),g.Q6J("ngIf",r.showDeveloperDiv&&!r.isProduction))},directives:[s._Y,s.JL,s.sg,f.w9,s.JJ,s.u,a.O5,v.KE,v.hX,s.qQ,s.wV,h.Nt,s.Fj,d.lW,v.TO,a.sg,Z.A9,Z.Yi,T.SP,T.uX],pipes:[a.JJ,a.Ts],styles:[".highlight[_ngcontent-%COMP%]{background-color:#e4e5d7!important}.highlight[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#cf0f2a!important}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9f9f9 0%,#fdedd0 100%)}"]}),J)}],E=function(){var r=t(function r(){e(this,r)});return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[[i.Bz.forChild(C)],i.Bz]}),r}(),P=function(){var r=t(function r(){e(this,r)});return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[[a.ez,E,T.Nh,Z.vV,s.UX,f.A0,v.lN,h.c,d.ot]]}),r}()},57916:function(r,n,o){o.d(n,{b:function(){return m}});var a,i=o(5304),l=o(68307),c=o(37716),u=o(5620),s=o(91841),g=o(84889),m=((a=function(){function r(t,n,o){e(this,r),this.commonService=t,this.http=n,this.errorService=o}return t(r,[{key:"saveFineToNinetyTwo",value:function(e){return this.http.post(this.commonService.getAPI()+"/fineTwoNinetyTwo",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveDalCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/dalCreation",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"savePanCreation",value:function(e){return this.http.post(this.commonService.getAPI()+"/panCreation",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialTransfer",value:function(e){return this.http.post(this.commonService.getAPI()+"/matBetweenEmployees",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialFromEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromEmployee",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveCashTransactionBetweenEmployee",value:function(e){return this.http.post(this.commonService.getAPI()+"/cashTransactionBetweenEmployee",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"cashTransactionsByCurrentUser",value:function(){return this.http.get(this.commonService.getAPI()+"/cahTransactionsByCurrentEmployee").pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialFromOwnerToManager",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromOwnerToManager",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveMaterialFromManagerToOwner",value:function(e){return this.http.post(this.commonService.getAPI()+"/materialFromManagerToOwner",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveNitricToFine",value:function(e){return this.http.post(this.commonService.getAPI()+"/nitricToFine",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"addTopUpGold",value:function(e,r){return this.http.put(this.commonService.getAPI()+"/topUpGold/"+e+"/"+r,{}).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}},{key:"saveGpTransactions",value:function(e){return this.http.post(this.commonService.getAPI()+"/gpTransactions",e).pipe((0,i.K)(this.errorService.serverError),(0,l.b)(function(e){}))}}]),r}()).\u0275fac=function(e){return new(e||a)(c.LFG(u.v),c.LFG(s.eN),c.LFG(g.T))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)}}])}();