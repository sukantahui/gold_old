"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[8515],{8515:function(e,t,n){n.r(t),n.d(t,{DalCreationModule:function(){return k}});var o=n(38583),a=n(63423),i=n(92340),r=n(3679),l=n(88259),s=n.n(l),u=n(37716),c=n(91841),d=n(57916),p=n(86640),g=n(98295),Z=n(49983),m=n(51095),v=n(42542),h=n(65939);function f(e,t){1&e&&(u.TgZ(0,"h2"),u._uU(1,"Previous balance"),u.qZA())}function b(e,t){1&e&&(u.TgZ(0,"h2"),u._uU(1,"Current balance"),u.qZA())}function q(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(e.rawMaterialName),u.xp6(2),u.Oqu(e.closingBalance)}}function T(e,t){1&e&&(u.TgZ(0,"h2"),u._uU(1,"Current balance"),u.qZA())}function A(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(e.rawMaterialName),u.xp6(2),u.Oqu(e.closingBalance)}}function _(e,t){if(1&e&&(u.TgZ(0,"div",1),u.YNc(1,T,2,0,"h2",15),u.TgZ(2,"table",16),u.TgZ(3,"thead"),u.TgZ(4,"tr"),u.TgZ(5,"th",17),u._uU(6,"Material Name"),u.qZA(),u.TgZ(7,"th",17),u._uU(8,"Value"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"tbody"),u.YNc(10,A,5,2,"tr",18),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.savedResponse),u.xp6(9),u.Q6J("ngForOf",e.savedResponse.data.material_balance)}}function C(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"mat-button-toggle-group",22),u.TgZ(1,"mat-button-toggle",23),u.NdJ("click",function(){return u.CHM(e),u.oxw().showDeveloperDiv=!0}),u._uU(2,"Show"),u.qZA(),u.TgZ(3,"mat-button-toggle",23),u.NdJ("click",function(){return u.CHM(e),u.oxw().showDeveloperDiv=!1}),u._uU(4,"Hide"),u.qZA(),u.qZA()}}function x(e,t){if(1&e&&(u.TgZ(0,"div",24),u.TgZ(1,"div",25),u.TgZ(2,"h2"),u._uU(3,"Developer Area"),u.qZA(),u.TgZ(4,"mat-tab-group",26),u.TgZ(5,"mat-tab",27),u.TgZ(6,"pre"),u._uU(7),u.ALo(8,"json"),u.qZA(),u.qZA(),u.TgZ(9,"mat-tab",28),u.TgZ(10,"pre"),u._uU(11),u.ALo(12,"json"),u.qZA(),u.qZA(),u.TgZ(13,"mat-tab",29),u.TgZ(14,"pre"),u._uU(15),u.ALo(16,"json"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(7),u.hij("                    dalConversionForm = ",u.lcZ(8,3,e.dalConversionForm.value),"\n                "),u.xp6(4),u.hij("                    savedResponse=",u.lcZ(12,5,e.savedResponse),"\n                "),u.xp6(4),u.hij("                    this.dalCreationRation = ",u.lcZ(16,7,e.dalCreationRation),"\n                ")}}const w=[{path:"",component:(()=>{class e{constructor(e,t,n){this.route=e,this.http=t,this.managerService=n,this.isProduction=i.N.production,this.showDeveloperDiv=!1,this.route.data.subscribe(e=>{this.materialBalance=e.fineToNinetyTwoResolver.materialBalance.data,this.user=e.fineToNinetyTwoResolver.user,this.karigars=e.fineToNinetyTwoResolver.karigars.data}),this.http.get("assets/projectDetails.json").subscribe(e=>{this.projectDetails=e,this.dalCreationRation=this.projectDetails.dalCreationRation}),this.dalConversionForm=new r.cw({employee_id:new r.NI(this.user.emp_id,[r.kI.required]),karigar_id:new r.NI(null,[r.kI.required]),silver_id:new r.NI(38,[r.kI.required]),copper_id:new r.NI(37,[r.kI.required]),zinc_id:new r.NI(39,[r.kI.required]),dal_id:new r.NI(33,[r.kI.required]),silver_value:new r.NI(0,[r.kI.required]),copper_value:new r.NI({value:0,disables:!1},[r.kI.required]),zinc_value:new r.NI({value:0,disables:!1},[r.kI.required]),dal_value:new r.NI({value:0,disabled:!1},[r.kI.required,r.kI.min(.001)])})}ngOnInit(){}onSilverChange(e){const t=(Number(e.value)*this.dalCreationRation.copperToSilverRatio).toFixed(3);this.dalConversionForm.patchValue({copper_value:t});const n=(Number(e.value)*this.dalCreationRation.zincToSilver).toFixed(3);this.dalConversionForm.patchValue({zinc_value:n});const o=(Number(e.value)*this.dalCreationRation.dalToSilverRatio).toFixed(3);this.dalConversionForm.patchValue({dal_value:o})}resetForm(){this.savedResponse&&(this.materialBalance=this.savedResponse.data.material_balance,this.savedResponse=null),this.dalConversionForm.reset()}saveDalConversion(){s().fire({title:"Dal Creation",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.saveDalCreation(this.dalConversionForm.value).subscribe(e=>{!0===e.status&&(s().fire({timer:2e3,title:"Saved",text:"Converted successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e)},e=>{s().fire({title:e.message,text:"Conversion unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(a.gz),u.Y36(c.eN),u.Y36(d.b))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-dal-creation"]],decls:49,vars:9,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","emp_name","bindValue","emp_id","formControlName","karigar_id","placeholder","Select karigar",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","silver_value","placeholder","Silver",1,"text-right",3,"keyup"],["silverValue",""],["type","number","matInput","","formControlName","copper_value","placeholder","Copper",1,"text-right"],["type","number","matInput","","formControlName","zinc_value","placeholder","Zinc",1,"text-right"],["type","number","matInput","","formControlName","dal_value","placeholder","Dal",1,"text-right"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"click"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[4,"ngIf"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-4",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"form",2),u._UZ(3,"ng-select",3),u.TgZ(4,"div"),u.TgZ(5,"mat-form-field",4),u.TgZ(6,"mat-label"),u._uU(7,"Enter Silver"),u.qZA(),u.TgZ(8,"input",5,6),u.NdJ("keyup",function(){u.CHM(e);const n=u.MAs(9);return t.onSilverChange(n)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div"),u.TgZ(11,"mat-form-field",4),u.TgZ(12,"mat-label"),u._uU(13,"Enter Copper"),u.qZA(),u._UZ(14,"input",7),u.qZA(),u.qZA(),u.TgZ(15,"div"),u.TgZ(16,"mat-form-field",4),u.TgZ(17,"mat-label"),u._uU(18,"Enter Zinc"),u.qZA(),u._UZ(19,"input",8),u.qZA(),u.qZA(),u.TgZ(20,"div"),u.TgZ(21,"mat-form-field",4),u.TgZ(22,"mat-label"),u._uU(23,"Dal Valuation"),u.qZA(),u._UZ(24,"input",9),u.qZA(),u.qZA(),u.TgZ(25,"div",10),u.TgZ(26,"div",11),u.TgZ(27,"div",12),u.TgZ(28,"button",13),u.NdJ("click",function(){return t.resetForm()}),u._uU(29,"Reset"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"div",11),u.TgZ(31,"div",12),u.TgZ(32,"button",14),u.NdJ("click",function(){return t.saveDalConversion()}),u._uU(33,"Save Record"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"div",1),u.YNc(35,f,2,0,"h2",15),u.YNc(36,b,2,0,"h2",15),u.TgZ(37,"table",16),u.TgZ(38,"thead"),u.TgZ(39,"tr"),u.TgZ(40,"th",17),u._uU(41,"Material Name"),u.qZA(),u.TgZ(42,"th",17),u._uU(43,"Value"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(44,"tbody"),u.YNc(45,q,5,2,"tr",18),u.qZA(),u.qZA(),u.qZA(),u.YNc(46,_,11,2,"div",19),u.qZA(),u.YNc(47,C,5,0,"mat-button-toggle-group",20),u.YNc(48,x,17,9,"div",21)}2&e&&(u.xp6(2),u.Q6J("formGroup",t.dalConversionForm),u.xp6(1),u.Q6J("items",t.karigars),u.xp6(29),u.Q6J("disabled",!t.dalConversionForm.valid||t.dalConversionForm.pristine),u.xp6(3),u.Q6J("ngIf",t.savedResponse),u.xp6(1),u.Q6J("ngIf",!t.savedResponse),u.xp6(9),u.Q6J("ngForOf",t.materialBalance),u.xp6(1),u.Q6J("ngIf",t.savedResponse),u.xp6(1),u.Q6J("ngIf",!t.isProduction),u.xp6(1),u.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[r._Y,r.JL,r.sg,p.w9,r.JJ,r.u,g.KE,g.hX,r.wV,Z.Nt,r.Fj,m.lW,o.O5,o.sg,v.A9,v.Yi,h.SP,h.uX],pipes:[o.Ts],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[a.Bz.forChild(w)],a.Bz]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,N,g.lN,r.UX,Z.c,v.vV,h.Nh,p.A0,m.ot]]}),e})()}}]);