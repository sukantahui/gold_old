!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[37],{38037:function(n,i,c){c.r(i),c.d(i,{AgentWiseCustomerReportModule:function(){return Y}});var u=c(38583),o=c(63423),r=c(92340),a=c(37716),d=c(37825),g=c(5620),s=c(35618),Z=c(93738),l=c(51095),p=c(95913),A=c(76627);function q(e,t){if(1&e){var n=a.EpF();a.TgZ(0,"a",20),a.NdJ("click",function(){a.CHM(n);var e=a.oxw(),t=e.$implicit,i=e.index;return a.oxw(2).agentSelected(t,i)}),a.TgZ(1,"mat-icon"),a._uU(2,"gps_not_fixed"),a.qZA(),a.qZA()}}function x(e,t){1&e&&(a.TgZ(0,"a",21),a.TgZ(1,"mat-icon"),a._uU(2,"gps_fixed"),a.qZA(),a.qZA())}function m(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td",16),a._uU(8),a.ALo(9,"number"),a.qZA(),a.TgZ(10,"td",16),a._uU(11),a.qZA(),a.TgZ(12,"td",17),a.YNc(13,q,3,0,"a",18),a.YNc(14,x,3,0,"a",19),a.qZA(),a.qZA()),2&e){var n=t.$implicit,i=t.index,c=a.oxw(2);a.xp6(2),a.Oqu(i+1),a.xp6(2),a.Oqu(n.agent_id),a.xp6(2),a.Oqu(n.agent_name),a.xp6(2),a.Oqu(a.xi3(9,7,n.gold_due,"1.3")),a.xp6(3),a.Oqu(n.lc_due),a.xp6(2),a.Q6J("ngIf",c.selectedAgentIndex!=i),a.xp6(1),a.Q6J("ngIf",c.selectedAgentIndex==i)}}function _(e,t){if(1&e){var n=a.EpF();a.TgZ(0,"a",20),a.NdJ("click",function(){return a.CHM(n),a.oxw(2).agentSelected(null,-1)}),a.TgZ(1,"mat-icon"),a._uU(2,"gps_not_fixed"),a.qZA(),a.qZA()}}function f(e,t){1&e&&(a.TgZ(0,"a",21),a.TgZ(1,"mat-icon"),a._uU(2,"gps_fixed"),a.qZA(),a.qZA())}function T(e,t){if(1&e&&(a.TgZ(0,"div",13),a.TgZ(1,"h3"),a._uU(2,"Agent List"),a.qZA(),a.TgZ(3,"table",14),a.TgZ(4,"thead"),a.TgZ(5,"tr"),a.TgZ(6,"th"),a._uU(7,"SL"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"Agent ID"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"Agent Name"),a.qZA(),a.TgZ(12,"th"),a._uU(13,"Gold"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"LC"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"tbody"),a.YNc(17,m,15,10,"tr",15),a.qZA(),a.TgZ(18,"tfoot"),a.TgZ(19,"tr"),a._UZ(20,"td"),a._UZ(21,"td"),a.TgZ(22,"td"),a._uU(23,"All Agents"),a.qZA(),a.TgZ(24,"td",16),a._uU(25),a.ALo(26,"number"),a.qZA(),a.TgZ(27,"td",16),a._uU(28),a.qZA(),a.TgZ(29,"td",17),a.YNc(30,_,3,0,"a",18),a.YNc(31,f,3,0,"a",19),a.qZA(),a.qZA(),a._UZ(32,"tfoot"),a.qZA(),a.qZA(),a.qZA()),2&e){var n=a.oxw();a.xp6(17),a.Q6J("ngForOf",n.agents),a.xp6(8),a.Oqu(a.xi3(26,5,n.agentDues.gold,"1.3")),a.xp6(3),a.Oqu(n.agentDues.lc),a.xp6(2),a.Q6J("ngIf",-1!=n.selectedAgentIndex),a.xp6(1),a.Q6J("ngIf",-1==n.selectedAgentIndex)}}function b(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td",16),a._uU(10),a.qZA(),a.TgZ(11,"td",16),a._uU(12),a.ALo(13,"number"),a.qZA(),a.TgZ(14,"td",16),a._uU(15),a.qZA(),a.TgZ(16,"td",16),a._uU(17),a.ALo(18,"number"),a.qZA(),a.TgZ(19,"td",16),a._uU(20),a.qZA(),a.qZA()),2&e){var n=t.$implicit,i=t.index;a.xp6(2),a.Oqu(i+1),a.xp6(2),a.Oqu(n.tr_date),a.xp6(2),a.Oqu(n.particulars),a.xp6(2),a.Oqu(n.reference),a.xp6(2),a.Oqu(n.billed_qty),a.xp6(2),a.Oqu(a.xi3(13,9,n.op_gold_due+n.billed_gold+n.received_gold,"1.3")),a.xp6(3),a.Oqu(n.op_lc_due+n.billed_lc+n.received_lc),a.xp6(2),a.Oqu(a.xi3(18,12,n.current_gold_due,"1.3")),a.xp6(3),a.Oqu(n.current_lc_due)}}function h(e,t){if(1&e&&(a.TgZ(0,"mat-card",22),a.TgZ(1,"mat-card-content"),a.TgZ(2,"button",23),a.TgZ(3,"mat-icon"),a._uU(4,"print"),a.qZA(),a.qZA(),a.TgZ(5,"div",24),a.TgZ(6,"h3"),a._uU(7),a.qZA(),a.TgZ(8,"table",25),a.TgZ(9,"thead"),a.TgZ(10,"tr"),a.TgZ(11,"th"),a._uU(12,"SL"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Date"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"Particulars"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"Reference"),a.qZA(),a.TgZ(19,"th"),a._uU(20,"Qty"),a.qZA(),a.TgZ(21,"th"),a._uU(22,"Gold"),a.qZA(),a.TgZ(23,"th"),a._uU(24,"LC"),a.qZA(),a.TgZ(25,"th"),a._uU(26,"Gold Balance"),a.qZA(),a.TgZ(27,"th"),a._uU(28,"LC Balance"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"tbody"),a.YNc(30,b,21,15,"tr",15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){var n=a.oxw();a.xp6(2),a.Q6J("useExistingCss",!0),a.xp6(5),a.hij("Receipt and Payment of ",n.selectedCustomer.cust_name,""),a.xp6(23),a.Q6J("ngForOf",n.customerReceiptPayment)}}function v(e,t){if(1&e&&(a.TgZ(0,"h3"),a._uU(1),a.qZA()),2&e){var n=a.oxw(2);a.xp6(1),a.hij("Customers of ",n.selectedAgent.agent_name,"")}}function U(e,t){if(1&e){var n=a.EpF();a.TgZ(0,"a",20),a.NdJ("click",function(){a.CHM(n);var e=a.oxw(),t=e.$implicit,i=e.index;return a.oxw(2).customerSelected(t,i)}),a.TgZ(1,"mat-icon"),a._uU(2,"gps_not_fixed"),a.qZA(),a.qZA()}}function y(e,t){1&e&&(a.TgZ(0,"a",21),a.TgZ(1,"mat-icon"),a._uU(2,"gps_fixed"),a.qZA(),a.qZA())}function C(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td",16),a._uU(10),a.ALo(11,"number"),a.qZA(),a.TgZ(12,"td",16),a._uU(13),a.qZA(),a.TgZ(14,"td",17),a.YNc(15,U,3,0,"a",18),a.YNc(16,y,3,0,"a",19),a.qZA(),a.qZA()),2&e){var n=t.$implicit,i=t.index,c=a.oxw(2);a.xp6(2),a.Oqu(i+1),a.xp6(2),a.Oqu(n.cust_id),a.xp6(2),a.Oqu(n.cust_name),a.xp6(2),a.Oqu(n.city),a.xp6(2),a.Oqu(a.xi3(11,8,n.gold_due,"1.3")),a.xp6(3),a.Oqu(n.lc_due),a.xp6(2),a.Q6J("ngIf",c.selectedCustomerIndex!=i),a.xp6(1),a.Q6J("ngIf",c.selectedCustomerIndex==i)}}function I(e,t){if(1&e&&(a.TgZ(0,"div",26),a.YNc(1,v,2,1,"h3",27),a.TgZ(2,"table",28),a.TgZ(3,"thead"),a.TgZ(4,"tr"),a.TgZ(5,"th"),a._uU(6,"SL"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Customer ID"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Name"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"City"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Gold"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"LC"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"tbody"),a.YNc(18,C,17,11,"tr",15),a.qZA(),a.qZA(),a.qZA()),2&e){var n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.selectedAgent),a.xp6(17),a.Q6J("ngForOf",n.customers)}}function O(e,t){if(1&e&&(a.TgZ(0,"div",29),a.TgZ(1,"div",30),a.TgZ(2,"div",31),a.TgZ(3,"div",32),a.TgZ(4,"pre"),a._uU(5),a.ALo(6,"json"),a.qZA(),a.qZA(),a._UZ(7,"div",33),a.TgZ(8,"div",32),a._uU(9,"3"),a.qZA(),a.TgZ(10,"div",32),a._uU(11,"4"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){var n=a.oxw();a.xp6(5),a.hij("                    selectedAgentIndex = ",a.lcZ(6,1,n.selectedAgentIndex),"\n                ")}}var w,k=[{path:"",component:(w=function(){function n(t,i){e(this,n),this.agentService=t,this.commonService=i,this.isProduction=r.N.production,this.selectedAgentIndex=-2,this.selectedCustomerIndex=-1}var i,c,u;return i=n,(c=[{key:"ngOnInit",value:function(){var e=this;this.agentService.getAgentsWithDues().subscribe(function(t){e.agents=t.data;var n=e.agents.reduce(function(e,t){return e+t.lc_due},0),i=e.agents.reduce(function(e,t){return e+t.gold_due},0);e.agentDues={gold:i,lc:n}})}},{key:"agentSelected",value:function(e,t){var n=this;this.selectedCustomerIndex=-1,-1==t?(this.selectedAgentIndex=-1,this.selectedAgent=null,this.agentService.getCustomersWithDues().subscribe(function(e){n.customers=e.data,n.customerReceiptPayment=null})):(this.selectedAgentIndex=t,this.selectedAgent=e,this.agentService.getCustomersWithDuesByAgent(e.agent_id).subscribe(function(e){n.customers=e.data,n.customerReceiptPayment=null}))}},{key:"customerSelected",value:function(e,t){var n=this;this.agentService.getCustomerReceiptPayment(e.cust_id).subscribe(function(i){n.customerReceiptPayment=i.data,n.selectedCustomer=e,n.selectedCustomerIndex=t})}}])&&t(i.prototype,c),u&&t(i,u),n}(),w.\u0275fac=function(e){return new(e||w)(a.Y36(d.R),a.Y36(g.v))},w.\u0275cmp=a.Xpm({type:w,selectors:[["app-agent-wise-customer-report"]],decls:28,vars:6,consts:[["id","agent-wise-customer-report-div"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","40",1,"child-1"],["id","agent-card",1,"example-card"],["mat-button","","color","primary","printSectionId","agent-list-table","styleSheetFile","assets/print_css/agent_wise_stock/style1.css","ngxPrint","",3,"useExistingCss"],["mat-button","","color","primary",3,"click"],["id","agent-list-table","class","table-responsive",4,"ngIf"],["fxFlex","60",1,"child-2"],["class","example-card","id","customer-receipt-payment-div",4,"ngIf"],[1,"example-card"],["mat-button","","color","primary","printSectionId","customer-list-table","styleSheetFile","assets/print_css/agent_wise_stock/style1.css","ngxPrint","",3,"useExistingCss"],["id","customer-list-table","class","table-responsive",4,"ngIf"],["id","developer-div",4,"ngIf"],["id","agent-list-table",1,"table-responsive"],["id","printable-agent-table",1,"table","table-bodered","table-condensed"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"text-right","noprint"],[3,"routerLink","click",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink","click"],[3,"routerLink"],["id","customer-receipt-payment-div",1,"example-card"],["mat-button","","color","primary","printSectionId","customer-receipt-payment-table","styleSheetFile","assets/print_css/agent_wise_stock/style1.css","ngxPrint","",3,"useExistingCss"],["id","customer-receipt-payment-table",1,"table-responsive"],["id","printable-receipt-payment-table",1,"table","table-bodered","table-condensed"],["id","customer-list-table",1,"table-responsive"],[4,"ngIf"],["id","printable-customer-dues-table",1,"table","table-bodered","table-condensed"],["id","developer-div"],[1,"outerContainer"],["fxLayout","row","fxLayoutGap","1px","fxLayout.sm","column",1,"container"],["fxLayoutAlign","center center"],["fxFlex","2 1 auto","fxLayoutAlign","center center"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"mat-card",3),a.TgZ(4,"mat-card-header"),a.TgZ(5,"mat-card-subtitle"),a.TgZ(6,"button",4),a.TgZ(7,"mat-icon"),a._uU(8,"print"),a.qZA(),a.qZA(),a.TgZ(9,"button",5),a.NdJ("click",function(){return t.commonService.exportToExcel("printable-agent-table","all_agents.xlsx",5)}),a.TgZ(10,"mat-icon"),a._uU(11,"cloud_download"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"mat-card-content"),a.YNc(13,T,33,8,"div",6),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",7),a.YNc(15,h,31,3,"mat-card",8),a.TgZ(16,"mat-card",9),a.TgZ(17,"mat-card-header"),a.TgZ(18,"mat-card-subtitle"),a.TgZ(19,"button",10),a.TgZ(20,"mat-icon"),a._uU(21,"print"),a.qZA(),a.qZA(),a.TgZ(22,"button",5),a.NdJ("click",function(){return t.commonService.exportToExcel("printable-customer-dues-table","customers.xlsx",6)}),a.TgZ(23,"mat-icon"),a._uU(24,"cloud_download"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"mat-card-content"),a.YNc(26,I,19,2,"div",11),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(27,O,12,3,"div",12)),2&e&&(a.xp6(6),a.Q6J("useExistingCss",!0),a.xp6(7),a.Q6J("ngIf",t.agents),a.xp6(2),a.Q6J("ngIf",t.customerReceiptPayment),a.xp6(4),a.Q6J("useExistingCss",!0),a.xp6(7),a.Q6J("ngIf",t.customers),a.xp6(1),a.Q6J("ngIf",!t.isProduction))},directives:[s.xw,s.yH,Z.a8,Z.dk,Z.$j,l.lW,p.I,A.Hw,Z.dn,u.O5,u.sg,o.yS,s.SQ,s.Wh],pipes:[u.JJ,u.Ts],styles:["@media print{.noprint[_ngcontent-%COMP%]{visibility:hidden}}#agent-wise-customer-report-div[_ngcontent-%COMP%]{min-height:100vh;width:100vw;padding-left:35px;padding-right:65px}#developer-div[_ngcontent-%COMP%]{padding-left:35px;padding-right:65px}#agent-card[_ngcontent-%COMP%]{background-color:#dfefcd;background-image:linear-gradient(#f5e7d6,#f3f3c4)}#customer-receipt-payment-div[_ngcontent-%COMP%]{background-color:#dfefcd;background-image:linear-gradient(#e9e7f8,#f3e3c7)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:unset}"]}),w)}],J=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.Bz.forChild(k)],o.Bz]}),t}(),S=c(86640),L=c(3679),P=c(49983),N=c(39577),Q=c(80291),Y=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[u.ez,J,Z.QW,S.A0,s.ae,A.Ps,L.u5,L.UX,P.c,l.ot,N.uH,Q.pm,p.K]]}),t}()}}])}();