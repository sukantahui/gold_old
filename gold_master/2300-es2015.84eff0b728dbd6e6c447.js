"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[2300],{72300:function(e,t,n){n.r(t),n.d(t,{GiniDailyTransactionModule:function(){return L}});var a=n(38583),i=n(63423),r=n(3679),o=n(37716),c=n(798),s=n(82820),l=n(5620),d=n(93738),g=n(35618),u=n(51095),p=n(95913),Z=n(76627),h=n(11494);const m=function(e,t){return{"gold-inward":e,"gold-outward":t}};function T(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"th",24),o._uU(2),o.qZA(),o.TgZ(3,"td",25),o._uU(4),o.qZA(),o.TgZ(5,"td",26),o._uU(6),o.qZA(),o.TgZ(7,"td",12),o._uU(8),o.qZA(),o.TgZ(9,"td",21),o._uU(10),o.qZA(),o.TgZ(11,"td",21),o._uU(12),o.qZA(),o.TgZ(13,"td",21),o._uU(14),o.qZA(),o.TgZ(15,"td",22),o._uU(16),o.ALo(17,"number"),o.qZA(),o.TgZ(18,"td",21),o._uU(19),o.qZA(),o.BQk()),2&e){const e=o.oxw(),t=e.index,n=e.$implicit;o.xp6(2),o.Oqu(t+1),o.xp6(2),o.Oqu(n.transaction_date),o.xp6(2),o.Oqu(n.particulars),o.xp6(2),o.Oqu(n.employee_id),o.xp6(2),o.Oqu(n.job_id),o.xp6(2),o.Oqu(n.reference),o.xp6(2),o.Oqu(n.opening_balance),o.xp6(1),o.Q6J("ngClass",o.WLB(13,m,n.transaction_type>0,n.transaction_type<0)),o.xp6(1),o.hij(" ",o.xi3(17,10,n.rm_value,"1.3")," "),o.xp6(3),o.Oqu(n.gold_balance)}}function q(e,t){1&e&&(o.TgZ(0,"tr"),o.YNc(1,T,20,16,"ng-container",23),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",!0))}const x=function(e,t){return{positive:e,negative:t}};function A(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"mat-card",1),o.TgZ(1,"div",8),o.TgZ(2,"button",9),o.TgZ(3,"mat-icon"),o._uU(4,"print"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5,"div",10),o.TgZ(6,"mat-card-content"),o.TgZ(7,"table",11),o.NdJ("matSortChange",function(t){return o.CHM(e),o.oxw().sortData(t)}),o.TgZ(8,"thead"),o.TgZ(9,"tr"),o.TgZ(10,"th",12),o._uU(11,"SL"),o.qZA(),o.TgZ(12,"th",13),o._uU(13,"Date"),o.qZA(),o.TgZ(14,"th",14),o._uU(15,"Particulars"),o.qZA(),o.TgZ(16,"th",15),o._uU(17,"Employee ID"),o.qZA(),o.TgZ(18,"th",16),o._uU(19,"Job ID"),o.qZA(),o.TgZ(20,"th",17),o._uU(21,"Reference"),o.qZA(),o.TgZ(22,"th",18),o._uU(23,"Opening"),o.qZA(),o.TgZ(24,"th",18),o._uU(25,"Value"),o.qZA(),o.TgZ(26,"th",12),o._uU(27,"Balance"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(28,"tbody"),o.YNc(29,q,2,1,"tr",19),o.qZA(),o.TgZ(30,"tfoot"),o.TgZ(31,"tr"),o.TgZ(32,"th",20),o._uU(33,"Total"),o.qZA(),o.TgZ(34,"th",21),o._uU(35),o.qZA(),o.TgZ(36,"th",21),o._uU(37),o.ALo(38,"number"),o.qZA(),o.TgZ(39,"th",21),o._uU(40),o.qZA(),o.TgZ(41,"th",21),o._uU(42),o.ALo(43,"number"),o.qZA(),o.TgZ(44,"th",21),o._uU(45),o.qZA(),o.TgZ(46,"th",22),o._uU(47),o.ALo(48,"number"),o.qZA(),o.TgZ(49,"th",22),o._uU(50),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.Q6J("printStyle",e.printDivStyle),o.xp6(27),o.Q6J("ngForOf",e.giniTransactions),o.xp6(6),o.Oqu(e.qtyTotal),o.xp6(2),o.Oqu(o.xi3(38,11,e.billedGoldTotal,"1.3")),o.xp6(3),o.Oqu(e.billedLcTotal),o.xp6(2),o.Oqu(o.xi3(43,14,e.goldReceivedTotal,"1.3")),o.xp6(3),o.Oqu(e.lcReceivedTotal),o.xp6(1),o.Q6J("ngClass",o.WLB(20,x,e.billedGoldTotal-e.goldReceivedTotal>0,e.billedGoldTotal-e.goldReceivedTotal<0)),o.xp6(1),o.Oqu(o.xi3(48,17,e.billedGoldTotal-e.goldReceivedTotal,"1.3")),o.xp6(2),o.Q6J("ngClass",o.WLB(23,x,e.billedLcTotal-e.lcReceivedTotal>0,e.billedLcTotal-e.lcReceivedTotal<0)),o.xp6(1),o.Oqu(e.billedLcTotal-e.lcReceivedTotal)}}function v(e,t){if(1&e&&(o.TgZ(0,"div",27),o.TgZ(1,"pre"),o._uU(2,"\n    "),o.qZA(),o.TgZ(3,"pre"),o._uU(4),o.ALo(5,"json"),o.ALo(6,"json"),o.qZA(),o.TgZ(7,"pre"),o._uU(8,"\n    "),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.AsE("        startDate = ",o.lcZ(5,2,e.startDate),"\n        endDate = ",o.lcZ(6,4,e.endDate),"\n    ")}}const _=[{path:"",component:(()=>{class e{constructor(e,t,n){this.agentWiseSalesReportService=e,this.reportService=t,this.commonService=n,this.isAllCustomers=!1,this.color="accent",this.printDivStyle={table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},th:{border:"1px  solid black",fontSize:"small"},td:{border:"1px  solid black",fontSize:"small"}};const i=new Date,o=(0,a.p6)(i,"yyyy-MM-dd","en");this.startDate=(0,a.p6)(i,"yyyy-MM-dd","en"),this.endDate=(0,a.p6)(i,"yyyy-MM-dd","en"),this.user=this.commonService.getCurrentUser(),console.log(this.user),this.dailyGiniTransactionForm=new r.cw({start_date:new r.NI(o),end_date:new r.NI(o),agent_id:new r.NI(null)})}ngOnInit(){this.agentWiseSalesReportService.getAgentsUpdateListener().subscribe(e=>{this.agentList=e})}startDateChangeEvent(e){this.startDate=(0,a.p6)(new Date(e.value),"yyyy-MM-dd","en")}endDateChangeEvent(e){this.endDate=(0,a.p6)(new Date(e.value),"yyyy-MM-dd","en")}dateInputEvent(e){}getGiniTransaction(){this.reportService.getGiiniTransactionByManager().subscribe(e=>{this.giniTransactions=e.data,console.log(this.giniTransactions)})}sortData(e){const t=this.agentWiseSale.slice();this.agentWiseSale=e.active&&""!==e.direction?t.sort((t,n)=>{const a="asc"===e.direction;switch(e.active){case"cust_name":return this.commonService.compare(t.cust_name,n.cust_name,a);case"qty":return this.commonService.compare(t.qty,n.qty,a);case"fine_gold":return this.commonService.compare(t.fine_gold,n.fine_gold,a);case"lc":return this.commonService.compare(t.lc,n.lc,a);case"gold_received":return this.commonService.compare(t.gold_received,n.gold_received,a);case"lc_received":return this.commonService.compare(t.lc_received,n.lc_received,a);default:return 0}}):t}isAllCustomersChanged(){this.isAllCustomers=!this.isAllCustomers,this.agentWiseSale=this.isAllCustomers?this.agentWiseSalemaster:this.agentWiseSalemaster.filter(e=>0!==e.qty||0!==e.gold_received||0!==e.lc_received)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.u),o.Y36(s.r),o.Y36(l.v))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-gini-daily-transaction"]],decls:13,vars:4,consts:[["id","agent-wise-sale-report-div"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["fxFlex","20",1,"example-button-row"],["type","button",1,"btn","btn-primary",3,"click"],["class","example-card",4,"ngIf"],["id","developer-div",4,"ngIf"],[2,"text-align","right"],["mat-button","","color","primary","printSectionId","printGiniTransactionReport","ngxPrint","",3,"printStyle"],["id","printGiniTransactionReport"],["matSort","",1,"table","table-bordered","table-responsive",3,"matSortChange"],[1,"text-center"],["mat-sort-header","cust_name",1,"text-center"],["mat-sort-header","qty",1,"text-center"],["mat-sort-header","fine_gold",1,"text-center"],["mat-sort-header","lc",1,"text-center"],["mat-sort-header","gold_received",1,"text-center"],["mat-sort-header","lc_received",1,"text-center"],[4,"ngFor","ngForOf"],["colspan","2",1,"text-center"],[1,"text-right"],[1,"text-right",3,"ngClass"],[4,"ngIf"],["scope","row"],[1,"text-left"],[1,"text-Left"],["id","developer-div"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-card",1),o.TgZ(2,"mat-card-header"),o._UZ(3,"div",2),o.TgZ(4,"mat-card-title"),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"mat-card-content"),o.TgZ(7,"div",3),o.TgZ(8,"div",4),o.TgZ(9,"button",5),o.NdJ("click",function(){return t.getGiniTransaction()}),o._uU(10,"Show records"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(11,A,51,26,"mat-card",6),o.qZA(),o.YNc(12,v,9,6,"div",7)),2&e&&(o.xp6(5),o.AsE("Daily Gini Transaction Report of ",t.user.userName,"(",t.user.userTypeName,")"),o.xp6(6),o.Q6J("ngIf",t.giniTransactions),o.xp6(1),o.Q6J("ngIf",!1))},directives:[d.a8,d.dk,d.kc,d.n5,d.dn,g.xw,g.Wh,g.SQ,g.yH,a.O5,u.lW,p.I,Z.Hw,h.YE,h.nU,a.sg,a.mk],pipes:[a.JJ,a.Ts],styles:["#agent-wise-sale-report-div[_ngcontent-%COMP%]{min-height:100vh;width:100vw;padding-left:35px;padding-right:65px}#developer-div[_ngcontent-%COMP%]{padding-left:35px;padding-right:65px}.positive[_ngcontent-%COMP%]{color:green}.negative[_ngcontent-%COMP%]{color:red}.gold-inward[_ngcontent-%COMP%]{background-color:#e6ffe6;color:green}.gold-outward[_ngcontent-%COMP%]{background-color:#ffe6e6;color:red}.gold-neutral[_ngcontent-%COMP%]{background-color:#f9f9f9;color:gray}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.Bz.forChild(_)],i.Bz]}),e})();var y=n(43220),b=n(98295),U=n(72458),w=n(49983),S=n(86640),O=n(45396),C=n(80291),D=n(65072);let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[a.ez,f,d.QW,y.FA,b.lN,r.u5,r.UX,U.XK,w.c,Z.Ps,u.ot,g.ae,S.A0,Z.Ps,h.JX,O.rP,C.pm,p.K,D.xu]]}),e})()}}]);