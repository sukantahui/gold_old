"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[9074],{69074:function(e,t,a){a.r(t),a.d(t,{ReceivedRawMaterialFromEmployeeModule:function(){return I}});var i=a(38583),r=a(63423),l=a(92340),o=a(3679),n=a(88259),s=a.n(n),c=a(37716),u=a(91841),g=a(57916),Z=a(5620),m=a(82820),d=a(86640),p=a(98295),f=a(49983),h=a(42542),A=a(65939);function v(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",21),c._uU(4),c.ALo(5,"number"),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.hij("",c.xi3(5,2,e.closingBalance,".3-3")," gm")}}function T(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",21),c._uU(4),c.ALo(5,"number"),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.hij("",c.xi3(5,2,e.closingBalance,".3-3")," gm")}}function q(e,t){if(1&e&&(c.TgZ(0,"div",12),c.TgZ(1,"h2"),c._uU(2,"Sender Material Balacne"),c.qZA(),c.TgZ(3,"table",13),c.TgZ(4,"thead"),c.TgZ(5,"tr"),c.TgZ(6,"th",14),c._uU(7,"Material Name"),c.qZA(),c.TgZ(8,"th",14),c._uU(9,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"tbody"),c.YNc(11,T,6,5,"tr",15),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(11),c.Q6J("ngForOf",e.senderMaterialBalances)}}function b(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"hr"),c.TgZ(2,"h2"),c._uU(3,"Balance after transaction"),c.qZA(),c.qZA())}function x(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",21),c._uU(4),c.ALo(5,"number"),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.hij("",c.xi3(5,2,e.closingBalance,".3-3")," gm")}}function _(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",21),c._uU(4),c.ALo(5,"number"),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.rawMaterialName),c.xp6(2),c.hij("",c.xi3(5,2,e.closingBalance,".3-3")," gm")}}function w(e,t){if(1&e&&(c.TgZ(0,"div",12),c.TgZ(1,"h2"),c._uU(2,"Sender Material Balacne"),c.qZA(),c.TgZ(3,"table",13),c.TgZ(4,"thead"),c.TgZ(5,"tr"),c.TgZ(6,"th",14),c._uU(7,"Material Name"),c.qZA(),c.TgZ(8,"th",14),c._uU(9,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"tbody"),c.YNc(11,_,6,5,"tr",15),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(11),c.Q6J("ngForOf",e.savedResponse.data.sender_material_balance)}}function y(e,t){if(1&e&&(c.TgZ(0,"div",11),c.TgZ(1,"div",12),c.TgZ(2,"h2"),c._uU(3,"Your Material Balance after change"),c.qZA(),c.TgZ(4,"table",13),c.TgZ(5,"thead"),c.TgZ(6,"tr"),c.TgZ(7,"th",14),c._uU(8,"Material Name"),c.qZA(),c.TgZ(9,"th",14),c._uU(10,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"tbody"),c.YNc(12,x,6,5,"tr",15),c.qZA(),c.qZA(),c.qZA(),c.YNc(13,w,12,1,"div",16),c.qZA()),2&e){const e=c.oxw();c.xp6(12),c.Q6J("ngForOf",e.savedResponse.data.receiver_material_balance),c.xp6(1),c.Q6J("ngIf",e.senderMaterialBalances)}}function M(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"mat-button-toggle-group",22),c.TgZ(1,"mat-button-toggle",23),c.NdJ("click",function(){return c.CHM(e),c.oxw().showDeveloperDiv=!0}),c._uU(2,"Show"),c.qZA(),c.TgZ(3,"mat-button-toggle",23),c.NdJ("click",function(){return c.CHM(e),c.oxw().showDeveloperDiv=!1}),c._uU(4,"Hide"),c.qZA(),c.qZA()}}function N(e,t){if(1&e&&(c.TgZ(0,"div",24),c.TgZ(1,"div",25),c.TgZ(2,"h2"),c._uU(3,"Developer Area"),c.qZA(),c.TgZ(4,"mat-tab-group",26),c.TgZ(5,"mat-tab",27),c.TgZ(6,"pre"),c._uU(7),c.ALo(8,"json"),c.qZA(),c.qZA(),c.TgZ(9,"mat-tab",28),c.TgZ(10,"pre"),c._uU(11),c.ALo(12,"json"),c.qZA(),c.qZA(),c.TgZ(13,"mat-tab",29),c.TgZ(14,"pre"),c._uU(15,"\n                "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(7),c.hij("                    materialSendingForm = ",c.lcZ(8,2,e.materialRecivingForm.value),"\n                "),c.xp6(4),c.hij("                    savedResponse = ",c.lcZ(12,4,e.savedResponse.data),"\n                ")}}const U=[{path:"",component:(()=>{class e{constructor(e,t,a,i,r){this.route=e,this.http=t,this.managerService=a,this.commonservice=i,this.reportService=r,this.isProduction=l.N.production,this.materialBalances=[],this.route.data.subscribe(e=>{this.user=e.materialResolver.user,this.resolverValues=e.materialResolver,this.employees=e.materialResolver.employees.data,this.projectDetails=e.materialResolver.projectDetails,this.rawMaterials=e.materialResolver.rawMaterials.data,this.materialBalances=e.materialResolver.materialBalances.data,this.selectableEmployees=this.employees.filter(e=>this.projectDetails.employeeToManagerMaterial.employees.find(t=>t===e.employeeId)),this.selectableMaterials=this.rawMaterials.filter(e=>this.projectDetails.employeeToManagerMaterial.materialsToSend.find(t=>t===e.rmID))}),this.materialRecivingForm=new o.cw({outward_employee_id:new o.NI(null,[o.kI.required]),inward_employee_id:new o.NI(this.user.emp_id,[o.kI.required]),rm_id:new o.NI(null,[o.kI.required]),value:new o.NI(0,[o.kI.required])})}ngOnInit(){}saveMaterialTransfer(){s().fire({title:"Dal Creation",text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Convert",cancelButtonText:"No!",background:"rgba(38,39,47,0.95)"}).then(e=>{!e.value||this.managerService.saveMaterialFromEmployee(this.materialRecivingForm.value).subscribe(e=>{!0===e.status&&(s().fire({timer:2e3,title:"Saved",text:"Transferred successfully",icon:"success",showCancelButton:!1,confirmButtonColor:"#1661a0",cancelButtonColor:"#d33",background:"rgba(38,39,47,0.95)"}),this.savedResponse=e)},e=>{s().fire({title:e.message,text:"Transfer unsuccessful",icon:"error",showConfirmButton:!1,background:"rgba(38,39,47,0.95)",timer:3e3})})})}onEmployeeChange(){const e=this.materialRecivingForm.get("outward_employee_id").value;e&&this.reportService.getMaterialBalanceByEmployee(e).subscribe(e=>{this.senderMaterialBalances=e.data})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(r.gz),c.Y36(u.eN),c.Y36(g.b),c.Y36(Z.v),c.Y36(m.r))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-received-raw-material-from-employee"]],decls:33,vars:10,consts:[[1,"d-flex","flex-row",2,"min-height","80vh"],[1,"p-2","col-4"],[3,"formGroup"],["bindLabel","employeeName","bindValue","employeeId","formControlName","outward_employee_id","placeholder","Reciving from",1,"custom",3,"items","click"],["bindLabel","rmName","bindValue","rmID","formControlName","rm_id","placeholder","Select Material",1,"custom",3,"items"],[1,"example-full-width"],["type","number","matInput","","formControlName","value","placeholder","Material value",1,"text-right"],[1,"p-2","bd-highlight"],[1,"example-button-row"],["mat-button","","color","primary",1,"text-right",3,"disabled","click"],[1,"p-2","col-8","d-flex","flex-column"],[1,"p-2","col-8","d-flex"],[1,"p-2","col-6"],[1,"table","table-striped","col-xl-12","col-lg-12","col-xs-12"],["scope","col"],[4,"ngFor","ngForOf"],["class","p-2 col-6",4,"ngIf"],[4,"ngIf"],["class","p-2 col-8 d-flex",4,"ngIf"],["name","fontStyle","aria-label","Font Style",4,"ngIf"],["id","developer-div",4,"ngIf"],[1,"text-right"],["name","fontStyle","aria-label","Font Style"],[3,"click"],["id","developer-div"],[1,"outerContainer"],["mat-align-tabs","center","backgroundColor","accent"],["label","Sec 1"],["label","Sec 2"],["label","Sec 3"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"form",2),c.TgZ(3,"ng-select",3),c.NdJ("click",function(){return t.onEmployeeChange()}),c.qZA(),c._UZ(4,"ng-select",4),c.TgZ(5,"div"),c.TgZ(6,"mat-form-field",5),c.TgZ(7,"mat-label"),c._uU(8,"Enter Material Value"),c.qZA(),c._UZ(9,"input",6),c.qZA(),c.qZA(),c.TgZ(10,"div",7),c.TgZ(11,"div",8),c.TgZ(12,"button",9),c.NdJ("click",function(){return t.saveMaterialTransfer()}),c._uU(13,"Save Record"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",10),c.TgZ(15,"div",11),c.TgZ(16,"div",12),c.TgZ(17,"h2"),c._uU(18,"Your Material Balance"),c.qZA(),c.TgZ(19,"table",13),c.TgZ(20,"thead"),c.TgZ(21,"tr"),c.TgZ(22,"th",14),c._uU(23,"Material Name"),c.qZA(),c.TgZ(24,"th",14),c._uU(25,"Value"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"tbody"),c.YNc(27,v,6,5,"tr",15),c.qZA(),c.qZA(),c.qZA(),c.YNc(28,q,12,1,"div",16),c.qZA(),c.YNc(29,b,4,0,"div",17),c.YNc(30,y,14,2,"div",18),c.qZA(),c.qZA(),c.YNc(31,M,5,0,"mat-button-toggle-group",19),c.YNc(32,N,16,6,"div",20)),2&e&&(c.xp6(2),c.Q6J("formGroup",t.materialRecivingForm),c.xp6(1),c.Q6J("items",t.selectableEmployees),c.xp6(1),c.Q6J("items",t.selectableMaterials),c.xp6(8),c.Q6J("disabled",!t.materialRecivingForm.valid||t.materialRecivingForm.pristine),c.xp6(15),c.Q6J("ngForOf",t.materialBalances),c.xp6(1),c.Q6J("ngIf",t.senderMaterialBalances),c.xp6(1),c.Q6J("ngIf",t.savedResponse),c.xp6(1),c.Q6J("ngIf",t.savedResponse),c.xp6(1),c.Q6J("ngIf",!t.isProduction),c.xp6(1),c.Q6J("ngIf",t.showDeveloperDiv&&!t.isProduction))},directives:[o._Y,o.JL,o.sg,d.w9,o.JJ,o.u,p.KE,p.hX,o.wV,f.Nt,o.Fj,i.sg,i.O5,h.A9,h.Yi,A.SP,A.uX],pipes:[i.JJ,i.Ts],styles:[""]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Bz.forChild(U)],r.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,B,o.UX,h.vV,A.Nh,d.A0,f.c,h.vV]]}),e})()}}]);